---
# vim:set ts=2 sts=2 sw=2 et:
layout: slacklog
title: vim-jp.slack.com log - &#35javascript - 2020年03月
---
<div>
<h2><a href='{{ post.url }}'>{{ page.title }}</a></h2>

<p>参加方法、各チャンネルの概要等は以下を参照して下さい。<br>
<a href='/docs/chat.html'>vim-jpのチャットルームについて</a></p>

{% raw %}
<pre>thinca 9日 10:49:11: 依存しているパッケージが要求する最小 Node バージョンが上がったら自分のパッケージの semver の major も上げないとダメだよねぇ</pre>
<pre>kuu 9日 11:00:18: 自分のパッケージのAPIが壊れないのであれば上げなくてもいい気もするけど…原文にはこのへん曖昧に書かれてるからよくわからない</pre>
<pre>kuu 9日 11:01:46: そのパッケージを更新した時点で上げないといけないか</pre>
<pre>thinca 9日 11:04:45: API は壊れなくても古いバージョンの Node で動かなくなるので互換性がないってことになるんですよね</pre>
<pre>raa0121 9日 11:10:18: パッケージの依存の書き方に依るんじゃないですかね</pre>
<pre>tsuyoshi_cho 9日 11:11:59: そういえば、今のバージョン依存関係処理(言語のパッケージマネージャ)って、ベースツールのバージョンとの互換性について、あんまりちゃんとマネージしてるのを聞かない(知らないだけかもしれない)ですねえ...開発環境だと下は上以上に固定されるから、あまりトラブらないのかな?</pre>
<pre>kuu 9日 11:26:15: チラ見した限りではGoとRustとPythonは本体のバージョン指定する仕組み持ってますね</pre>
<pre>thinca 9日 11:28:45: package.json にも node のバージョン書ける</pre>
<pre>kuu 9日 11:29:42: cocが何も書いてないだけか、観測数1で無いと判断するのはよくないな</pre>
<pre>tsuyoshi_cho 9日 11:47:20: あー、ないわけじゃないのか...ならわりと大丈夫なのかな...</pre>
<pre>raa0121 11日 23:32:40: どなたか、openapi3 の typescript-fetch で生成したライブラリを使ってアプリを組んだことある人居ませんか？</pre>
<pre>raa0121 11日 23:35:26: <https://github.com/raa0121/SeikaCenter.ts>
このライブラリをVueNative で扱いたいんですが…</pre>
<pre>heavenshell 11日 23:38:10: typescript-angular なら…。</pre>
<pre>raa0121 11日 23:40:09: ```export function FETCH_AVATER ({commit, dispatch}) {
  commit('FETCHING_AVATER');
  userObj = AsyncStorage.getItem('userObj')
  return new AvatorApi({basepath: userObj.server, username: userObj.username, password: userObj.password})             
    .getAvator2()
    .then(avators =&gt; {
      data = AvatorToJSON(avators);
      console.warn(data);
      return commit('SET_AVATORS', { data }); 
    })  
    .catch((error) =&gt; {
      console.warn(error);
    }); 
}```
こんな感じで、vuex の actions.ts でやろうとしてるんですが、うまく行かなくて…</pre>
<pre>heavenshell 11日 23:42:30: vue に組み込まなければ普通に動く感じです？</pre>
<pre>raa0121 11日 23:43:53: 試したい場合は、tcs でやればいい感じですかね…？
typescript も javascript もあんまり開発したことなくて…</pre>
<pre>raa0121 11日 23:44:47: tsc か</pre>
<pre>raa0121 11日 23:47:38: あ、このプロジェクト、typescript に依存してない…</pre>
<pre>heavenshell 11日 23:51:35: なんか適当に sample.ts みたいなのをつくつて
```import { AvatorApi } from './apis/AvatorApi'

const api = new AvatorApi({...})
console.log(api.getAvator2())```
みたいなのして ts-node sample.ts みたいなので実行ですかね。</pre>
<pre>heavenshell 11日 23:52:40: ts-node は 適当に npm とか yarn で突っ込む感じで。tsc でビルドでも良いですけど、雑に確認するときは便利ですよ(遅いけど)</pre>
<pre>raa0121 11日 23:53:18: ts-node 良さそう…！ ありがとうございます</pre>
<pre>heavenshell 11日 23:54:52: <https://blog.5thfloor.co.jp/2019/06/26/webapp-development-with-openapi-and-typescript/>
雑にググったら nuxt + openapi + typescript-fetch みたいです。</pre>
<pre>raa0121 11日 23:56:31: 見覚えのあるタイトル…</pre>
<pre>raa0121 12日 00:13:02: 確かに、ts-node が便利すぎる</pre>
<pre>heavenshell 12日 00:17:31: 雑に quickrun と組み合わせると良いと思います！</pre>
<pre>kuu 12日 01:04:17: なにもわからない <https://susisu.hatenablog.com/entry/2020/03/10/125000|https://susisu.hatenablog.com/entry/2020/03/10/125000></pre>
<pre>kuu 12日 01:05:10: どういう思考回路してたら型で計算しようなどと思いつくんだろうか</pre>
<pre>raa0121 12日 01:07:52: 頭おかしいw</pre>
<pre>heavenshell 12日 01:11:05: 世の中すごい人ばっかりだ。</pre>
<pre>raa0121 12日 01:11:41: うーん、configuration の生成に難儀してる…</pre>
<pre>raa0121 12日 01:22:19: <https://github.com/OpenAPITools/openapi-generator/issues/3049>
ｳｯ…</pre>
<pre>heavenshell 12日 01:24:42: oh…</pre>
<pre>heavenshell 12日 01:27:00: <https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/typescript-axios.md>
axios にしてみるとか。</pre>
<pre>raa0121 12日 02:00:46: ReactNativeで動くかどうか…</pre>
<pre>raa0121 12日 02:09:48: 動きそう</pre>
<pre>ゴリラ 12日 07:15:27: 型ってチューリング完全なのか</pre>
<pre>ゴリラ 12日 07:15:37: 記事さらっと読んだけどナニモワカラナイ</pre>
<pre>ゴリラ 12日 07:15:46: とりあえずヤベェなのは分かった</pre>
<pre>mattn 12日 09:43:18: 超 experimental だろうけど <https://github.com/ameerthehacker/ts-native></pre>
<pre>hrsh7th 12日 09:56:46: _Go に変換するほうがまだいけそうな…_</pre>
<pre>yy_yank 12日 10:10:44: typescript-fetch使っております(VueNativeでもReactNativeでもないですが)</pre>
<pre>mattn 12日 10:12:03: なぜ初めから Rust (おっと言ってはいけない</pre>
<pre>tsuyoshi_cho 12日 10:12:51: Prabirさんが反応しとる...</pre>
<pre>raa0121 12日 11:04:04: ```import {
  AvatorApi,
  Configuration,
  ConfigurationParameters,
} from "SeikaCenter.ts";

const config:ConfigurationParameters = {
  basePath: "<https://voiro-api.raa0121.info>",
  username: "raa0121",
  password: "xxxxxxxx",
}
const configuration = new Configuration(config)
new AvatorApi(configuration)
  .getAvator2()
  .then(avators =&gt; {
    avators.data.forEach(elem =&gt; console.log(elem.name))
  })```
axios にしたら、とりあえず ts-node でこれが動きました！</pre>
<pre>kuu 12日 11:14:36: そういやC++のテンプレートもチューリング完全らしいですね</pre>
<pre>mattn 12日 11:15:56: C++ テンプレートでなんかやる系だと kazuho さんの FizzBuzz も面白かったですね。</pre>
<pre>mattn 12日 11:15:59: <https://labs.cybozu.co.jp/blog/kazuho/archives/2008/04/fizzbuzz_cpp_template.php></pre>
<pre>mattn 12日 11:16:11: コンパイル時 FizzBuzz</pre>
<pre>raa0121 12日 11:42:46: ```While trying to resolve module `../../node_modules/SeikaCenter.ts` from file `/home/node/app/src/store/actions.ts`, the package `/home/node/app/node_modules/SeikaCenter.ts/package.json` was successfully found. However, this package itself specifies a `main` module field that could not be resolved (`/home/node/app/node_modules/SeikaCenter.ts/dist/index.js````
辛い…</pre>
<pre>raa0121 12日 11:51:21: 多分、yarn install のタイミングで、dist/index.js が生成されないのが問題かな…</pre>
<pre>mattn 18日 12:53:18: <https://twitter.com/mizchi/status/1239832052247064577></pre>
<pre>mattn 18日 12:53:24: 本日のわろす</pre>
<pre>raa0121 18日 12:58:24: <https://twitter.com/teppeis/status/1239890409859342336></pre>
<pre>heavenshell 18日 13:04:30: ふぁーー</pre>
<pre>tsuyoshi_cho 18日 13:05:02: あらら...</pre>
<pre>takets 18日 13:05:17: えぇ…</pre>
<pre>mattn 18日 13:21:45: うひー(わろすではなかった)</pre>
<pre>yy_yank 18日 14:45:35: oh…</pre>
<pre>tsuyoshi_cho 19日 10:19:10: <https://qiita.com/yumetodo/items/eaf3b97aeae3d8c4a07e>
つらたん...
せめてブラウザベンダーとbabelは「後援だよ」宣言だけでもしたら、人があつまったかもしれないのに...</pre>
<pre>mattn 19日 10:22:05: 罪文読んできたけどつらいな。</pre>
<pre>ゴリラ 19日 11:25:52: 悲しい</pre>
<pre>mattn 19日 13:37:07: 最近だと lightbox みたいな事やるのどれがいいんですかね。 (without jQuery)</pre>
<pre>tyru 19日 13:38:29: フレームワークによるような。。。（jQuery は偉大だった）</pre>
<pre>mattn 19日 13:39:46: ね (偉大だった)</pre>
<pre>heavenshell 19日 13:52:48: <https://photoswipe.com/>
とかいかがでしょう？</pre>
<pre>mattn 19日 13:53:55: それですよねー。さっき見てました。内製の自作ダッシュボードなんですが今の見た目がモーダルポップアップみたいな感じなので、似たのがなければそれにしようかな、とか思ってる所です。</pre>
<pre>raa0121 21日 20:36:38: Vuex での ajax がわからない…</pre>
<pre>ycino 21日 20:38:08: Vuexでのajax、componentからajaxで取った値をstoreに普通にぶっこむとかじゃなくてです？（Vuexでの非同期周りの取り扱いをもう余り覚えていないけど・・・）</pre>
<pre>ycino 21日 20:38:50: そうか、Vuexってmutationとかあるからここでやるんでしたっけ</pre>
<pre>ycino 21日 20:45:25: ものすごい適当言ってた
async functionなActionの中でAPIコールして、結果をMutationにコミットしてstoreが変化するのか</pre>
<pre>ycino 21日 20:46:03: asyncなActionの中でaxiosとかでAPIコールして結果をコミットすればよさそうな・・・？</pre>
<pre>mattn 21日 21:50:00: axios がまだ一般的なんすかね。</pre>
<pre>heavenshell 21日 21:50:46: そっすね。fetch 足りないのあるので… axios の方が気に入ってます。</pre>
<pre>mattn 21日 22:05:12: axios なんかこの前言ってたやつだったりしませんっけ。 post("").catch(e =&gt; {}) なやつ。</pre>
<pre>heavenshell 21日 22:09:42: です。 <https://github.com/axios/axios#handling-errors></pre>
<pre>heavenshell 21日 22:11:45: ```try {
  await <http://axios.post|axios.post>()
} catch (error) {
  if (error.response.status === 400) {}
}```
みたいにも書きます。</pre>
<pre>mattn 21日 22:16:29: validateStatus 設定すると 400 とかも通せるぽいですね。</pre>
<pre>mattn 21日 22:56:47: サーバからは気にせず 404 とか返して validateState: で制御すると先日皆で言ってたモヤモヤは無くせそう。</pre>
<pre>heavenshell 21日 23:11:35: そうですねw 若干潔癖なので chrome のコンソールが赤くなるのは嫌ですがw</pre>
<pre>raa0121 24日 22:28:32: <https://gist.github.com/raa0121/20433886d33757737ab518886145fc3e>
vuex の action で、API 叩いてるけど、console.warn にデータが出ない…</pre>
<pre>ycino 24日 22:55:10: なんとなくよさそうですけどねー
setTimeoutの中自体は実行されてます？</pre>
<pre>raa0121 24日 22:59:35: setTimeout の先頭に、 `console.warn('hi');` 書いても、出ないから、中自体実行されてない雰囲気が…</pre>
<pre>raa0121 24日 23:02:46: うーん…</pre>
<pre>heavenshell 24日 23:03:10: どの setTimeout ですか？</pre>
<pre>ycino 24日 23:03:11: async awaitの方が可読性高いと思うんですけどつかわないんです？</pre>
<pre>heavenshell 24日 23:03:28: 多分呼びもとで pending になってそう。</pre>
<pre>raa0121 24日 23:04:53: `FETCH_AVATOR` です</pre>
<pre>heavenshell 24日 23:06:08: FETCH_AVATER 呼んでる方でちゃんと promise 処理できてます？</pre>
<pre>heavenshell 24日 23:06:27: 自分も多分 async / await 使うのお勧めします。可読性上がる。</pre>
<pre>lambdalisue 24日 23:06:35: エラーがどっか行っちゃってる系かな</pre>
<pre>heavenshell 24日 23:07:58: ```FETCH_AVATER({引数}).then().catch(e =&gt; console.log(e))```
とかかかな？</pre>
<pre>lambdalisue 24日 23:08:11: Promise に渡す関数は即時実行だから `FETCH_AVATER` 関数の `setTimeout` の先頭に `console.warn('hi');` 書いたら、出そうなもんだけど...</pre>
<pre>heavenshell 24日 23:08:52: vuex よく知らないけど呼び出すときって redux みたいに dispatch する系なんですかね？</pre>
<pre>lambdalisue 24日 23:09:06: ```export function FETCH_AVATER ({commit, state}) {
  commit('FETCHING_AVATER');
  // @ts-ignore
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      console.log("HOGE");
      resolve("BAR");
    }, 1000);
  })
}```</pre>
<pre>lambdalisue 24日 23:09:17: まず、ここから始めると良いかも</pre>
<pre>ycino 24日 23:09:39: vuexはactionで非同期実行して取った値をmutationに渡して、その中でstoreを変化させるみたいですね</pre>
<pre>lambdalisue 24日 23:09:39: &gt;  vuex よく知らないけど呼び出すときって redux みたいに dispatch する系なんですかね？
ですね</pre>
<pre>lambdalisue 24日 23:10:03: `$store.dispatch("FETCHING_AVATER").then(...).catch(...);` してるはず</pre>
<pre>ycino 24日 23:10:43: 多分この場合FETCH_AVATORがthunk action的なのになってる</pre>
<pre>lambdalisue 24日 23:10:54: （普段ラッパー経由だから↑が正しいか自信はない）</pre>
<pre>raa0121 24日 23:11:01: dispatch 側で、then してなかった…</pre>
<pre>lambdalisue 24日 23:11:19: `await $store.dispatch(...)` って書き方の方が可読性がいいですよー</pre>
<pre>ycino 24日 23:11:42: async awaitしないともうPromise書ける気がしない</pre>
<pre>heavenshell 24日 23:11:44: then と catch 書かなくて try - catch でかけるからお勧め！！</pre>
<pre>ycino 24日 23:12:00: Promise.allとか書くとき忘れてて困るんですけど・・・</pre>
<pre>lambdalisue 24日 23:12:14: then/catch も使うッチャ使う</pre>
<pre>heavenshell 24日 23:12:37: この前 久々に生 Promise 書いて混乱しますた…。</pre>
<pre>lambdalisue 24日 23:13:09: ```export function state(
  p: Promise&lt;any&gt;,
)Promise&lt;'pending' | 'fulfilled' | 'rejected'&gt; {
  const t = {};
  return Promise.race([p, t]).then(
    (v: any) =&gt; (v === t ? 'pending' : 'fulfilled'),
    () =&gt; 'rejected',
  ) as Promise&lt;'pending' | 'fulfilled' | 'rejected'&gt;;
}```</pre>
<pre>lambdalisue 24日 23:13:24: とかで `then()` 使いました</pre>
<pre>raa0121 24日 23:14:43: いくらか出すので、どなたか今週末にペアプロしてもらえたりしません？</pre>
<pre>lambdalisue 24日 23:15:07: busy....</pre>
<pre>ycino 24日 23:15:28: お金とかは全然いらないんですけど、Vueやったのがもう何年前か・・・</pre>
<pre>heavenshell 24日 23:15:52: vue 書いたことがないのでペアプロできる自信がないですw React ならいくらでもw</pre>
<pre>ycino 24日 23:18:37: ペアプロ自体は最近VSCodeで共有したりして楽ですよね、vim-jpのDiscordに繋いで通話待機で放置しながらディスプレイ映しとけばチャットで教えて貰えるとかありそう</pre>
<pre>ycino 24日 23:18:54: vimでVSCodeのリモート拡張来てくれないかな・・・</pre>
<pre>thinca 24日 23:19:05: ないなら作るしかない</pre>
<pre>lambdalisue 24日 23:19:25: さっきのコードでアドバイスするなら

• async/await 使った方がいいです
• `setTimeout` で数秒待つっての多いので sleep 関数サクッと書いちゃった方が可読性良さそう
• ts 使ってるなら vuex-type-helper とか使うと定義が楽になります
• action なのに state いじってるところあるので、それはコミットしましょう</pre>
<pre>kuu 24日 23:19:47: vim listen 方法</pre>
<pre>ycino 24日 23:20:01: あ、これReactNativeなんだ</pre>
<pre>lambdalisue 24日 23:20:02: あと `from "SeikaCenter.ts"` となってるのは `from "SeikaCenter"` のがいいとか</pre>
<pre>kuu 24日 23:20:02: お、ch_listenを説得するチャンスか？</pre>
<pre>ycino 24日 23:20:08: デバッグ大変そう・・・</pre>
<pre>ycino 24日 23:20:28: Vue(ReactNative)</pre>
<pre>lambdalisue 24日 23:20:35: sorena</pre>
<pre>hrsh7th 24日 23:20:36: _カーソル 2 個目を表示して同期するだけならなんとかなりそう。。。？_</pre>
<pre>raa0121 24日 23:20:39: ありがとうございます
JS自体初心者なので、async/await がんばります</pre>
<pre>raa0121 24日 23:21:20: パッケージ名が SeikaCenter.ts なので、 from は今のままでも問題は無いはずですね…</pre>
<pre>raa0121 24日 23:21:45: VueNative は ReactNative のラッパーなんです… なかなかですよね</pre>
<pre>thinca 24日 23:21:55: ch_listen なくても外部ツールを作ればいける</pre>
<pre>ycino 24日 23:22:02: `.ts` ファイルなら付けないのが一般的って感じですね</pre>
<pre>ycino 24日 23:22:29: あ、しかもexpo使ってるんですね</pre>
<pre>kuu 24日 23:22:43: 同期複雑そうだし中央サーバー立てるのが楽だろうなあ、たしかに</pre>
<pre>raa0121 24日 23:22:52: <https://github.com/raa0121/SeikaCenter.ts></pre>
<pre>raa0121 24日 23:22:59: 使ってるライブラリです</pre>
<pre>ycino 24日 23:23:24: あー、ライブラリ名に.ts入ってたんですね
なるほど</pre>
<pre>ycino 24日 23:24:07: importするところで.ts付くのやっぱり違和感があるんで、パッケージ名変えちゃうのも手かも</pre>
<pre>lambdalisue 24日 23:24:26: なるほど孔明wwww</pre>
<pre>raa0121 24日 23:25:10: vim plugin にも、hoge.vim 系あるし、いいかなって感じでした…</pre>
<pre>heavenshell 24日 23:25:25: w</pre>
<pre>thinca 24日 23:25:28: リポジトリ名 != パッケージ名</pre>
<pre>ycino 24日 23:25:53: `ts-foo` が多いのかなぁ</pre>
<pre>heavenshell 24日 23:26:00: 自分もこの前 push したのはリポジトリ名 != ライブラリ名 すね。</pre>
<pre>heavenshell 24日 23:26:06: まさに ts-foo 系。</pre>
<pre>hrsh7th 24日 23:26:09: npm にある前提だと 結局配布されるのは javascript なので `typed-***` とかが無難かもしれないですね。</pre>
<pre>hrsh7th 24日 23:26:51: _今回のケースだと、単純に .ts 削るだけが一番イメージどおりそうではありますｗ_</pre>
<pre>heavenshell 24日 23:27:17: npm も変えるのはなかなか勇気がいりそうですねw</pre>
<pre>ycino 24日 23:27:35: download数を見て爆破かなぁ</pre>
<pre>heavenshell 24日 23:28:13: 蘇る left-pad 事件</pre>
<pre>raa0121 24日 23:28:18: みなさん、色々ありがとうございます。今日はいつもより眠気が早めに来たので、落ちます…</pre>
<pre>raa0121 24日 23:28:34: JS界隈、知識がなさすぎるので、勉強しないとなぁ</pre>
<pre>heavenshell 24日 23:28:49: 少しずつで良いと思いますよ！</pre>
<pre>raa0121 24日 23:28:52: コピペプログラミングじゃ前に進めない…</pre>
<pre>ycino 24日 23:29:03: フロント、追いかけるの大変だけど慣れればどうにかなるんで頑張ってください</pre>
<pre>ycino 24日 23:29:24: いきなりvue-native + expoやってるみたいなのがハードル高い感も</pre>
<pre>heavenshell 24日 23:29:40: + TS</pre>
<pre>heavenshell 24日 23:29:46: かなり難易度上がりそう。</pre>
<pre>hrsh7th 24日 23:29:46: JS は事前知識要求しすぎですよね。。。</pre>
<pre>ycino 24日 23:29:55: 確かに、色んな設定が全部混ざる系ですね</pre>
<pre>kuu 24日 23:30:29: 処理系と環境が分離されているので、環境固有のあれこれが混ざってきて急に難しくなるという印象</pre>
<pre>raa0121 24日 23:30:35: expo、macOS なしにテストアプリがデプロイできるので、選択したので…</pre>
<pre>heavenshell 24日 23:30:35: でも最初から TS 選択していてえらい！</pre>
<pre>kuu 24日 23:30:40: 言語自体は簡単な方</pre>
<pre>ycino 24日 23:31:00: TS選ぶの自体は大正解ですね、Vue（Vuex）と相性良くないのがあれですけど・・・</pre>
<pre>raa0121 24日 23:31:03: 生JS書きたくなかったのはあります…</pre>
<pre>heavenshell 24日 23:31:27: store 系はどうしても型パズルがなぁ。</pre>
<pre>heavenshell 24日 23:31:48: 生の Redux もしばらく書いてないや。ヘルパーないともうかけない…。</pre>
<pre>ycino 24日 23:31:53: reduxは慣れたらどうにかなりますけどねー
あとは今ならredux-toolkitでボイラープレート減らす</pre>
<pre>heavenshell 24日 23:31:58: いやかけるけどメンテナンスしたくない。</pre>
<pre>ycino 24日 23:32:21: reduxはもうredux-toolkitにぶん投げたい気持ちになってます</pre>
<pre>ycino 24日 23:32:44: まぁ生でも書けはするんですけど</pre>
<pre>heavenshell 24日 23:33:04: 自分は redux-aggregate ですねー。</pre>
<pre>hrsh7th 24日 23:33:07: はやく Proxy が来てほしい。Proxy さえくれば面倒なことを何も考えずにきれいに動く redux みたいなことができる。。。</pre>
<pre>hrsh7th 24日 23:33:16: つまり IE11…</pre>
<pre>ycino 24日 23:33:54: aggregate使ったことない、これ安全に型つく感じです？</pre>
<pre>ycino 24日 23:33:58: Proxyも分からない・・・</pre>
<pre>heavenshell 24日 23:34:05: 付きます。</pre>
<pre>heavenshell 24日 23:34:10: 自分も Proxy わからない。</pre>
<pre>hrsh7th 24日 23:35:10: const state = Proxy.revocable(state, …)
state.id++;

とかやると、state.id が ++ されたことを Proxy の第２引数に与えたハンドラで検出できるので</pre>
<pre>hrsh7th 24日 23:35:40: state.isFetching = true;
dispatch(STATE_IS_FETCHING)

みたいにいちいち教えてあげる必要がなくなります。。。</pre>
<pre>tsuyoshi_cho 24日 23:37:53: 強い</pre>
<pre>heavenshell 24日 23:38:03: <https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Proxy></pre>
<pre>heavenshell 24日 23:38:05: へーー。</pre>
<pre>heavenshell 24日 23:38:58: ブラウザ実装状況 IE が完全に死んでてワロタワロタ…</pre>
<pre>tsuyoshi_cho 24日 23:39:00: 代理オブジェクトが受けて、本来のオブジェクトに回すまえにハンドラをキックできると...(でいいかな)</pre>
<pre>tsuyoshi_cho 24日 23:39:27: IEはあるタイミングで機能追加止ったといえそうだし、しょうがないかな...</pre>
<pre>ycino 24日 23:39:42: 便利そうだけど、自分が使うとどこでhookされたか訳分からないことになって爆発しそう</pre>
<pre>ycino 24日 23:40:00: 可読性高く書けるのかな、いい感じのサンプルが見てみたい</pre>
<pre>tsuyoshi_cho 24日 23:40:13: あとproxyになってるオブジェクトをメタ操作して加工しようとするとちょっとマズくなるかな?(ちゃんとガードがないと)</pre>
<pre>heavenshell 24日 23:40:38: immutable なライブラリ系あったほうがいいってことです？</pre>
<pre>hrsh7th 24日 23:41:00: RootState を Proxy にして、色んな所で代入しても再レンダリングをキックできたり。夢が広がりますね。</pre>
<pre>ycino 24日 23:41:29: RootStateをProxyしちゃうのか、なるほど</pre>
<pre>ycino 24日 23:42:15: コンポーネント側で定義したハンドラをRootStateに追加していく感じです？</pre>
<pre>hrsh7th 24日 23:42:34: _実際は「これから書き込み処理開始！」って時に Proxy を作る気はしますが、まあそういうこともできるということです。_</pre>
<pre>ycino 24日 23:44:01: Thunkとかで毎回SuccessとFailureをdispatchするの面倒ですよね・・・</pre>
<pre>hrsh7th 24日 23:45:04: `export { read, write } = create&lt;RootState&gt;(initialState);` 自分がつくるならこういう I/F のライブラリにしますが、そのうちでてくるとは思います。
最近 Proxy で超便利！みたいなライブラリが少しずつでてきている気がするので。</pre>
<pre>ycino 24日 23:45:31: Proxy、全然観測出来てなかった</pre>
<pre>heavenshell 24日 23:45:35: いまいちイメージがわかない…。</pre>
<pre>heavenshell 24日 23:45:38: :me-too:</pre>
<pre>tsuyoshi_cho 24日 23:47:27: デバッグ系というか、ロガーやトレーサー的なのは聞きますが、実プロダクト的なのは知らんかったので、ちょっと楽しみですねぇ、それ &gt; 最近...気がするので</pre>
<pre>hrsh7th 24日 23:52:03: みんな大好き immer も実は Proxy 使える場合は内部的に使っております。</pre>
<pre>ゴリラ 25日 11:13:38: asciidoctor.jsをつかったことがある方いますか？</pre>
<pre>ゴリラ 25日 11:13:50: <https://github.com/asciidoctor/asciidoctor.js/></pre>
<pre>mattn 30日 08:54:52: 最近やたら poijs が reddit に流れてくるけどそんなにいい物なのだろうか。 <https://github.com/egoist/poi></pre>
<pre>yanom 30日 11:31:43: これは、なんです？</pre>
<pre>thinca 30日 11:34:39: 素人が扱うとすぐに破れそうな名前だ</pre>
<pre>tsuyoshi_cho 30日 11:36:32: 紙かモナカか</pre>
<pre>mattn 30日 11:51:40: poi と聞くと java しか思い浮かばないマン</pre>
<pre>heavenshell 30日 12:11:10: ぽい</pre>
<pre>tsuyoshi_cho 30日 12:13:02: &gt;  素人が扱うとすぐに破れそう
Plain oreore interface</pre>
<pre>thinca 30日 12:51:54: Vim の正規表現の `\%[...]` を JavaScript で直接的にやる方法がたぶんなさそう(あったら教えてください)なのでそういうパターン (`foo` → `(?:f(?:oo?)?)?`) を生成する関数を作ろうと思うのだけど、何という名前がいいだろうか</pre>
<pre>kuu 30日 13:05:06: 自分だけが使うものならvimのですと注釈コメント付けた上でatomListToRegExpとか雑に付けるけど、わかりやすいかと言われると微妙</pre>
<pre>ゴリラ 31日 12:01:58: <https://twitter.com/gorilla0513/status/1244820368990162944?s=20></pre>
<pre>ゴリラ 31日 12:02:09: 最近js書いていて思ったこと</pre>
<pre>ゴリラ 31日 12:02:41: なんか、勝手に `http://` がついちゃった</pre>
<pre>tsuyoshi_cho 31日 12:02:49: nameドメインありますしね</pre>
<pre>kuu 31日 12:03:16: Goの開発者たちは分かりにくいのでやめろくらいに思ってそう</pre>
<pre>ゴリラ 31日 12:03:32: 最初なんだこれ、とは思っていました</pre>
<pre>ゴリラ 31日 12:03:50: 慣れるとそうでもない</pre>
<pre>tsuyoshi_cho 31日 12:04:08: 各言語の記法は慣れが8割...か</pre>
<pre>thinca 31日 12:04:24: これは任意の型を真偽値として扱える言語でないとできないのよね</pre>
<pre>thinca 31日 12:04:41: Vim script でできてほしかった…</pre>
<pre>mattn 31日 12:04:51: Ruby は `||=` があるね。</pre>
<pre>kuu 31日 12:05:11: 任意の型を受け付けても通した瞬間にブールになる言語もあるのでつらい</pre>
<pre>thinca 31日 12:05:19: JavaScript は `||=` ないのでたまにハマる</pre>
<pre>mattn 31日 12:05:30: Ruby は、と書いてしまったけど Perl が起源ね。</pre>
<pre>heavenshell 31日 12:06:13: Python も `gorilla.name = input.value or "gorilla"`  でやりますねー。</pre>
<pre>heavenshell 31日 12:06:28: JS でもたまに↑書きます。</pre>
<pre>tsuyoshi_cho 31日 12:06:28: そもそも変数に無効値が設定可能な言語で意味があることなので、言語によっては発生しないやつもあるしなあ...と思ったりw</pre>
<pre>mattn 31日 12:07:27: JS のは関数の引数でやる時にモヤ感が出るんですよね。左辺にも右辺にも出てくるので。</pre>
<pre>mattn 31日 12:07:31: ```a = a || b```</pre>
<pre>thinca 31日 12:08:33: null をなくして Option 的な何かを使いたい</pre>
<pre>kuu 31日 12:09:08: Kotlinのnullの扱い方は面白かったな</pre>
<pre>mattn 31日 12:09:27: アントニーホーア「すまんゆるしてくれ」</pre>
<pre>mattn 31日 12:11:12: <https://developers.srad.jp/story/09/03/05/0937219/></pre>
<pre>thinca 31日 12:11:50: 低レイヤの C 言語とかに NULL ポインタがあるのはわかる。時代的に Java に null が残ってしまったのもまあ仕方ない感じはある。
Go は nil を入れるって決定はどういう経緯だったんだろう。Go も十分低レイヤだし仕方なかったんだろうか?</pre>
<pre>mattn 31日 12:12:41: 経緯は知らないけど null/nil が無かったら無いで文句言う人はいそう。</pre>
<pre>thinca 31日 12:13:13: Go は Generic ないから Option&lt;int&gt; みたいなのができないしな…</pre>
<pre>kuu 31日 12:13:53: nullを無くした所で別のnull相当の何かで運用されるだけなのでモナディックな処理でもできない限り無くすのはきついと思う</pre>
<pre>kuu 31日 12:13:59: Optionとかね</pre>
<pre>thinca 31日 12:15:14: 任意の変数が null を取り得るのがつらみなのよね</pre>
<pre>thinca 31日 12:15:36: TypeScript はがんばってる</pre>
<pre>tsuyoshi_cho 31日 12:15:47: コンパイラでnullになりそうだと通らない言語はあるけど、あれはあれで大変...</pre>
<pre>tsuyoshi_cho 31日 12:16:29: TypeScriptはうっかりanyとかうっかり別型とかがああるけどw、すごいなあと思う(型言語になりつつあるようなw)</pre>
<pre>mattn 31日 12:17:07: やれる事が違うからなぁ。TypeScript は元の作りそっくりに C 言語ライブラリのバインディングを書けないし。</pre>
<pre>itchyny 31日 12:18:01: <https://github.com/Microsoft/TypeScript/issues/14833></pre>
<pre>hotoolong 31日 14:18:12: ??が追加されましたね。
<https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator></pre>
<pre>raa0121 31日 14:19:56: Null 合体演算子は最近のPHP にも入りましたね</pre>
<pre>thinca 31日 14:28:08: `&amp;.`</pre>
<pre>tyru 31日 14:42:35: Perl にも `//` が</pre>
<pre>thinca 31日 14:46:46: 空の正規表現にしか見えないのでもうダメ</pre>
<pre>itchyny 31日 14:49:14: コメント</pre>
<pre>raa0121 31日 14:49:33: Perl だとコメントは `#` だから…</pre>
<pre>itchyny 31日 14:49:54: はい</pre>
<pre>mattn 31日 14:50:19: `?.` が好きです。</pre>
<pre>thinca 31日 14:52:54: 好きな演算子選手権</pre>
<pre>mattn 31日 14:56:04: 昔 `:=` は「〇んこ演算子」と呼ばれていた。</pre>
<pre>tsuyoshi_cho 31日 14:56:42: オットセイでしたっけ?</pre>
<pre>itchyny 31日 14:56:43: セイウチ</pre>
<pre>tsuyoshi_cho 31日 14:56:47: あう</pre>
<pre>tsuyoshi_cho 31日 14:57:12: `:=3`</pre>
<pre>kuu 31日 14:57:31: 鼻息かな？</pre>
<pre>tsuyoshi_cho 31日 14:58:01: `${E:-&lt;}`  演算子ではない</pre>
<pre>mattn 31日 14:58:49: null 合体演算子はなんで elvis 演算子にしなかったんだろう。</pre>
<pre>mattn 31日 14:59:07: `var a = x ?: y`</pre>
<pre>mattn 31日 14:59:15: これが elvis 演算子。</pre>
<pre>tsuyoshi_cho 31日 14:59:38: すでに3項演算子として有名だった&amp;トラブりそうだった?</pre>
<pre>mattn 31日 14:59:43: エルヴィスプレスリーのとんがった頭に似てるからそう名付けられた `?:`</pre>
<pre>mattn 31日 15:05:16: たまに `?.` が勘違いされてて

```x?.foo?.bar?.baz```
みたいに書かれる事があるんよね。</pre>
<pre>mattn 31日 15:05:29: ```x?.foo.bar.baz```
で ok。</pre>
<pre>mattn 31日 15:05:47: ```null?.null.null.null.null.null```
とかやってると楽しい。(楽しくない)</pre>
<pre>heavenshell 31日 15:08:57: 最近書いた邪悪なコードは
`foo!.bar!.baz` です(後でなおす)</pre>
<pre>mattn 31日 15:09:35: 強そう</pre>
<pre>tsuyoshi_cho 31日 15:10:41: (キバヤシ)フーでバーでバズなんだよ!!!</pre>
<pre>thinca 31日 15:10:42: Ruby は `&amp;.` 毎回書かないといけない</pre>
<pre>ゴリラ 31日 15:19:21: `??` 便利だな</pre>
<pre>mattn 31日 15:25:44: Ruby は method_missing で null を返せば ok</pre>
<pre>ゴリラ 31日 20:54:57: [質問]
`forEach` と `entries` の使い分けって皆さんどうしていますか？
自分は大体こんな感じで書きますが、 `forEach`の用途がピンとこないので質問しました

```for ([i, v] of list.entries) {
    // do something
}```</pre>
<pre>kuu 31日 20:59:46: forEachが必要な時って副作用が必要な時だけですし、そんなに都合よく渡せる関数があるケースなど基本ないので使わないですね</pre>
<pre>heavenshell 31日 21:02:33: for 文を書きたくないでござる！</pre>
<pre>heavenshell 31日 21:02:48: の場合かな。</pre>
<pre>ゴリラ 31日 21:04:48: &gt; forEachが必要な時って副作用が必要な時だけですし、そんなに都合よく渡せる関数があるケースなど基本ないので使わないですね
副作用が必要なパターンって、例えばどんなのがありますか？</pre>
<pre>heavenshell 31日 21:05:13: あと array.entries は IE11 で使えないので、そういうのを避けないといけない場合。</pre>
<pre>kuu 31日 21:06:42: mapじゃなくてforでやるような事全般かな</pre>
<pre>kuu 31日 21:06:50: 外部に出力したいだとかそういうやつ</pre>
<pre>heavenshell 31日 21:09:21: 逆に自分ならなんで forEach や map じゃないの？ってレビューしそう…。</pre>
<pre>lambdalisue 31日 21:38:52: 主題とはちょっとズレてるけど</pre>
<pre>lambdalisue 31日 21:38:55: ```function collect() {
  return [0, 1, 2, 3, 4, 5];
}

// case 1
collect()
  .filter((n) =&gt; n % 2 === 0)
  .map((n) =&gt; `No ${n}`)
  .forEach((s) =&gt; console.log(s));

// case 2
const values = collect()
  .filter((n) =&gt; n % 2 === 0)
  .map((n) =&gt; `No ${n}`);

for (const s of values) {
  console.log(s);
}```</pre>
<pre>lambdalisue 31日 21:39:07: `forEach` のほうが流れ出かけてよくね？パターン</pre>
<pre>lambdalisue 31日 21:40:30: まぁ滅多に無いですがw</pre>
<pre>heavenshell 31日 21:40:53: や、まさにその発想。</pre>
<pre>lambdalisue 31日 21:41:20: `map/filter` で変数に入れちゃって.... で受け渡してく方が多いから自分で `for/forEach` とか書かないことが多い</pre>
<pre>heavenshell 31日 21:41:21: まぁ map してから forEach は極端だけどw</pre>
<pre>lambdalisue 31日 21:42:38: まぁ正直 for/forEach はどっちでもいいと思います</pre>
<pre>heavenshell 31日 21:42:56: うん。</pre>
<pre>lambdalisue 31日 21:42:57: for or map/filter の比較なら map/filter に軍配が上がると思う（個人差</pre>
<pre>heavenshell 31日 21:43:42: IE11 を気にしないといけない場合だけすね</pre>
<pre>mattn 31日 21:43:49: 僕も map/filter だけど、なんとなく map/filter の方がパフォーマンス悪そう。</pre>
<pre>mattn 31日 21:44:09: 誤差の世界だろうけど。</pre>
<pre>heavenshell 31日 21:44:38: 多分誤差の世界だろうし測ったことないですけど、同じ感想です</pre>
<pre>lambdalisue 31日 21:44:43: ```// for
const memory = [];
for (const value of [...]) {
  // 超複雑な処理でムッチャ長いし分岐も多い
  memory.push(value);
}

// map
const memory = [...].map((v) =&gt; {
  // 超複雑な処理でムッチャ長い
  return v;
});```</pre>
<pre>kuu 31日 21:44:48: forでやるとパフォーマンスが落ちる言語がありましてね、Pythonって言うんですけど</pre>
<pre>kuu 31日 21:44:53: JSだと誤差だと思う</pre>
<pre>lambdalisue 31日 21:45:19: 上記は `memory.push()` を呼び忘れても型で守れないけど下記は型で守れる</pre>
<pre>thinca 31日 21:45:26: パフォーマンスは知らないけど Ruby の for は一切使われない</pre>
<pre>lambdalisue 31日 21:45:51: &gt; forでやるとパフォーマンスが落ちる言語がありましてね、Pythonって言うんですけど
:hai-small:</pre>
<pre>thinca 31日 21:46:00: continue/break したい場合は forEach 困る</pre>
<pre>lambdalisue 31日 21:47:04: なんか戻り値が `true/false` で `break/continue` なのあった気がするけどなんだっけ</pre>
<pre>kuu 31日 21:47:07: 例外投げるか特定の値返すと止まるforeachはなんかで見たな（もう忘れた）</pre>
<pre>kuu 31日 21:47:16: 相当気持ち悪かった記憶がある</pre>
<pre>lambdalisue 31日 21:47:39: 例外投げると止まるのは js の forEach かと</pre>
<pre>thinca 31日 21:48:17: ループ止めるために例外を使うのは乱用感高い</pre>
<pre> 31日 21:48:32: </pre>
<pre>lambdalisue 31日 21:48:47: jQuery の foreach だったかな、戻り値の true/false で継続と終了を分けるの</pre>
<pre>lambdalisue 31日 21:49:35: <http://js.studio-kingdom.com/jquery/utilities/each></pre>
<pre>lambdalisue 31日 21:49:36: だった</pre>
<pre>kuu 31日 21:49:58: あーこれかあ…</pre>
<pre>lambdalisue 31日 21:50:27: まぁ forEach の関数の戻り値で判断するの js っぽいなと思います</pre>
<pre>lambdalisue 31日 21:50:50: 値を返さないのと `false` を返すのが同等（としても扱える）言語なので</pre>
<pre>thinca 31日 21:51:14: これって組み込みの forEach がそもそもなかった時代とかだっけ? (そんな時代なかったかもしれん)</pre>
<pre>lambdalisue 31日 21:51:18: YES</pre>
<pre>kuu 31日 21:51:24: せやな</pre>
<pre>lambdalisue 31日 21:51:25: `forEach` 結構新しいので</pre>
<pre>lambdalisue 31日 21:51:35: （新しい :thinking_face: ）</pre>
<pre>thinca 31日 21:51:39: だよね。記憶が定かではなかった</pre>
<pre>mattn 31日 21:51:44: だれか node elements を回せる for をくれ</pre>
<pre>mattn 31日 21:52:28: てか node elements、お前が forEach を提供しろ。</pre>
<pre>lambdalisue 31日 21:52:30: まだ回せないのか（生でほとんど触らないから知らない）</pre>
<pre>thinca 31日 21:52:31: node elements なんだろう?</pre>
<pre>lambdalisue 31日 21:52:40: Array じゃないんですよ</pre>
<pre>kuu 31日 21:52:40: 関数型っぽいことするやつ流行ってたな(lodashとか)</pre>
<pre>luma 31日 21:52:41: `Array.from` ?</pre>
<pre>mattn 31日 21:52:53: document.querySelector("div").map(x =&gt; ) やりたいですよね？</pre>
<pre>lambdalisue 31日 21:53:08: いまは `Array.from` ありましたねー</pre>
<pre>thinca 31日 21:53:23: そっちか…普段 Node.js しか触らんのでブラウザのコンポーネントはわからぬ</pre>
<pre>lambdalisue 31日 21:53:42: 普段ブラウザだけど生DOM触らないから困ってないw</pre>
<pre>thinca 31日 21:53:56: `Array.from` でいけるならそれで良さそうな気がする</pre>
<pre>thinca 31日 21:54:29: hubot のスクリプトか GitHub Actions かのだいたい二択</pre>
<pre>lambdalisue 31日 21:54:37: ```[...document.querySelector("div")].map(x =&gt; ...)```</pre>
<pre>lambdalisue 31日 21:54:40: かな？</pre>
<pre>mattn 31日 21:55:23: それよさそう。</pre>
<pre>mattn 31日 21:55:23: ただ hasOwnProperty なんやろか</pre>
<pre>mattn 31日 21:58:00: [...document.querySelector("div")] あかんか。</pre>
<pre>lambdalisue 31日 21:58:08: むりかー</pre>
<pre>mattn 31日 21:59:42: あ、うそ。</pre>
<pre>lambdalisue 31日 21:59:45: いや selector じゃだめやんw</pre>
<pre>mattn 31日 21:59:45: いけそう。</pre>
<pre>luma 31日 21:59:53: All抜けてますかね</pre>
<pre>lambdalisue 31日 22:00:21: ```[...document.querySelectorAll("div")].map(...)```</pre>
<pre>lambdalisue 31日 22:00:22: ですね</pre>
<pre>mattn 31日 22:00:34: [...document.querySelectorAll("div")].map(x =&gt; x.nodeName) うん。動いてる。</pre>
<pre>mattn 31日 22:01:07: IE11、はやく死んで。</pre>
<pre>thinca 31日 22:01:30: Edge をお使いくださいって出そう</pre>
<pre>mattn 31日 22:02:10: 業務色的に言えそうにない。</pre>
<pre>tsuyoshi_cho 31日 22:04:01: むー、とはいえIE11対象外はEdgeもある(あった)し、メンテフェーズとも言えたので、本当は強気に言っとくべきだったんだろうなあ(そして逆に固定仕様でメンテ続けてたツール自体が悪としちゃうのも違うし...)
とあまり関係ない分野にいると思ってしまったり</pre>
<pre>thinca 31日 22:05:35: まあ分野的につらいところはあるんだろうなと言う気はする。よくは知らないけど</pre>
<pre>thinca 31日 22:05:46: たぶん一番ラクな方法は…転職…ですかね…</pre>
<pre>heavenshell 31日 22:11:35: [1, 2, 3].map(v =&gt; {}) って出来たんでしたっけ。Array.from せんといけないのだるい…</pre>
<pre>tsuyoshi_cho 31日 22:13:34: 型というか対応するプロトタイプとのマッチングがふんわりというか、面倒といえばそうな所もありますね</pre>
<pre>lambdalisue 31日 22:14:04: `[...Array(3)].map((_, v) =&gt; v)` ? （見ずに書いてるからわからない</pre>
<pre>thinca 31日 22:16:27: Vim script の map() がつらい</pre>
<pre>mattn 31日 22:16:40: this 使えばいけるのでは</pre>
<pre>kuu 31日 22:16:41: ファイル名に書かれているクエリを見ながら「わかるーw」と言ってる</pre>
<pre>mattn 31日 22:16:46: ```[1,2,3].map(x =&gt; this[x] = x*2)```</pre>
<pre>tsuyoshi_cho 31日 22:16:57: すぐにvitalに逃げてる...(そうじゃない)</pre>
<pre>lambdalisue 31日 22:17:36: `-<http://www.sejuku.net|www.sejuku.net>` してるのがバレてしまった</pre>
<pre>thinca 31日 22:17:36: ファイル名あかんw (ものによっては本当に危ない)</pre>
<pre>kuu 31日 22:17:37: lambdaの場合の第一引数がindexなの本当につらい</pre>
<pre>luma 31日 22:18:15: それ is 何</pre>
<pre>kuu 31日 22:18:19: この前これ踏んでバグった</pre>
<pre>mattn 31日 22:18:30: あるある</pre>
<pre>lambdalisue 31日 22:18:34: 念のため画像を消しておこう</pre>
<pre>luma 31日 22:18:53: 侍</pre>
<pre>thinca 31日 22:19:38: スクショとか撮った時に勝手にアクティブウィンドウのタイトルとか持ってくるのも本当に危ないし余計なことするなってなる</pre>
<pre>mattn 31日 22:19:52: 透けるウィンドウもやばい。</pre>
<pre>tsuyoshi_cho 31日 22:19:52: <#CUPKWMQFK|vim-script> 案件だけど
• map他の破壊的挙動
• 引数の第一、第二があること(あるのは助かるときもあるが)
あたりがあぶない穴かなあ</pre>
<pre>tsuyoshi_cho 31日 22:20:16: (キャプチャはいつも気をつけてる..)(半透明派)</pre>
<pre>luma 31日 22:20:30: google検索除外するやつか</pre>
<pre>mattn 31日 22:21:09: 侍除け</pre>
<pre>luma 31日 22:21:34: 破壊，methodがなければ便利，methodがあるのでもういらないかな，みたいな感じがある</pre>
<pre>tsuyoshi_cho 31日 22:21:49: 坊主避けの仲間感</pre>
<pre>luma 31日 22:22:27: JSにもはやく pipeline operator来てほしいな</pre>
<pre>luma 31日 22:22:45: や，本当に必要なのはPythonかもしれない...</pre>
<pre>heavenshell 31日 22:22:45: babel の先っちょまち。</pre>
<pre>lambdalisue 31日 22:23:12: Python は lambda が辛いからなぁ...</pre>
<pre>thinca 31日 22:24:42: `array-&gt;copy()-&gt;map(func)`</pre>
<pre>kuu 31日 22:25:53: なんつーかキモいなあw</pre>
<pre>mattn 31日 22:26:08: python はコードを右方向に書きながら左に戻ってこないといけないのがつらい。</pre>
<pre>mattn 31日 22:26:19: js や ruby は右に行きっぱなしでコードが書ける。</pre>
<pre>lambdalisue 31日 22:26:49: Python は縦に伸ばす言語ですしねぇ</pre>
<pre>heavenshell 31日 22:26:50: E731 で禁止にしよう。</pre>
<pre>lambdalisue 31日 22:27:21: まぁ lambda 使っていいのは小学（ry</pre>
<pre>kuu 31日 22:27:31: メソッドチェーンやら出来ないと縦に伸びるのわかる</pre>
<pre>kuu 31日 22:27:44: 一時変数作りまくるスタイルになってた</pre>
<pre>lambdalisue 31日 22:28:18: TypeScript バリバリ書いてから Python に戻ると「うっ....」ってなる</pre>
<pre>lambdalisue 31日 22:28:28: map/filter でつなげたいし</pre>
<pre>lambdalisue 31日 22:28:31: const ほしい</pre>
<pre>heavenshell 31日 22:28:46: 3 ネスト以上する list 内包表記を書いたことない者だけが石を投げなさい</pre>
<pre>lambdalisue 31日 22:28:59: 流石に無いw</pre>
<pre>ゴリラ 31日 22:29:07: 離れていたらめっちゃ話が進んでいた
とりあえずalisueさんの例でforEachを使う場面がわかったので、だいぶスッキリした</pre>
<pre>mattn 31日 22:29:10: 次の日読めなくなってるやつ。</pre>
<pre>lambdalisue 31日 22:29:15: イテレータで一次変数切る</pre>
<pre>heavenshell 31日 22:29:36: 書いたんや！一ヶ月後誰やこのクソコード書いたんは！あ、自分や！ってなりますた。</pre>
<pre>lambdalisue 31日 22:29:43: :totemoturai:</pre>
<pre>lambdalisue 31日 22:30:29: TypeScript から移動してくると脳が map/filter になってるから Python で map/filter 使ったコード書いててびっくりしたことならあるw</pre>
<pre>tsuyoshi_cho 31日 22:30:30: ただ、Elixer(だったかな)のpiplineを見てると、「それ手続きじゃん」という気持ちになることもある
や、意図はわかるので、文句じゃないんだけどw</pre>
<pre>lambdalisue 31日 22:30:47: Python の `map/filter` は後方互換性のためだけに存在します</pre>
<pre>heavenshell 31日 22:30:49: Python で map, filter ほとんど書いたことないな。</pre>
<pre>mattn 31日 22:31:10: リスト内包でやる文化。</pre>
<pre>heavenshell 31日 22:31:12: たまーに all と any はある。</pre>
<pre>heavenshell 31日 22:31:24: 一方 TS で for (){} はほとんど(ry</pre>
<pre>luma 31日 22:31:34: あーリスト内包，あーなるほど</pre>
<pre>lambdalisue 31日 22:32:01: `map/filter` は `lambda` を生み出してしまった負の財産</pre>
<pre>tsuyoshi_cho 31日 22:32:07: ただ、ちょっと複雑になると内包も見辛いのがな...</pre>
<pre>luma 31日 22:32:16: Python, lambda 禁止でもかけるのか</pre>
<pre>heavenshell 31日 22:32:28: というか書いたら flake8 に怒られる。</pre>
<pre>lambdalisue 31日 22:32:32: `lambda` を嫌うのが Python ですね</pre>
<pre>lambdalisue 31日 22:32:58: `def` でええやん　文化</pre>
<pre>lambdalisue 31日 22:33:08: s/で/が</pre>
<pre>heavenshell 31日 22:33:21: まぁ複雑な lambda 書くんなら def かけや、デコレーター使えやの文化だからなぁ。</pre>
<pre>tsuyoshi_cho 31日 22:34:29: {} がないこともあって、関数とかも簡素に書けますしね</pre>
<pre>heavenshell 31日 22:34:48: ですねー。</pre>
<pre>mattn 31日 22:35:51: 汎用ライブラリじゃないけど `___iter__` って書きます？</pre>
<pre>tsuyoshi_cho 31日 22:36:49: よっぽどデータ構造作るなら書くだろうけど、いまんとこやったことないですw
(とあるミニツールしか作ったことない)</pre>
<pre>lambdalisue 31日 22:37:02: んー僕は書かないですね。可能な限り書くコード量を減らしたいので、ライブラリじゃ無い限り汎用性よりシンプルさをとります</pre>
<pre>lambdalisue 31日 22:37:35: Python さいあくほんばんかんきょうの `.py` かきかえればいいのよ</pre>
<pre>heavenshell 31日 22:37:47: ライブラリーでない限り滅多に書きませんね。</pre>
<pre>mattn 31日 22:41:29: テキストファイルをチョチョッと整形したりする場合なんかには python 使われてます？</pre>
<pre>heavenshell 31日 22:42:00: はい。一応 primary 言語なのでw</pre>
<pre>heavenshell 31日 22:43:13: Vim でやるのだるい → Python でスクリプト書く
ですかね。</pre>
<pre>mattn 31日 22:43:48: なるほど。</pre>
<pre>mattn 31日 22:47:45: 僕は Vim =&gt; Ruby かな。</pre>
<pre>lambdalisue 31日 22:48:17: Vim でやるのだるい→ Vim プラグイン作ろう</pre>
<pre>lambdalisue 31日 22:49:36: マジレスなら僕も Python 使いますね。ただ、そのまえに bash で頑張ると言うステップ踏むことが多いですが</pre>
<pre>mattn 31日 22:51:04: ruby だと
```p x.map {|x| ...}. ```
みたいに少しずつ増やしながら確認できるのが好き。</pre>
<pre>lambdalisue 31日 22:52:08: &gt; 少しずつ増やしながら
:wakaru:</pre>
<pre>raa0121 1日 01:46:48: Rubyのメソッドチェーンはほんとに強いですよね…(会社でPHPを読み/書きすると実感する</pre>
<pre>mattn 1日 01:51:27: スクリプトを quickrun で逐一実行しながら確認してるので便利。</pre>
<pre>tyru 1日 04:33:18: rubyist はデバッグに .tap とか使ったりしないんだろうか</pre>
<pre>tyru 1日 11:23:43: tapper</pre>
<pre>thinca 1日 11:27:19: tapp は `p` (pretty print) する tap</pre>
<pre>tyru 1日 11:28:46: ふむふむなるほど</pre>
<pre>mattn 1日 11:29:25: タッパ〇んこ</pre>
{% endraw %}
