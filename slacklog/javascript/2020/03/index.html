---
# vim:set ts=2 sts=2 sw=2 et:
layout: slacklog
title: vim-jp.slack.com log - &#35javascript - 2020年03月
---
<div>
<h2><a href='{{ post.url }}'>{{ page.title }}</a></h2>

<p>参加方法、各チャンネルの概要等は以下を参照して下さい。<br>
<a href='/docs/chat.html'>vim-jpのチャットルームについて</a></p>

{% raw %}
<pre>thinca 1583718550.128200: 依存しているパッケージが要求する最小 Node バージョンが上がったら自分のパッケージの semver の major も上げないとダメだよねぇ</pre>
<pre>kuu 1583719217.129100: 自分のパッケージのAPIが壊れないのであれば上げなくてもいい気もするけど…原文にはこのへん曖昧に書かれてるからよくわからない</pre>
<pre>kuu 1583719305.129700: そのパッケージを更新した時点で上げないといけないか</pre>
<pre>thinca 1583719484.130200: API は壊れなくても古いバージョンの Node で動かなくなるので互換性がないってことになるんですよね</pre>
<pre>raa0121 1583719817.130700: パッケージの依存の書き方に依るんじゃないですかね</pre>
<pre>tsuyoshi_cho 1583719918.132100: そういえば、今のバージョン依存関係処理(言語のパッケージマネージャ)って、ベースツールのバージョンとの互換性について、あんまりちゃんとマネージしてるのを聞かない(知らないだけかもしれない)ですねえ...開発環境だと下は上以上に固定されるから、あまりトラブらないのかな?</pre>
<pre>kuu 1583720774.133400: チラ見した限りではGoとRustとPythonは本体のバージョン指定する仕組み持ってますね</pre>
<pre>thinca 1583720924.133800: package.json にも node のバージョン書ける</pre>
<pre>kuu 1583720981.134300: cocが何も書いてないだけか、観測数1で無いと判断するのはよくないな</pre>
<pre>tsuyoshi_cho 1583722039.134900: あー、ないわけじゃないのか...ならわりと大丈夫なのかな...</pre>
<pre>raa0121 1583937159.136000: どなたか、openapi3 の typescript-fetch で生成したライブラリを使ってアプリを組んだことある人居ませんか？</pre>
<pre>raa0121 1583937325.136500: <https://github.com/raa0121/SeikaCenter.ts>
このライブラリをVueNative で扱いたいんですが…</pre>
<pre>heavenshell 1583937489.136800: typescript-angular なら…。</pre>
<pre>raa0121 1583937608.137900: ```export function FETCH_AVATER ({commit, dispatch}) {
  commit('FETCHING_AVATER');
  userObj = AsyncStorage.getItem('userObj')
  return new AvatorApi({basepath: userObj.server, username: userObj.username, password: userObj.password})             
    .getAvator2()
    .then(avators =&gt; {
      data = AvatorToJSON(avators);
      console.warn(data);
      return commit('SET_AVATORS', { data }); 
    })  
    .catch((error) =&gt; {
      console.warn(error);
    }); 
}```
こんな感じで、vuex の actions.ts でやろうとしてるんですが、うまく行かなくて…</pre>
<pre>heavenshell 1583937749.138400: vue に組み込まなければ普通に動く感じです？</pre>
<pre>raa0121 1583937832.139300: 試したい場合は、tcs でやればいい感じですかね…？
typescript も javascript もあんまり開発したことなくて…</pre>
<pre>raa0121 1583937886.139800: tsc か</pre>
<pre>raa0121 1583938057.140300: あ、このプロジェクト、typescript に依存してない…</pre>
<pre>heavenshell 1583938294.141200: なんか適当に sample.ts みたいなのをつくつて
```import { AvatorApi } from './apis/AvatorApi'

const api = new AvatorApi({...})
console.log(api.getAvator2())```
みたいなのして ts-node sample.ts みたいなので実行ですかね。</pre>
<pre>heavenshell 1583938359.142200: ts-node は 適当に npm とか yarn で突っ込む感じで。tsc でビルドでも良いですけど、雑に確認するときは便利ですよ(遅いけど)</pre>
<pre>raa0121 1583938397.142600: ts-node 良さそう…！ ありがとうございます</pre>
<pre>heavenshell 1583938491.143000: <https://blog.5thfloor.co.jp/2019/06/26/webapp-development-with-openapi-and-typescript/>
雑にググったら nuxt + openapi + typescript-fetch みたいです。</pre>
<pre>raa0121 1583938590.143400: 見覚えのあるタイトル…</pre>
<pre>raa0121 1583939581.143700: 確かに、ts-node が便利すぎる</pre>
<pre>heavenshell 1583939850.144000: 雑に quickrun と組み合わせると良いと思います！</pre>
<pre>kuu 1583942656.144600: なにもわからない <https://susisu.hatenablog.com/entry/2020/03/10/125000|https://susisu.hatenablog.com/entry/2020/03/10/125000></pre>
<pre>kuu 1583942709.145600: どういう思考回路してたら型で計算しようなどと思いつくんだろうか</pre>
<pre>raa0121 1583942871.145800: 頭おかしいw</pre>
<pre>heavenshell 1583943064.146100: 世の中すごい人ばっかりだ。</pre>
<pre>raa0121 1583943100.146700: うーん、configuration の生成に難儀してる…</pre>
<pre>raa0121 1583943738.147100: <https://github.com/OpenAPITools/openapi-generator/issues/3049>
ｳｯ…</pre>
<pre>heavenshell 1583943881.147400: oh…</pre>
<pre>heavenshell 1583944019.147900: <https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/typescript-axios.md>
axios にしてみるとか。</pre>
<pre>raa0121 1583946045.149000: ReactNativeで動くかどうか…</pre>
<pre>raa0121 1583946587.149400: 動きそう</pre>
<pre>ゴリラ 1583964926.149900: 型ってチューリング完全なのか</pre>
<pre>ゴリラ 1583964936.150300: 記事さらっと読んだけどナニモワカラナイ</pre>
<pre>ゴリラ 1583964945.150700: とりあえずヤベェなのは分かった</pre>
<pre>mattn 1583973797.151000: 超 experimental だろうけど <https://github.com/ameerthehacker/ts-native></pre>
<pre>hrsh7th 1583974605.152200: _Go に変換するほうがまだいけそうな…_</pre>
<pre>yy_yank 1583975443.153000: typescript-fetch使っております(VueNativeでもReactNativeでもないですが)</pre>
<pre>mattn 1583975522.153500: なぜ初めから Rust (おっと言ってはいけない</pre>
<pre>tsuyoshi_cho 1583975570.153900: Prabirさんが反応しとる...</pre>
<pre>raa0121 1583978643.154800: ```import {
  AvatorApi,
  Configuration,
  ConfigurationParameters,
} from "SeikaCenter.ts";

const config:ConfigurationParameters = {
  basePath: "<https://voiro-api.raa0121.info>",
  username: "raa0121",
  password: "xxxxxxxx",
}
const configuration = new Configuration(config)
new AvatorApi(configuration)
  .getAvator2()
  .then(avators =&gt; {
    avators.data.forEach(elem =&gt; console.log(elem.name))
  })```
axios にしたら、とりあえず ts-node でこれが動きました！</pre>
<pre>kuu 1583979275.155800: そういやC++のテンプレートもチューリング完全らしいですね</pre>
<pre>mattn 1583979355.156500: C++ テンプレートでなんかやる系だと kazuho さんの FizzBuzz も面白かったですね。</pre>
<pre>mattn 1583979358.156700: <https://labs.cybozu.co.jp/blog/kazuho/archives/2008/04/fizzbuzz_cpp_template.php></pre>
<pre>mattn 1583979370.156900: コンパイル時 FizzBuzz</pre>
<pre>raa0121 1583980965.157200: ```While trying to resolve module `../../node_modules/SeikaCenter.ts` from file `/home/node/app/src/store/actions.ts`, the package `/home/node/app/node_modules/SeikaCenter.ts/package.json` was successfully found. However, this package itself specifies a `main` module field that could not be resolved (`/home/node/app/node_modules/SeikaCenter.ts/dist/index.js````
辛い…</pre>
<pre>raa0121 1583981480.157800: 多分、yarn install のタイミングで、dist/index.js が生成されないのが問題かな…</pre>
<pre>mattn 1584503597.158500: <https://twitter.com/mizchi/status/1239832052247064577></pre>
<pre>mattn 1584503603.158800: 本日のわろす</pre>
<pre>raa0121 1584503903.159000: <https://twitter.com/teppeis/status/1239890409859342336></pre>
<pre>heavenshell 1584504269.159300: ふぁーー</pre>
<pre>tsuyoshi_cho 1584504301.159500: あらら...</pre>
<pre>takets 1584504316.159700: えぇ…</pre>
<pre>mattn 1584505304.160000: うひー(わろすではなかった)</pre>
<pre>yy_yank 1584510334.160500: oh…</pre>
<pre>tsuyoshi_cho 1584580749.161400: <https://qiita.com/yumetodo/items/eaf3b97aeae3d8c4a07e>
つらたん...
せめてブラウザベンダーとbabelは「後援だよ」宣言だけでもしたら、人があつまったかもしれないのに...</pre>
<pre>mattn 1584580924.161900: 罪文読んできたけどつらいな。</pre>
<pre>ゴリラ 1584584751.162100: 悲しい</pre>
<pre>mattn 1584592626.162600: 最近だと lightbox みたいな事やるのどれがいいんですかね。 (without jQuery)</pre>
<pre>tyru 1584592708.162900: フレームワークによるような。。。（jQuery は偉大だった）</pre>
<pre>mattn 1584592785.163400: ね (偉大だった)</pre>
<pre>heavenshell 1584593567.163600: <https://photoswipe.com/>
とかいかがでしょう？</pre>
<pre>mattn 1584593634.164700: それですよねー。さっき見てました。内製の自作ダッシュボードなんですが今の見た目がモーダルポップアップみたいな感じなので、似たのがなければそれにしようかな、とか思ってる所です。</pre>
<pre>raa0121 1584790597.165400: Vuex での ajax がわからない…</pre>
<pre>ycino 1584790687.166400: Vuexでのajax、componentからajaxで取った値をstoreに普通にぶっこむとかじゃなくてです？（Vuexでの非同期周りの取り扱いをもう余り覚えていないけど・・・）</pre>
<pre>ycino 1584790729.166700: そうか、Vuexってmutationとかあるからここでやるんでしたっけ</pre>
<pre>ycino 1584791124.167900: ものすごい適当言ってた
async functionなActionの中でAPIコールして、結果をMutationにコミットしてstoreが変化するのか</pre>
<pre>ycino 1584791162.168600: asyncなActionの中でaxiosとかでAPIコールして結果をコミットすればよさそうな・・・？</pre>
<pre>mattn 1584794999.168900: axios がまだ一般的なんすかね。</pre>
<pre>heavenshell 1584795045.169500: そっすね。fetch 足りないのあるので… axios の方が気に入ってます。</pre>
<pre>mattn 1584795911.170300: axios なんかこの前言ってたやつだったりしませんっけ。 post("").catch(e =&gt; {}) なやつ。</pre>
<pre>heavenshell 1584796181.170600: です。 <https://github.com/axios/axios#handling-errors></pre>
<pre>heavenshell 1584796304.172000: ```try {
  await <http://axios.post|axios.post>()
} catch (error) {
  if (error.response.status === 400) {}
}```
みたいにも書きます。</pre>
<pre>mattn 1584796588.172500: validateStatus 設定すると 400 とかも通せるぽいですね。</pre>
<pre>mattn 1584799006.173600: サーバからは気にせず 404 とか返して validateState: で制御すると先日皆で言ってたモヤモヤは無くせそう。</pre>
<pre>heavenshell 1584799894.174400: そうですねw 若干潔癖なので chrome のコンソールが赤くなるのは嫌ですがw</pre>
<pre>raa0121 1585056511.175400: <https://gist.github.com/raa0121/20433886d33757737ab518886145fc3e>
vuex の action で、API 叩いてるけど、console.warn にデータが出ない…</pre>
<pre>ycino 1585058109.175800: なんとなくよさそうですけどねー
setTimeoutの中自体は実行されてます？</pre>
<pre>raa0121 1585058374.177000: setTimeout の先頭に、 `console.warn('hi');` 書いても、出ないから、中自体実行されてない雰囲気が…</pre>
<pre>raa0121 1585058565.177300: うーん…</pre>
<pre>heavenshell 1585058589.177900: どの setTimeout ですか？</pre>
<pre>ycino 1585058590.178000: async awaitの方が可読性高いと思うんですけどつかわないんです？</pre>
<pre>heavenshell 1585058607.178300: 多分呼びもとで pending になってそう。</pre>
<pre>raa0121 1585058692.179000: `FETCH_AVATOR` です</pre>
<pre>heavenshell 1585058767.179600: FETCH_AVATER 呼んでる方でちゃんと promise 処理できてます？</pre>
<pre>heavenshell 1585058786.180200: 自分も多分 async / await 使うのお勧めします。可読性上がる。</pre>
<pre>lambdalisue 1585058794.180500: エラーがどっか行っちゃってる系かな</pre>
<pre>heavenshell 1585058877.182100: ```FETCH_AVATER({引数}).then().catch(e =&gt; console.log(e))```
とかかかな？</pre>
<pre>lambdalisue 1585058890.182400: Promise に渡す関数は即時実行だから `FETCH_AVATER` 関数の `setTimeout` の先頭に `console.warn('hi');` 書いたら、出そうなもんだけど...</pre>
<pre>heavenshell 1585058931.183200: vuex よく知らないけど呼び出すときって redux みたいに dispatch する系なんですかね？</pre>
<pre>lambdalisue 1585058945.183400: ```export function FETCH_AVATER ({commit, state}) {
  commit('FETCHING_AVATER');
  // @ts-ignore
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      console.log("HOGE");
      resolve("BAR");
    }, 1000);
  })
}```</pre>
<pre>lambdalisue 1585058956.183900: まず、ここから始めると良いかも</pre>
<pre>ycino 1585058978.184700: vuexはactionで非同期実行して取った値をmutationに渡して、その中でstoreを変化させるみたいですね</pre>
<pre>lambdalisue 1585058978.184800: &gt;  vuex よく知らないけど呼び出すときって redux みたいに dispatch する系なんですかね？
ですね</pre>
<pre>lambdalisue 1585059002.185700: `$store.dispatch("FETCHING_AVATER").then(...).catch(...);` してるはず</pre>
<pre>ycino 1585059042.186800: 多分この場合FETCH_AVATORがthunk action的なのになってる</pre>
<pre>lambdalisue 1585059053.187300: （普段ラッパー経由だから↑が正しいか自信はない）</pre>
<pre>raa0121 1585059060.187400: dispatch 側で、then してなかった…</pre>
<pre>lambdalisue 1585059078.187800: `await $store.dispatch(...)` って書き方の方が可読性がいいですよー</pre>
<pre>ycino 1585059101.188600: async awaitしないともうPromise書ける気がしない</pre>
<pre>heavenshell 1585059103.188800: then と catch 書かなくて try - catch でかけるからお勧め！！</pre>
<pre>ycino 1585059119.189100: Promise.allとか書くとき忘れてて困るんですけど・・・</pre>
<pre>lambdalisue 1585059133.189500: then/catch も使うッチャ使う</pre>
<pre>heavenshell 1585059156.190300: この前 久々に生 Promise 書いて混乱しますた…。</pre>
<pre>lambdalisue 1585059188.190600: ```export function state(
  p: Promise&lt;any&gt;,
)Promise&lt;'pending' | 'fulfilled' | 'rejected'&gt; {
  const t = {};
  return Promise.race([p, t]).then(
    (v: any) =&gt; (v === t ? 'pending' : 'fulfilled'),
    () =&gt; 'rejected',
  ) as Promise&lt;'pending' | 'fulfilled' | 'rejected'&gt;;
}```</pre>
<pre>lambdalisue 1585059203.191000: とかで `then()` 使いました</pre>
<pre>raa0121 1585059282.191700: いくらか出すので、どなたか今週末にペアプロしてもらえたりしません？</pre>
<pre>lambdalisue 1585059306.192300: busy....</pre>
<pre>ycino 1585059327.192800: お金とかは全然いらないんですけど、Vueやったのがもう何年前か・・・</pre>
<pre>heavenshell 1585059351.193300: vue 書いたことがないのでペアプロできる自信がないですw React ならいくらでもw</pre>
<pre>ycino 1585059516.195600: ペアプロ自体は最近VSCodeで共有したりして楽ですよね、vim-jpのDiscordに繋いで通話待機で放置しながらディスプレイ映しとけばチャットで教えて貰えるとかありそう</pre>
<pre>ycino 1585059533.196000: vimでVSCodeのリモート拡張来てくれないかな・・・</pre>
<pre>thinca 1585059544.196200: ないなら作るしかない</pre>
<pre>lambdalisue 1585059564.196700: さっきのコードでアドバイスするなら

• async/await 使った方がいいです
• `setTimeout` で数秒待つっての多いので sleep 関数サクッと書いちゃった方が可読性良さそう
• ts 使ってるなら vuex-type-helper とか使うと定義が楽になります
• action なのに state いじってるところあるので、それはコミットしましょう</pre>
<pre>kuu 1585059586.197000: vim listen 方法</pre>
<pre>ycino 1585059600.198100: あ、これReactNativeなんだ</pre>
<pre>lambdalisue 1585059601.198200: あと `from "SeikaCenter.ts"` となってるのは `from "SeikaCenter"` のがいいとか</pre>
<pre>kuu 1585059601.198300: お、ch_listenを説得するチャンスか？</pre>
<pre>ycino 1585059607.198700: デバッグ大変そう・・・</pre>
<pre>ycino 1585059627.199500: Vue(ReactNative)</pre>
<pre>lambdalisue 1585059634.200000: sorena</pre>
<pre>hrsh7th 1585059635.200100: _カーソル 2 個目を表示して同期するだけならなんとかなりそう。。。？_</pre>
<pre>raa0121 1585059638.200300: ありがとうございます
JS自体初心者なので、async/await がんばります</pre>
<pre>raa0121 1585059679.201700: パッケージ名が SeikaCenter.ts なので、 from は今のままでも問題は無いはずですね…</pre>
<pre>raa0121 1585059704.202600: VueNative は ReactNative のラッパーなんです… なかなかですよね</pre>
<pre>thinca 1585059714.203100: ch_listen なくても外部ツールを作ればいける</pre>
<pre>ycino 1585059721.203300: `.ts` ファイルなら付けないのが一般的って感じですね</pre>
<pre>ycino 1585059748.204000: あ、しかもexpo使ってるんですね</pre>
<pre>kuu 1585059762.204400: 同期複雑そうだし中央サーバー立てるのが楽だろうなあ、たしかに</pre>
<pre>raa0121 1585059771.204600: <https://github.com/raa0121/SeikaCenter.ts></pre>
<pre>raa0121 1585059778.205000: 使ってるライブラリです</pre>
<pre>ycino 1585059803.205600: あー、ライブラリ名に.ts入ってたんですね
なるほど</pre>
<pre>ycino 1585059846.206400: importするところで.ts付くのやっぱり違和感があるんで、パッケージ名変えちゃうのも手かも</pre>
<pre>lambdalisue 1585059865.206800: なるほど孔明wwww</pre>
<pre>raa0121 1585059909.207600: vim plugin にも、hoge.vim 系あるし、いいかなって感じでした…</pre>
<pre>heavenshell 1585059924.207900: w</pre>
<pre>thinca 1585059927.208100: リポジトリ名 != パッケージ名</pre>
<pre>ycino 1585059952.208900: `ts-foo` が多いのかなぁ</pre>
<pre>heavenshell 1585059959.209200: 自分もこの前 push したのはリポジトリ名 != ライブラリ名 すね。</pre>
<pre>heavenshell 1585059965.209500: まさに ts-foo 系。</pre>
<pre>hrsh7th 1585059968.209600: npm にある前提だと 結局配布されるのは javascript なので `typed-***` とかが無難かもしれないですね。</pre>
<pre>hrsh7th 1585060010.210100: _今回のケースだと、単純に .ts 削るだけが一番イメージどおりそうではありますｗ_</pre>
<pre>heavenshell 1585060036.210600: npm も変えるのはなかなか勇気がいりそうですねw</pre>
<pre>ycino 1585060054.211100: download数を見て爆破かなぁ</pre>
<pre>heavenshell 1585060092.211800: 蘇る left-pad 事件</pre>
<pre>raa0121 1585060097.211900: みなさん、色々ありがとうございます。今日はいつもより眠気が早めに来たので、落ちます…</pre>
<pre>raa0121 1585060113.212600: JS界隈、知識がなさすぎるので、勉強しないとなぁ</pre>
<pre>heavenshell 1585060128.213300: 少しずつで良いと思いますよ！</pre>
<pre>raa0121 1585060131.213500: コピペプログラミングじゃ前に進めない…</pre>
<pre>ycino 1585060142.213800: フロント、追いかけるの大変だけど慣れればどうにかなるんで頑張ってください</pre>
<pre>ycino 1585060163.214300: いきなりvue-native + expoやってるみたいなのがハードル高い感も</pre>
<pre>heavenshell 1585060179.214900: + TS</pre>
<pre>heavenshell 1585060185.215400: かなり難易度上がりそう。</pre>
<pre>hrsh7th 1585060185.215500: JS は事前知識要求しすぎですよね。。。</pre>
<pre>ycino 1585060194.215900: 確かに、色んな設定が全部混ざる系ですね</pre>
<pre>kuu 1585060228.217100: 処理系と環境が分離されているので、環境固有のあれこれが混ざってきて急に難しくなるという印象</pre>
<pre>raa0121 1585060234.217500: expo、macOS なしにテストアプリがデプロイできるので、選択したので…</pre>
<pre>heavenshell 1585060234.217700: でも最初から TS 選択していてえらい！</pre>
<pre>kuu 1585060239.217800: 言語自体は簡単な方</pre>
<pre>ycino 1585060259.218500: TS選ぶの自体は大正解ですね、Vue（Vuex）と相性良くないのがあれですけど・・・</pre>
<pre>raa0121 1585060262.218700: 生JS書きたくなかったのはあります…</pre>
<pre>heavenshell 1585060286.219300: store 系はどうしても型パズルがなぁ。</pre>
<pre>heavenshell 1585060307.220200: 生の Redux もしばらく書いてないや。ヘルパーないともうかけない…。</pre>
<pre>ycino 1585060312.220800: reduxは慣れたらどうにかなりますけどねー
あとは今ならredux-toolkitでボイラープレート減らす</pre>
<pre>heavenshell 1585060317.221000: いやかけるけどメンテナンスしたくない。</pre>
<pre>ycino 1585060340.221500: reduxはもうredux-toolkitにぶん投げたい気持ちになってます</pre>
<pre>ycino 1585060363.222100: まぁ生でも書けはするんですけど</pre>
<pre>heavenshell 1585060383.222600: 自分は redux-aggregate ですねー。</pre>
<pre>hrsh7th 1585060386.222800: はやく Proxy が来てほしい。Proxy さえくれば面倒なことを何も考えずにきれいに動く redux みたいなことができる。。。</pre>
<pre>hrsh7th 1585060395.223000: つまり IE11…</pre>
<pre>ycino 1585060433.223300: aggregate使ったことない、これ安全に型つく感じです？</pre>
<pre>ycino 1585060437.223600: Proxyも分からない・・・</pre>
<pre>heavenshell 1585060444.223800: 付きます。</pre>
<pre>heavenshell 1585060449.224000: 自分も Proxy わからない。</pre>
<pre>hrsh7th 1585060509.225000: const state = Proxy.revocable(state, …)
state.id++;

とかやると、state.id が ++ されたことを Proxy の第２引数に与えたハンドラで検出できるので</pre>
<pre>hrsh7th 1585060539.225700: state.isFetching = true;
dispatch(STATE_IS_FETCHING)

みたいにいちいち教えてあげる必要がなくなります。。。</pre>
<pre>tsuyoshi_cho 1585060672.226300: 強い</pre>
<pre>heavenshell 1585060682.226500: <https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Proxy></pre>
<pre>heavenshell 1585060684.226800: へーー。</pre>
<pre>heavenshell 1585060737.227700: ブラウザ実装状況 IE が完全に死んでてワロタワロタ…</pre>
<pre>tsuyoshi_cho 1585060739.227800: 代理オブジェクトが受けて、本来のオブジェクトに回すまえにハンドラをキックできると...(でいいかな)</pre>
<pre>tsuyoshi_cho 1585060766.228600: IEはあるタイミングで機能追加止ったといえそうだし、しょうがないかな...</pre>
<pre>ycino 1585060781.228900: 便利そうだけど、自分が使うとどこでhookされたか訳分からないことになって爆発しそう</pre>
<pre>ycino 1585060799.229500: 可読性高く書けるのかな、いい感じのサンプルが見てみたい</pre>
<pre>tsuyoshi_cho 1585060812.229900: あとproxyになってるオブジェクトをメタ操作して加工しようとするとちょっとマズくなるかな?(ちゃんとガードがないと)</pre>
<pre>heavenshell 1585060837.230700: immutable なライブラリ系あったほうがいいってことです？</pre>
<pre>hrsh7th 1585060859.231100: RootState を Proxy にして、色んな所で代入しても再レンダリングをキックできたり。夢が広がりますね。</pre>
<pre>ycino 1585060888.231400: RootStateをProxyしちゃうのか、なるほど</pre>
<pre>ycino 1585060934.232300: コンポーネント側で定義したハンドラをRootStateに追加していく感じです？</pre>
<pre>hrsh7th 1585060953.232700: _実際は「これから書き込み処理開始！」って時に Proxy を作る気はしますが、まあそういうこともできるということです。_</pre>
<pre>ycino 1585061040.233600: Thunkとかで毎回SuccessとFailureをdispatchするの面倒ですよね・・・</pre>
<pre>hrsh7th 1585061103.234900: `export { read, write } = create&lt;RootState&gt;(initialState);` 自分がつくるならこういう I/F のライブラリにしますが、そのうちでてくるとは思います。
最近 Proxy で超便利！みたいなライブラリが少しずつでてきている気がするので。</pre>
<pre>ycino 1585061130.235300: Proxy、全然観測出来てなかった</pre>
<pre>heavenshell 1585061134.235500: いまいちイメージがわかない…。</pre>
<pre>heavenshell 1585061137.235700: :me-too:</pre>
<pre>tsuyoshi_cho 1585061246.236700: デバッグ系というか、ロガーやトレーサー的なのは聞きますが、実プロダクト的なのは知らんかったので、ちょっと楽しみですねぇ、それ &gt; 最近...気がするので</pre>
<pre>hrsh7th 1585061522.237300: みんな大好き immer も実は Proxy 使える場合は内部的に使っております。</pre>
<pre>ゴリラ 1585102417.000300: asciidoctor.jsをつかったことがある方いますか？</pre>
<pre>ゴリラ 1585102429.000500: <https://github.com/asciidoctor/asciidoctor.js/></pre>
<pre>mattn 1585526091.002100: 最近やたら poijs が reddit に流れてくるけどそんなにいい物なのだろうか。 <https://github.com/egoist/poi></pre>
<pre>yanom 1585535502.002700: これは、なんです？</pre>
<pre>thinca 1585535678.003000: 素人が扱うとすぐに破れそうな名前だ</pre>
<pre>tsuyoshi_cho 1585535791.003700: 紙かモナカか</pre>
<pre>mattn 1585536699.004200: poi と聞くと java しか思い浮かばないマン</pre>
<pre>heavenshell 1585537869.004500: ぽい</pre>
<pre>tsuyoshi_cho 1585537981.004900: &gt;  素人が扱うとすぐに破れそう
Plain oreore interface</pre>
<pre>thinca 1585540313.007000: Vim の正規表現の `\%[...]` を JavaScript で直接的にやる方法がたぶんなさそう(あったら教えてください)なのでそういうパターン (`foo` → `(?:f(?:oo?)?)?`) を生成する関数を作ろうと思うのだけど、何という名前がいいだろうか</pre>
<pre>kuu 1585541105.007900: 自分だけが使うものならvimのですと注釈コメント付けた上でatomListToRegExpとか雑に付けるけど、わかりやすいかと言われると微妙</pre>
<pre>ゴリラ 1585623717.008500: <https://twitter.com/gorilla0513/status/1244820368990162944?s=20></pre>
<pre>ゴリラ 1585623728.008900: 最近js書いていて思ったこと</pre>
<pre>ゴリラ 1585623760.009400: なんか、勝手に `http://` がついちゃった</pre>
<pre>tsuyoshi_cho 1585623768.009600: nameドメインありますしね</pre>
<pre>kuu 1585623795.010300: Goの開発者たちは分かりにくいのでやめろくらいに思ってそう</pre>
<pre>ゴリラ 1585623811.010700: 最初なんだこれ、とは思っていました</pre>
<pre>ゴリラ 1585623829.011100: 慣れるとそうでもない</pre>
<pre>tsuyoshi_cho 1585623847.011700: 各言語の記法は慣れが8割...か</pre>
<pre>thinca 1585623863.012100: これは任意の型を真偽値として扱える言語でないとできないのよね</pre>
<pre>thinca 1585623880.012300: Vim script でできてほしかった…</pre>
<pre>mattn 1585623890.012900: Ruby は `||=` があるね。</pre>
<pre>kuu 1585623910.013900: 任意の型を受け付けても通した瞬間にブールになる言語もあるのでつらい</pre>
<pre>thinca 1585623918.014100: JavaScript は `||=` ないのでたまにハマる</pre>
<pre>mattn 1585623929.014500: Ruby は、と書いてしまったけど Perl が起源ね。</pre>
<pre>heavenshell 1585623972.015400: Python も `gorilla.name = input.value or "gorilla"`  でやりますねー。</pre>
<pre>heavenshell 1585623987.015900: JS でもたまに↑書きます。</pre>
<pre>tsuyoshi_cho 1585623987.016000: そもそも変数に無効値が設定可能な言語で意味があることなので、言語によっては発生しないやつもあるしなあ...と思ったりw</pre>
<pre>mattn 1585624046.016600: JS のは関数の引数でやる時にモヤ感が出るんですよね。左辺にも右辺にも出てくるので。</pre>
<pre>mattn 1585624050.016800: ```a = a || b```</pre>
<pre>thinca 1585624112.017300: null をなくして Option 的な何かを使いたい</pre>
<pre>kuu 1585624147.018000: Kotlinのnullの扱い方は面白かったな</pre>
<pre>mattn 1585624166.018400: アントニーホーア「すまんゆるしてくれ」</pre>
<pre>mattn 1585624271.019900: <https://developers.srad.jp/story/09/03/05/0937219/></pre>
<pre>thinca 1585624309.021100: 低レイヤの C 言語とかに NULL ポインタがあるのはわかる。時代的に Java に null が残ってしまったのもまあ仕方ない感じはある。
Go は nil を入れるって決定はどういう経緯だったんだろう。Go も十分低レイヤだし仕方なかったんだろうか?</pre>
<pre>mattn 1585624360.021600: 経緯は知らないけど null/nil が無かったら無いで文句言う人はいそう。</pre>
<pre>thinca 1585624392.022200: Go は Generic ないから Option&lt;int&gt; みたいなのができないしな…</pre>
<pre>kuu 1585624432.023300: nullを無くした所で別のnull相当の何かで運用されるだけなのでモナディックな処理でもできない限り無くすのはきついと思う</pre>
<pre>kuu 1585624438.023600: Optionとかね</pre>
<pre>thinca 1585624513.024300: 任意の変数が null を取り得るのがつらみなのよね</pre>
<pre>thinca 1585624535.024900: TypeScript はがんばってる</pre>
<pre>tsuyoshi_cho 1585624546.025200: コンパイラでnullになりそうだと通らない言語はあるけど、あれはあれで大変...</pre>
<pre>tsuyoshi_cho 1585624588.026100: TypeScriptはうっかりanyとかうっかり別型とかがああるけどw、すごいなあと思う(型言語になりつつあるようなw)</pre>
<pre>mattn 1585624626.026900: やれる事が違うからなぁ。TypeScript は元の作りそっくりに C 言語ライブラリのバインディングを書けないし。</pre>
<pre>itchyny 1585624680.027300: <https://github.com/Microsoft/TypeScript/issues/14833></pre>
<pre>hotoolong 1585631891.027800: ??が追加されましたね。
<https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator></pre>
<pre>raa0121 1585631995.028300: Null 合体演算子は最近のPHP にも入りましたね</pre>
<pre>thinca 1585632487.028500: `&amp;.`</pre>
<pre>tyru 1585633354.029000: Perl にも `//` が</pre>
<pre>thinca 1585633605.029300: 空の正規表現にしか見えないのでもうダメ</pre>
<pre>itchyny 1585633753.029600: コメント</pre>
<pre>raa0121 1585633772.029900: Perl だとコメントは `#` だから…</pre>
<pre>itchyny 1585633793.030100: はい</pre>
<pre>mattn 1585633818.030500: `?.` が好きです。</pre>
<pre>thinca 1585633973.031200: 好きな演算子選手権</pre>
<pre>mattn 1585634163.032100: 昔 `:=` は「〇んこ演算子」と呼ばれていた。</pre>
<pre>tsuyoshi_cho 1585634201.032500: オットセイでしたっけ?</pre>
<pre>itchyny 1585634202.032600: セイウチ</pre>
<pre>tsuyoshi_cho 1585634206.032800: あう</pre>
<pre>tsuyoshi_cho 1585634231.033300: `:=3`</pre>
<pre>kuu 1585634250.033700: 鼻息かな？</pre>
<pre>tsuyoshi_cho 1585634280.034300: `${E:-&lt;}`  演算子ではない</pre>
<pre>mattn 1585634328.034600: null 合体演算子はなんで elvis 演算子にしなかったんだろう。</pre>
<pre>mattn 1585634346.034900: `var a = x ?: y`</pre>
<pre>mattn 1585634354.035100: これが elvis 演算子。</pre>
<pre>tsuyoshi_cho 1585634377.035900: すでに3項演算子として有名だった&amp;トラブりそうだった?</pre>
<pre>mattn 1585634382.036100: エルヴィスプレスリーのとんがった頭に似てるからそう名付けられた `?:`</pre>
<pre>mattn 1585634715.036300: たまに `?.` が勘違いされてて

```x?.foo?.bar?.baz```
みたいに書かれる事があるんよね。</pre>
<pre>mattn 1585634728.036600: ```x?.foo.bar.baz```
で ok。</pre>
<pre>mattn 1585634746.037000: ```null?.null.null.null.null.null```
とかやってると楽しい。(楽しくない)</pre>
<pre>heavenshell 1585634936.038300: 最近書いた邪悪なコードは
`foo!.bar!.baz` です(後でなおす)</pre>
<pre>mattn 1585634974.038500: 強そう</pre>
<pre>tsuyoshi_cho 1585635040.039200: (キバヤシ)フーでバーでバズなんだよ!!!</pre>
<pre>thinca 1585635041.039300: Ruby は `&amp;.` 毎回書かないといけない</pre>
<pre>ゴリラ 1585635560.039700: `??` 便利だな</pre>
<pre>mattn 1585635943.040000: Ruby は method_missing で null を返せば ok</pre>
<pre>ゴリラ 1585655696.041800: [質問]
`forEach` と `entries` の使い分けって皆さんどうしていますか？
自分は大体こんな感じで書きますが、 `forEach`の用途がピンとこないので質問しました

```for ([i, v] of list.entries) {
    // do something
}```</pre>
<pre>kuu 1585655985.042700: forEachが必要な時って副作用が必要な時だけですし、そんなに都合よく渡せる関数があるケースなど基本ないので使わないですね</pre>
<pre>heavenshell 1585656152.043000: for 文を書きたくないでござる！</pre>
<pre>heavenshell 1585656167.043400: の場合かな。</pre>
<pre>ゴリラ 1585656287.043800: &gt; forEachが必要な時って副作用が必要な時だけですし、そんなに都合よく渡せる関数があるケースなど基本ないので使わないですね
副作用が必要なパターンって、例えばどんなのがありますか？</pre>
<pre>heavenshell 1585656312.044600: あと array.entries は IE11 で使えないので、そういうのを避けないといけない場合。</pre>
<pre>kuu 1585656401.045700: mapじゃなくてforでやるような事全般かな</pre>
<pre>kuu 1585656409.046000: 外部に出力したいだとかそういうやつ</pre>
<pre>heavenshell 1585656560.046700: 逆に自分ならなんで forEach や map じゃないの？ってレビューしそう…。</pre>
<pre>lambdalisue 1585658331.046900: 主題とはちょっとズレてるけど</pre>
<pre>lambdalisue 1585658334.047300: ```function collect() {
  return [0, 1, 2, 3, 4, 5];
}

// case 1
collect()
  .filter((n) =&gt; n % 2 === 0)
  .map((n) =&gt; `No ${n}`)
  .forEach((s) =&gt; console.log(s));

// case 2
const values = collect()
  .filter((n) =&gt; n % 2 === 0)
  .map((n) =&gt; `No ${n}`);

for (const s of values) {
  console.log(s);
}```</pre>
<pre>lambdalisue 1585658346.047600: `forEach` のほうが流れ出かけてよくね？パターン</pre>
<pre>lambdalisue 1585658429.048100: まぁ滅多に無いですがw</pre>
<pre>heavenshell 1585658452.048500: や、まさにその発想。</pre>
<pre>lambdalisue 1585658479.049600: `map/filter` で変数に入れちゃって.... で受け渡してく方が多いから自分で `for/forEach` とか書かないことが多い</pre>
<pre>heavenshell 1585658480.049800: まぁ map してから forEach は極端だけどw</pre>
<pre>lambdalisue 1585658557.050700: まぁ正直 for/forEach はどっちでもいいと思います</pre>
<pre>heavenshell 1585658575.051400: うん。</pre>
<pre>lambdalisue 1585658576.051600: for or map/filter の比較なら map/filter に軍配が上がると思う（個人差</pre>
<pre>heavenshell 1585658621.052600: IE11 を気にしないといけない場合だけすね</pre>
<pre>mattn 1585658628.052800: 僕も map/filter だけど、なんとなく map/filter の方がパフォーマンス悪そう。</pre>
<pre>mattn 1585658648.053100: 誤差の世界だろうけど。</pre>
<pre>heavenshell 1585658677.054200: 多分誤差の世界だろうし測ったことないですけど、同じ感想です</pre>
<pre>lambdalisue 1585658682.054500: ```// for
const memory = [];
for (const value of [...]) {
  // 超複雑な処理でムッチャ長いし分岐も多い
  memory.push(value);
}

// map
const memory = [...].map((v) =&gt; {
  // 超複雑な処理でムッチャ長い
  return v;
});```</pre>
<pre>kuu 1585658687.054700: forでやるとパフォーマンスが落ちる言語がありましてね、Pythonって言うんですけど</pre>
<pre>kuu 1585658692.055100: JSだと誤差だと思う</pre>
<pre>lambdalisue 1585658718.055900: 上記は `memory.push()` を呼び忘れても型で守れないけど下記は型で守れる</pre>
<pre>thinca 1585658725.056000: パフォーマンスは知らないけど Ruby の for は一切使われない</pre>
<pre>lambdalisue 1585658750.056600: &gt; forでやるとパフォーマンスが落ちる言語がありましてね、Pythonって言うんですけど
:hai-small:</pre>
<pre>thinca 1585658759.056800: continue/break したい場合は forEach 困る</pre>
<pre>lambdalisue 1585658823.057800: なんか戻り値が `true/false` で `break/continue` なのあった気がするけどなんだっけ</pre>
<pre>kuu 1585658826.057900: 例外投げるか特定の値返すと止まるforeachはなんかで見たな（もう忘れた）</pre>
<pre>kuu 1585658835.058200: 相当気持ち悪かった記憶がある</pre>
<pre>lambdalisue 1585658858.058700: 例外投げると止まるのは js の forEach かと</pre>
<pre>thinca 1585658896.059600: ループ止めるために例外を使うのは乱用感高い</pre>
<pre> 1585658911.060100: </pre>
<pre>lambdalisue 1585658926.060700: jQuery の foreach だったかな、戻り値の true/false で継続と終了を分けるの</pre>
<pre>lambdalisue 1585658974.060900: <http://js.studio-kingdom.com/jquery/utilities/each></pre>
<pre>lambdalisue 1585658975.061200: だった</pre>
<pre>kuu 1585658997.061600: あーこれかあ…</pre>
<pre>lambdalisue 1585659026.062000: まぁ forEach の関数の戻り値で判断するの js っぽいなと思います</pre>
<pre>lambdalisue 1585659049.062600: 値を返さないのと `false` を返すのが同等（としても扱える）言語なので</pre>
<pre>thinca 1585659073.063200: これって組み込みの forEach がそもそもなかった時代とかだっけ? (そんな時代なかったかもしれん)</pre>
<pre>lambdalisue 1585659077.063400: YES</pre>
<pre>kuu 1585659083.063900: せやな</pre>
<pre>lambdalisue 1585659084.064000: `forEach` 結構新しいので</pre>
<pre>lambdalisue 1585659094.064600: （新しい :thinking_face: ）</pre>
<pre>thinca 1585659098.064800: だよね。記憶が定かではなかった</pre>
<pre>mattn 1585659103.064900: だれか node elements を回せる for をくれ</pre>
<pre>mattn 1585659147.066700: てか node elements、お前が forEach を提供しろ。</pre>
<pre>lambdalisue 1585659149.066900: まだ回せないのか（生でほとんど触らないから知らない）</pre>
<pre>thinca 1585659150.067000: node elements なんだろう?</pre>
<pre>lambdalisue 1585659159.067400: Array じゃないんですよ</pre>
<pre>kuu 1585659159.067500: 関数型っぽいことするやつ流行ってたな(lodashとか)</pre>
<pre>luma 1585659160.067600: `Array.from` ?</pre>
<pre>mattn 1585659172.068100: document.querySelector("div").map(x =&gt; ) やりたいですよね？</pre>
<pre>lambdalisue 1585659187.068600: いまは `Array.from` ありましたねー</pre>
<pre>thinca 1585659202.068900: そっちか…普段 Node.js しか触らんのでブラウザのコンポーネントはわからぬ</pre>
<pre>lambdalisue 1585659221.069300: 普段ブラウザだけど生DOM触らないから困ってないw</pre>
<pre>thinca 1585659235.069700: `Array.from` でいけるならそれで良さそうな気がする</pre>
<pre>thinca 1585659268.070600: hubot のスクリプトか GitHub Actions かのだいたい二択</pre>
<pre>lambdalisue 1585659276.070800: ```[...document.querySelector("div")].map(x =&gt; ...)```</pre>
<pre>lambdalisue 1585659279.071000: かな？</pre>
<pre>mattn 1585659322.071400: それよさそう。</pre>
<pre>mattn 1585659322.071500: ただ hasOwnProperty なんやろか</pre>
<pre>mattn 1585659479.071700: [...document.querySelector("div")] あかんか。</pre>
<pre>lambdalisue 1585659487.071900: むりかー</pre>
<pre>mattn 1585659581.072400: あ、うそ。</pre>
<pre>lambdalisue 1585659584.072600: いや selector じゃだめやんw</pre>
<pre>mattn 1585659584.072700: いけそう。</pre>
<pre>luma 1585659592.072900: All抜けてますかね</pre>
<pre>lambdalisue 1585659620.073600: ```[...document.querySelectorAll("div")].map(...)```</pre>
<pre>lambdalisue 1585659621.073800: ですね</pre>
<pre>mattn 1585659633.074000: [...document.querySelectorAll("div")].map(x =&gt; x.nodeName) うん。動いてる。</pre>
<pre>mattn 1585659666.074300: IE11、はやく死んで。</pre>
<pre>thinca 1585659689.074600: Edge をお使いくださいって出そう</pre>
<pre>mattn 1585659729.075100: 業務色的に言えそうにない。</pre>
<pre>tsuyoshi_cho 1585659840.076600: むー、とはいえIE11対象外はEdgeもある(あった)し、メンテフェーズとも言えたので、本当は強気に言っとくべきだったんだろうなあ(そして逆に固定仕様でメンテ続けてたツール自体が悪としちゃうのも違うし...)
とあまり関係ない分野にいると思ってしまったり</pre>
<pre>thinca 1585659934.077100: まあ分野的につらいところはあるんだろうなと言う気はする。よくは知らないけど</pre>
<pre>thinca 1585659945.077400: たぶん一番ラクな方法は…転職…ですかね…</pre>
<pre>heavenshell 1585660294.079900: [1, 2, 3].map(v =&gt; {}) って出来たんでしたっけ。Array.from せんといけないのだるい…</pre>
<pre>tsuyoshi_cho 1585660413.080900: 型というか対応するプロトタイプとのマッチングがふんわりというか、面倒といえばそうな所もありますね</pre>
<pre>lambdalisue 1585660443.081500: `[...Array(3)].map((_, v) =&gt; v)` ? （見ずに書いてるからわからない</pre>
<pre>thinca 1585660586.082300: Vim script の map() がつらい</pre>
<pre>mattn 1585660599.082900: this 使えばいけるのでは</pre>
<pre>kuu 1585660600.083200: ファイル名に書かれているクエリを見ながら「わかるーw」と言ってる</pre>
<pre>mattn 1585660605.083500: ```[1,2,3].map(x =&gt; this[x] = x*2)```</pre>
<pre>tsuyoshi_cho 1585660616.083800: すぐにvitalに逃げてる...(そうじゃない)</pre>
<pre>lambdalisue 1585660655.084700: `-<http://www.sejuku.net|www.sejuku.net>` してるのがバレてしまった</pre>
<pre>thinca 1585660655.084800: ファイル名あかんw (ものによっては本当に危ない)</pre>
<pre>kuu 1585660656.085000: lambdaの場合の第一引数がindexなの本当につらい</pre>
<pre>luma 1585660694.085800: それ is 何</pre>
<pre>kuu 1585660698.085900: この前これ踏んでバグった</pre>
<pre>mattn 1585660709.086400: あるある</pre>
<pre>lambdalisue 1585660713.086500: 念のため画像を消しておこう</pre>
<pre>luma 1585660732.087100: 侍</pre>
<pre>thinca 1585660777.088600: スクショとか撮った時に勝手にアクティブウィンドウのタイトルとか持ってくるのも本当に危ないし余計なことするなってなる</pre>
<pre>mattn 1585660791.089000: 透けるウィンドウもやばい。</pre>
<pre>tsuyoshi_cho 1585660791.089100: <#CUPKWMQFK|vim-script> 案件だけど
• map他の破壊的挙動
• 引数の第一、第二があること(あるのは助かるときもあるが)
あたりがあぶない穴かなあ</pre>
<pre>tsuyoshi_cho 1585660815.089500: (キャプチャはいつも気をつけてる..)(半透明派)</pre>
<pre>luma 1585660829.089800: google検索除外するやつか</pre>
<pre>mattn 1585660868.090300: 侍除け</pre>
<pre>luma 1585660893.091000: 破壊，methodがなければ便利，methodがあるのでもういらないかな，みたいな感じがある</pre>
<pre>tsuyoshi_cho 1585660908.091300: 坊主避けの仲間感</pre>
<pre>luma 1585660946.091900: JSにもはやく pipeline operator来てほしいな</pre>
<pre>luma 1585660964.092500: や，本当に必要なのはPythonかもしれない...</pre>
<pre>heavenshell 1585660964.092600: babel の先っちょまち。</pre>
<pre>lambdalisue 1585660991.092900: Python は lambda が辛いからなぁ...</pre>
<pre>thinca 1585661081.093200: `array-&gt;copy()-&gt;map(func)`</pre>
<pre>kuu 1585661152.093600: なんつーかキモいなあw</pre>
<pre>mattn 1585661167.094000: python はコードを右方向に書きながら左に戻ってこないといけないのがつらい。</pre>
<pre>mattn 1585661178.094300: js や ruby は右に行きっぱなしでコードが書ける。</pre>
<pre>lambdalisue 1585661208.094700: Python は縦に伸ばす言語ですしねぇ</pre>
<pre>heavenshell 1585661209.094800: E731 で禁止にしよう。</pre>
<pre>lambdalisue 1585661240.095600: まぁ lambda 使っていいのは小学（ry</pre>
<pre>kuu 1585661250.096200: メソッドチェーンやら出来ないと縦に伸びるのわかる</pre>
<pre>kuu 1585661263.096700: 一時変数作りまくるスタイルになってた</pre>
<pre>lambdalisue 1585661297.097400: TypeScript バリバリ書いてから Python に戻ると「うっ....」ってなる</pre>
<pre>lambdalisue 1585661307.097700: map/filter でつなげたいし</pre>
<pre>lambdalisue 1585661310.098100: const ほしい</pre>
<pre>heavenshell 1585661325.098900: 3 ネスト以上する list 内包表記を書いたことない者だけが石を投げなさい</pre>
<pre>lambdalisue 1585661338.099400: 流石に無いw</pre>
<pre>ゴリラ 1585661346.100000: 離れていたらめっちゃ話が進んでいた
とりあえずalisueさんの例でforEachを使う場面がわかったので、だいぶスッキリした</pre>
<pre>mattn 1585661349.100400: 次の日読めなくなってるやつ。</pre>
<pre>lambdalisue 1585661354.100500: イテレータで一次変数切る</pre>
<pre>heavenshell 1585661375.101000: 書いたんや！一ヶ月後誰やこのクソコード書いたんは！あ、自分や！ってなりますた。</pre>
<pre>lambdalisue 1585661382.101300: :totemoturai:</pre>
<pre>lambdalisue 1585661428.103200: TypeScript から移動してくると脳が map/filter になってるから Python で map/filter 使ったコード書いててびっくりしたことならあるw</pre>
<pre>tsuyoshi_cho 1585661429.103400: ただ、Elixer(だったかな)のpiplineを見てると、「それ手続きじゃん」という気持ちになることもある
や、意図はわかるので、文句じゃないんだけどw</pre>
<pre>lambdalisue 1585661446.103900: Python の `map/filter` は後方互換性のためだけに存在します</pre>
<pre>heavenshell 1585661448.104000: Python で map, filter ほとんど書いたことないな。</pre>
<pre>mattn 1585661469.104600: リスト内包でやる文化。</pre>
<pre>heavenshell 1585661471.104700: たまーに all と any はある。</pre>
<pre>heavenshell 1585661483.105400: 一方 TS で for (){} はほとんど(ry</pre>
<pre>luma 1585661493.105700: あーリスト内包，あーなるほど</pre>
<pre>lambdalisue 1585661520.106400: `map/filter` は `lambda` を生み出してしまった負の財産</pre>
<pre>tsuyoshi_cho 1585661526.106700: ただ、ちょっと複雑になると内包も見辛いのがな...</pre>
<pre>luma 1585661535.106800: Python, lambda 禁止でもかけるのか</pre>
<pre>heavenshell 1585661547.107400: というか書いたら flake8 に怒られる。</pre>
<pre>lambdalisue 1585661551.107600: `lambda` を嫌うのが Python ですね</pre>
<pre>lambdalisue 1585661577.108000: `def` でええやん　文化</pre>
<pre>lambdalisue 1585661587.108500: s/で/が</pre>
<pre>heavenshell 1585661600.108900: まぁ複雑な lambda 書くんなら def かけや、デコレーター使えやの文化だからなぁ。</pre>
<pre>tsuyoshi_cho 1585661668.109900: {} がないこともあって、関数とかも簡素に書けますしね</pre>
<pre>heavenshell 1585661687.110100: ですねー。</pre>
<pre>mattn 1585661750.110600: 汎用ライブラリじゃないけど `___iter__` って書きます？</pre>
<pre>tsuyoshi_cho 1585661808.112100: よっぽどデータ構造作るなら書くだろうけど、いまんとこやったことないですw
(とあるミニツールしか作ったことない)</pre>
<pre>lambdalisue 1585661821.112400: んー僕は書かないですね。可能な限り書くコード量を減らしたいので、ライブラリじゃ無い限り汎用性よりシンプルさをとります</pre>
<pre>lambdalisue 1585661854.113000: Python さいあくほんばんかんきょうの `.py` かきかえればいいのよ</pre>
<pre>heavenshell 1585661866.113400: ライブラリーでない限り滅多に書きませんね。</pre>
<pre>mattn 1585662088.114500: テキストファイルをチョチョッと整形したりする場合なんかには python 使われてます？</pre>
<pre>heavenshell 1585662119.114900: はい。一応 primary 言語なのでw</pre>
<pre>heavenshell 1585662192.115900: Vim でやるのだるい → Python でスクリプト書く
ですかね。</pre>
<pre>mattn 1585662227.116100: なるほど。</pre>
<pre>mattn 1585662464.116400: 僕は Vim =&gt; Ruby かな。</pre>
<pre>lambdalisue 1585662496.116700: Vim でやるのだるい→ Vim プラグイン作ろう</pre>
<pre>lambdalisue 1585662575.117700: マジレスなら僕も Python 使いますね。ただ、そのまえに bash で頑張ると言うステップ踏むことが多いですが</pre>
<pre>mattn 1585662663.119000: ruby だと
```p x.map {|x| ...}. ```
みたいに少しずつ増やしながら確認できるのが好き。</pre>
<pre>lambdalisue 1585662727.119300: &gt; 少しずつ増やしながら
:wakaru:</pre>
<pre>raa0121 1585673207.120000: Rubyのメソッドチェーンはほんとに強いですよね…(会社でPHPを読み/書きすると実感する</pre>
<pre>mattn 1585673486.120700: スクリプトを quickrun で逐一実行しながら確認してるので便利。</pre>
<pre>tyru 1585683197.121300: rubyist はデバッグに .tap とか使ったりしないんだろうか</pre>
<pre>tyru 1585707822.122000: tapper</pre>
<pre>thinca 1585708038.122400: tapp は `p` (pretty print) する tap</pre>
<pre>tyru 1585708125.122500: ふむふむなるほど</pre>
<pre>mattn 1585708164.122700: タッパ〇んこ</pre>
{% endraw %}
