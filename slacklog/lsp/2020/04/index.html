---
# vim:set ts=2 sts=2 sw=2 et:
layout: slacklog
title: vim-jp.slack.com log - &#35lsp - 2020年04月
---
<div>
<h2><a href='{{ post.url }}'>{{ page.title }}</a></h2>

{% raw %}
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>1日 23:15:43</span>
<span class='slacklog-text'>あらゆる asyncomplete sourceをoffってみたりしたけど根本が不明...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>1日 23:23:40</span>
<span class='slacklog-text'>お暇なasyncomplete利用者のかたへ
もしよければ、以下の操作での結果がどうなったか、教えていただけますか?
1. 環境的にはpopupで補完が出る状況 + C-eなどにキャンセルがマップされてること
2. 補完が行なわれるバッファでキー入力開始
3. 補完の途中の状態でC-eなどで補完キャンセル
4. そのままinsert modeの状態でスペースを入力
```inoremap &amp;lt;expr&amp;gt; &amp;lt;C-e&amp;gt; pumvisible() ? asyncomplete#cancel_popup() : &#34;\&amp;lt;C-e&amp;gt;&#34;```
確認したいこと: キャンセルした補完がポップアップされるか?
(ポップアップが出ない、あるいは違う内容の補完が始まるなら、期待動作のはず、同じ補完が出ちゃうのはたぶん期待外動作)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>1日 23:23:51</span>
<span class='slacklog-text'>環境によるかもしれないから、あくまで参考までなのですが...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>1日 23:32:12</span>
<span class='slacklog-text'>&lt;https://mattn.kaoriya.net/software/vim/20191231213507.htm&gt;
この環境ほぼそのままなんですが、再現しないですねー</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>1日 23:32:24</span>
<span class='slacklog-text'>lspのソース以外は入れてないです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>1日 23:33:44</span>
<span class='slacklog-text'>あー...lspだけだとさすがにないのか...
自分はasyncomplete-emojiだけにして空filetypeバッファでやって出るので(そしてemoji以外でも出たので、切り分け的には最初に除外できたもの)なので、なんか設定自体ではどこでも出ちゃうのかも、というのを気にしたという...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>1日 23:34:36</span>
<span class='slacklog-text'>lspだけにして再確認してみます...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>1日 23:40:09</span>
<span class='slacklog-text'>一応キャプチャ撮ってみましたが、参考になります？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>1日 23:41:08</span>
<span class='slacklog-text'>ありがとうございます。こっちでも撮ってみます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>1日 23:56:17</span>
<span class='slacklog-text'>あれえ、vim-lspからの補完がうまくいかない...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/0c3ec8434af0d4cbcbd17bd51bcf1154.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>kg8m</span>
<span class='slacklog-datetime'>2日 11:38:25</span>
<span class='slacklog-text'>&lt;https://vim-jp.slack.com/archives/CQ57P4XU4/p1585751019107900&gt;
自分も再現しないですね……。 `g:asyncomplete_preprocessor` を自前でやってるのが理由かと思ってデフォルトでやってみましたが無事にポップアップは出ませんでした。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 11:55:15</span>
<span class='slacklog-text'>ありがとうございます。
なにかしら自分環境由来なんでしょうね...(現在lspが変なのでそちらから調査中...)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>2日 12:37:52</span>
<span class='slacklog-text'>lsp_server_initが飛んでない...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>2日 12:40:46</span>
<span class='slacklog-text'>sensoredしたログ、普通に動いてる、よな?
ちなみにgoplsでも同じ症状だったので(ログはまだ)、たぶんlspサーバの個体差じゃないとは思うが...(ただstderrの出力あるのは気になる)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:04:07</span>
<span class='slacklog-text'>上の状況のvimでomnifuncにlsp#completeをセットすれば普通に補完したので、vim-lsp側とlsp連携がまったくできてない、とかではない様子</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:07:22</span>
<span class='slacklog-text'>gopls、Windowsで Access Deniedでインストール失敗にあう...うぅ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:08:10</span>
<span class='slacklog-text'>`81 C:\Users\&amp;lt;username&amp;gt;\.local\share\vim-lsp-settings\gopls\pkg\mod\&lt;http://golang.org|golang.org&gt;\x\tools@v0.0.0-20200316194252-fafb6e2e8a4a: Access is denied`</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:15:09</span>
<span class='slacklog-text'>なおLinux環境でもvim-lspの挙動は同じだった</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:36:19</span>
<span class='slacklog-text'>asyncompleteのC-eでマッピングして補完キャンセルしてスペース入力のですが、僕の手元でもポップアップは出ませんでした</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:38:16</span>
<span class='slacklog-text'>ありがとうございます...なんだろうなあ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:38:54</span>
<span class='slacklog-text'>vim-lspが lsp_server_init出してないというのがあったので、これはvim-lspにほぼ完結してるはず、とissue出しました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:38:58</span>
<span class='slacklog-text'>むー</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:39:13</span>
<span class='slacklog-text'>asyncompleteはかなり謎...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:39:23</span>
<span class='slacklog-text'>最小構成ってどんなのでしたっけ？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:40:27</span>
<span class='slacklog-text'>自分が
• asyncompleteのソースがいろいろ
• 調べたらasyncomplete-lsp/vim-lspが連動してなかった(のでlspだけにできなかった)
• 最小と言えるか不明だが、asyncomplete-emoji単体でも出た(これoffかつ他のでも出るので、emojiが悪いとも思えない)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:40:30</span>
<span class='slacklog-text'>ですかね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:40:57</span>
<span class='slacklog-text'>僕はasyncomplete-lspしか入れてない環境ですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:41:00</span>
<span class='slacklog-text'>最小化にするにはちょっと環境がいじりにくくなってて、詰めれてません...すみませぬ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:41:14</span>
<span class='slacklog-text'>(なのでlspだけにしたかったんですが)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:41:25</span>
<span class='slacklog-text'>なるほどー。dockerかなにかでちょろっと流してみます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:41:35</span>
<span class='slacklog-text'>ありがとうございます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:41:58</span>
<span class='slacklog-text'>&lt;https://gist.github.com/tsuyoshicho/0bab16b946cf4fbbb7c540ac03c18664&gt;
秘密(でもなんでもない) ログのfull</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:43:22</span>
<span class='slacklog-text'>結構長くハマってますよね。。つらそう。。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:44:15</span>
<span class='slacklog-text'>他のこといろいろやってるので、ボチボチやってる、というのはあります
前は補完動いたし、そっから特に設定はしてない(できる要素がない)んですけどねえ...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:52:47</span>
<span class='slacklog-text'>問題点はasyncompleteのソースを色々入れたら補完キャンセルでスペースで再ポップアップされちゃうことでしたでしょうか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:55:35</span>
<span class='slacklog-text'>見える症状はそうですね
• asyncomplete補完開始
• asyncompleteのcancel実施
• insertのままスペース入力
• キャンセルした内容の補完popupが出る
これ単体は実は害がほとんどないんですが、挙動が変なので調査しだしたら、いろいろ(自分の環境の?)問題が見えてきまして...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 13:56:10</span>
<span class='slacklog-text'>lspだけにして確認しようとしたら、lspがasyncompleteと連携してなかったorz、というのもあり確認が難航しています(他の人でOKの状態にしてから進めたかった)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:58:54</span>
<span class='slacklog-text'>こんなのでUbuntuのfocalで試しましたがvim-language-serverもpylsも普通にC-eのあとにスペースでポップアップはでませんでしたね。改めてlsp単体のasyncompleteの連携は問題なさそう
```call plug#begin(&#39;~/.vim/plugged&#39;)
Plug &#39;prabirshrestha/async.vim&#39;
Plug &#39;prabirshrestha/vim-lsp&#39;
Plug &#39;prabirshrestha/asyncomplete.vim&#39;
Plug &#39;prabirshrestha/asyncomplete-lsp.vim&#39;
Plug &#39;mattn/vim-lsp-settings&#39;
call plug#end()

augroup LspMappings
  au!
  au FileType vim,python call s:lsp_common_mappings()
augroup END

function! s:lsp_common_mappings() abort
  setlocal omnifunc=lsp#complete
  nmap &amp;lt;buffer&amp;gt; K &amp;lt;Plug&amp;gt;(lsp-hover)
  nmap &amp;lt;buffer&amp;gt; &amp;lt;silent&amp;gt; [g &amp;lt;Plug&amp;gt;(lsp-previous-diagnostic)
  nmap &amp;lt;buffer&amp;gt; &amp;lt;silent&amp;gt; ]g &amp;lt;Plug&amp;gt;(lsp-next-diagnostic)
  nmap &amp;lt;buffer&amp;gt; gd &amp;lt;Plug&amp;gt;(lsp-definition)
endfunction

inoremap &amp;lt;expr&amp;gt; &amp;lt;C-y&amp;gt; pumvisible() ? asyncomplete#close_popup() : &#34;\&amp;lt;C-y&amp;gt;&#34;
inoremap &amp;lt;expr&amp;gt; &amp;lt;C-e&amp;gt; pumvisible() ? asyncomplete#cancel_popup() : &#34;\&amp;lt;C-e&amp;gt;&#34;```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 13:59:31</span>
<span class='slacklog-text'>asyncompeteのソース、色々をためしてみます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:01:41</span>
<span class='slacklog-text'>ありがとうございます。やっぱりlsp側連携は問題ないか...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:22:20</span>
<span class='slacklog-text'>asyncompleteとasyncomplete-emojiでやってみましたが絵文字補完(:smile: とか)中に asyncomplete 用の C-e のキャンセルをしてスペース入力で。ポップアップは出ませんでしたね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:23:02</span>
<span class='slacklog-text'>おー、絵文字展開されちゃうか。まーそうか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:25:02</span>
<span class='slacklog-text'>ありがとうございます。こちらも上の最小構成を試し中です...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:27:24</span>
<span class='slacklog-text'>ちなみに雑にこれだけで試しました(asyncomplete-emojiのはREADMEにあるそのままのそれで)
```call plug#begin(&#39;~/.vim/plugged&#39;)
Plug &#39;prabirshrestha/asyncomplete.vim&#39;
Plug &#39;prabirshrestha/asyncomplete-emoji.vim&#39;
call plug#end()

inoremap &amp;lt;expr&amp;gt; &amp;lt;C-e&amp;gt; pumvisible() ? asyncomplete#cancel_popup() : &#34;\&amp;lt;C-e&amp;gt;&#34;

au User asyncomplete_setup call asyncomplete#register_source(asyncomplete#sources#emoji#get_source_options({
    \ &#39;name&#39;: &#39;emoji&#39;,
    \ &#39;whitelist&#39;: [&#39;*&#39;],
    \ &#39;completor&#39;: function(&#39;asyncomplete#sources#emoji#completor&#39;),
    \ }))```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:28:51</span>
<span class='slacklog-text'>こっちはこんな風でpythonで試し中ですがomni補完でも補完がスタートしない(server は running...)
&lt;https://gist.github.com/tsuyoshicho/e8bc392f0c602432b9b43fa6380198d6&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:29:00</span>
<span class='slacklog-text'>なぜだw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:31:33</span>
<span class='slacklog-text'>emoji追加して確認したら、補完がキャンセルできるのは見えました。
ただ一文字目の `:` の時点でC-eすると補完がキャンセルできずに再ポップアップするな...これはemojiがバグってる臭いけど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:32:43</span>
<span class='slacklog-text'>あー、それは再現しました。候補？文字数？によっては再ポップアップしますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:32:55</span>
<span class='slacklog-text'>スペースの件とはまた別ですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:33:15</span>
<span class='slacklog-text'>やっぱりrefresh設定がダメなソースがどっかにいたんだろう、というのはほぼ確実かなあ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:33:25</span>
<span class='slacklog-text'>&lt;https://gist.github.com/tsuyoshicho/7882722ea4a1cc6c706b9d82c3997be4&gt;
emoji入り</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:36:40</span>
<span class='slacklog-text'>絵文字のは `:+1:`  を入力しようとして `:+` あたりや  `:-` あたりで C-e すると無限ポップアップはしますね。それくらいかなー</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:37:36</span>
<span class='slacklog-text'>そうですね、`:smi` あたりで止めるぶんには問題ないので...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:37:45</span>
<span class='slacklog-text'>emoji以外のソースで試すしかないか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:38:49</span>
<span class='slacklog-text'>: や + や - はなんか許せそう。リフレッシュするパターンからは漏れてそうな気がするし</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:41:47</span>
<span class='slacklog-text'>iskeywordに:と+と-をぶちこんだら、再ポップアプしなくなりました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:42:03</span>
<span class='slacklog-text'>あ、やはり refresh pattern だったのか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:43:29</span>
<span class='slacklog-text'>tagでやったら、c-eで出なくなったので、そこは問題なかったです(報告)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 14:43:32</span>
<span class='slacklog-text'>vimのファイルタイプで雑に試したらだいじょぶでした
```augroup AddKeyword
  au!
  au Filetype vim setlocal iskeyword+=:
  au Filetype vim setlocal iskeyword+=+
  au Filetype vim setlocal iskeyword+=-
augroup END```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 14:45:02</span>
<span class='slacklog-text'>でも現環境にすると、tagでのキャンセルも再popする...w
iskeywordは同じなんだけどなあ(未変更)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 15:05:53</span>
<span class='slacklog-text'>&lt;@U7TMPGWJ0&gt; さん、&lt;@U03C6TEAZ&gt; さん
issueとして出してはいるのですが、
&lt;https://vim-jp.slack.com/archives/CQ57P4XU4/p1585798671115100&gt;
は、やっぱりなにかしらの環境問題ですよね...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 15:24:17</span>
<span class='slacklog-text'>他の方も動いてるようですので、たしかになにかしら環境問題(vimrc等)なのかもしれませんね...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 15:25:27</span>
<span class='slacklog-text'>むう、一旦環境分解するところから始めないとかなあ...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a36a7ed02d64ce6f40a20ebfe0a9f59d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-48.png'>
<span class='slacklog-name'>yaegassy</span>
<span class='slacklog-datetime'>2日 15:27:29</span>
<span class='slacklog-text'>ちょっと整理して、↑の問題はvim-lsp自体は動いてるけどasyncomplete連携(asyncomplete-lsp)がうまくできてないってことですか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 15:30:58</span>
<span class='slacklog-text'>はい、omniだと補完動いていますが、lsp_server_initが発火しなかったため asyncomplete-lspのsource登録が処理されず、asyncompleteでは動かないことをログから確認しました。
(次々問題が見えたのはありますが、その中で見付けました。)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 15:33:13</span>
<span class='slacklog-text'>lsp_server_init は発火しているが、エラーがでて途中で止まっている。という説はなさそうでしょうか。。。？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 15:34:06</span>
<span class='slacklog-text'>ログに出てませんが、そういう状態になるとログ(自分がセットしたautocmd)出ない状態になりますっけ?
nestedが必要とかじゃないはずだと思うのですが...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 16:08:16</span>
<span class='slacklog-text'>&lt;https://vim-jp.slack.com/archives/CQ57P4XU4/p1585802517125700&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:34:47</span>
<span class='slacklog-text'>関数の途中で例外起きると発火しないですね。init より前だと register?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 16:41:11</span>
<span class='slacklog-text'>なるほど
ただ、lsp#utils#errorのメッセージはのこってないので、なにが発生したのか不明ですね...(それ以外の例外だとしたら、それはそれでmessagesに残りそうな気もするんですが、ない)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 16:59:45</span>
<span class='slacklog-text'>```2020/04/02 12:25:53:[&#34;s:on_stdout client option on_notification() error&#34;,&#34;Vim(call):E20: マークは設定されていません&#34;]
2020/04/02 12:25:53:[&#34;&amp;lt;---(stderr)&#34;,3,&#34;clangd&#34;,[&#34;I[12:25:53.899] clangd version 10.0.0 \r&#34;,&#34;I[12:25:53.901] Working directory: C:\\Users\\&amp;lt;username&amp;gt;\r&#34;,&#34;I[12:25:53.901] argv[0]: C:\\Program Files\\LLVM\\bin\\clangd.exe\r&#34;,&#34;I[12:25:53.901] argv[1]: --background-index\r&#34;,&#34;I[12:25:53.901] argv[2]: -j=4\r&#34;,&#34;I[12:25:53.901] Starting LSP over stdin/stdout\r&#34;,&#34;I[12:25:53.901] &amp;lt;-- initialize(1)\r&#34;,&#34;I[12:25:53.910] --&amp;gt; reply:initialize(1) 8 ms\r&#34;,&#34;&#34;]]```
ここら変があやしい?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:00:29</span>
<span class='slacklog-text'>ただ、これはclangdで、というだけで、他も同じ挙動だったような</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:00:36</span>
<span class='slacklog-text'>外して確認してみよう...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:07:19</span>
<span class='slacklog-text'>```2020/04/02 17:03:51:[&#34;s:on_stdout client option on_notification() error&#34;,&#34;Vim(call):E20: マークは設定されていません&#34;]
2020/04/02 17:03:51:[&#34;&amp;lt;---(stderr)&#34;,3,&#34;clangd&#34;,[&#34;I[17:03:51.380] clangd version 10.0.0 \r&#34;,&#34;I[17:03:51.382] Working directory: C:\\Users\\&amp;lt;username&amp;gt;\r&#34;,&#34;I[17:03:51.382] argv[0]: C:\\Program Files\\LLVM\\bin\\clangd.exe\r&#34;,&#34;I[17:03:51.382] Starting LSP over stdin/stdout\r&#34;,&#34;I[17:03:51.384] &amp;lt;-- initialize(1)\r&#34;,&#34;I[17:03:51.393] --&amp;gt; reply:initialize(1) 8 ms\r&#34;,&#34;&#34;]]```
オプションの設定を外してもかわらない...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:08:50</span>
<span class='slacklog-text'>Linuxもそうだし、影響はないか...
ただE20は気になる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:12:10</span>
<span class='slacklog-text'>&lt;https://github.com/prabirshrestha/vim-lsp/blob/52539a54ae338993460205b4528d34caf175582e/autoload/lsp/client.vim#L102-L107&gt;
でE20?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:25:23</span>
<span class='slacklog-text'>どっかの行に素の `&#39;` とか ` があるか探したけど、当然ないよなあ...関数呼び出し?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:46:30</span>
<span class='slacklog-text'>&lt;https://github.com/prabirshrestha/vim-lsp/blob/46308234a2691824f2f3ad1fa8bc0086d4a3d4cf/autoload/lsp/ui/vim/references.vim#L226&gt;
はあるが、呼ぶのはどこだ?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 17:53:37</span>
<span class='slacklog-text'>`l:on_notification_data` を見せて貰えればどこに飛ぶのかわかるかもです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 17:55:38</span>
<span class='slacklog-text'>もしくはその例外部分で v:throwpoint を出力してみるとか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 17:58:31</span>
<span class='slacklog-text'>ありがとうござます。
前に上ってるログにありますが、切り出しますのでちょっとまってください</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>2日 17:59:44</span>
<span class='slacklog-text'>ちょっと多めに切り出しました。
直前はこの後にpostします。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:00:35</span>
<span class='slacklog-text'>```[{&#34;response&#34;:{&#34;data&#34;:{&#34;__data__&#34;:&#34;vim-lsp&#34;,&#34;server_name&#34;:&#34;clangd&#34;},&#34;message&#34;:&#34;configuration sent&#34;}}]
[&#34;s:update_file_content()&#34;,2]
[&#34;---&amp;gt;&#34;,3,&#34;clangd&#34;,{&#34;method&#34;:&#34;textDocument/didOpen&#34;,&#34;params&#34;:{&#34;textDocument&#34;:{&#34;uri&#34;:&#34;file:///C:/Users/&amp;lt;username&amp;gt;/tmp/test.c&#34;,&#34;version&#34;:1,&#34;languageId&#34;:&#34;c&#34;,&#34;text&#34;:&#34;#include &amp;lt;stdio.h&amp;gt;\n\nint\nmain(int argc, char* argv[]) {\n  // int a;\n  printf();\n  printf();\n  printf();\n  return 0;\n}\n&#34;}}}]
[{&#34;response&#34;:{&#34;data&#34;:{&#34;path&#34;:&#34;file:///C:/Users/&amp;lt;username&amp;gt;/tmp/test.c&#34;,&#34;__data__&#34;:&#34;vim-lsp&#34;,&#34;filetype&#34;:&#34;c&#34;,&#34;server_name&#34;:&#34;clangd&#34;},&#34;message&#34;:&#34;textDocument/open sent&#34;}}]
[{&#34;response&#34;:{&#34;data&#34;:{&#34;path&#34;:&#34;file:///C:/Users/&amp;lt;username&amp;gt;/tmp/test.c&#34;,&#34;__data__&#34;:&#34;vim-lsp&#34;,&#34;server_name&#34;:&#34;clangd&#34;},&#34;message&#34;:&#34;not dirty&#34;}}]
[&#34;s:on_stdout client option on_notification() error&#34;,&#34;Vim(call):E20: マークは設定されていません&#34;]```
こんな風ですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:03:30</span>
<span class='slacklog-text'>いっそ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:03:31</span>
<span class='slacklog-text'>&lt;https://github.com/prabirshrestha/vim-lsp/blob/52539a54ae338993460205b4528d34caf175582e/autoload/lsp/client.vim#L102-L107&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:03:42</span>
<span class='slacklog-text'>この try/catch はずせばどこで出てるか分かるかも。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:04:09</span>
<span class='slacklog-text'>あー、やってみます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:07:35</span>
<span class='slacklog-text'>```User Autocommands for &#34;lsp_server_init&#34; の処理中にエラーが検出されました:
E20: マークは設定されていません
E20: マークは設定されていません
C:\Users\&amp;lt;username&amp;gt;\.cache\dein\.cache\.vimrc\.dein\autoload\yoink.vim の処理中にエラーが検出されました:
行   32:
E117: 未知の関数です: cutlass#getVersion```
おおう... yoinkとcutlass関係か</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:08:01</span>
<span class='slacklog-text'>はずしてみます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:08:02</span>
<span class='slacklog-text'>そうなんすよ。その on_notification の try/catch、結構根深いところから飛んでくることが多くて、実は自分のコードだった、みたいなのをよく見たりします。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:09:02</span>
<span class='slacklog-text'>これ、うまく呼び元をlogできないと辛いですね...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:09:13</span>
<span class='slacklog-text'>v:throwpoint 入れた方が良さそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 18:09:17</span>
<span class='slacklog-text'>yoink でなぜエラーがｗ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:10:02</span>
<span class='slacklog-text'>イベントがバブリングして全く関係ない所のエラーがさも vim-lsp のバグの様に出てしまう現象。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:10:07</span>
<span class='slacklog-text'>&lt;https://github.com/svermeulen/vim-yoink/blob/20daf7d4cdc6a36eba1b87b0f8849859d6e3b23c/autoload/yoink.vim#L30-L35&gt;
このキャッチがよくないんかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:10:45</span>
<span class='slacklog-text'>ありがとうございます、前進しました。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:09:48</span>
<span class='slacklog-text'>yoinkを切って(前のyankroundに戻して)、再度ログを取りましたら...

```s:on_stdout client option on_notification() error Vim(call):E20: マークは設定されていません User Autocommands for &#34;lsp_server_init&#34;```
今度は出所がわからないorz

```                    &#34; call client&#39;s on_notification first
                    try
                      call l:ctx[&#39;opts&#39;][&#39;on_notification&#39;](a:id, l:on_notification_data, &#39;on_notification&#39;)
                    catch
                      echomsg &#39;s:on_stdout client option on_notification() error&#39; v:exception v:throwpoint
                      call lsp#log(&#39;s:on_stdout client option on_notification() error&#39;, v:exception ,v:throwpoint)
                    endtry```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:11:17</span>
<span class='slacklog-text'>ctxのログ取り中</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>2日 23:13:51</span>
<span class='slacklog-text'>ええぇ...? on_notification時にE20になる処理なんてないんじゃ?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:16:43</span>
<span class='slacklog-text'>(efmは自前で登録とはいえ、いままで問題なかったけど(補完は動かないが))</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>2日 23:22:22</span>
<span class='slacklog-text'>うーんE20になる要素がなあ、on_notificationはlsp内の関数だよね...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:23:07</span>
<span class='slacklog-text'>funcitonでのダンプをログとして保存しにくいため、どうしたものか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:23:48</span>
<span class='slacklog-text'>on_notification とは限らないです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:24:17</span>
<span class='slacklog-text'>あー、違うところで出してるかもなんですよね...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:24:19</span>
<span class='slacklog-text'>たしかに</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:24:32</span>
<span class='slacklog-text'>痕跡がなくてどうしたらいいか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:24:51</span>
<span class='slacklog-text'>try/catch 外してみても駄目ですか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:25:05</span>
<span class='slacklog-text'>上のログは外したやつです(でyoinkも外した)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:25:25</span>
<span class='slacklog-text'>`:mes` ですか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:25:34</span>
<span class='slacklog-text'>はいそうです
&lt;https://vim-jp.slack.com/archives/CQ57P4XU4/p1585836587168000&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:26:03</span>
<span class='slacklog-text'>一旦yankroundとefm-langserver-settingsも外そう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:26:44</span>
<span class='slacklog-text'>この on_notification というのは、vim-lsp がサーバに対してリクエストを投げて、その応答を受け取る際のコールバックなんです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:27:36</span>
<span class='slacklog-text'>omni.vim なんかが `lsp#send_request` してる箇所に `on_notification` を設定していて、そこに `s:handle_xxxx` みたいな関数があり、それをコールバックにしてます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:27:57</span>
<span class='slacklog-text'>はい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:28:36</span>
<span class='slacklog-text'>(引数ダンプもログしました)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:28:40</span>
<span class='slacklog-text'>そこでは色んなコードが入っていて、例えば fold のイベントが発生する様な物も含まれるので、例えば fold を契機に何かするプラグインがあればそこでエラーが起きる可能性もあります。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:29:06</span>
<span class='slacklog-text'>うええ...そういえばfoldセットするようにしたりしたな
そこも外したほうがいいかも</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:30:40</span>
<span class='slacklog-text'>非同期イベントと大域脱出のコンフリクトががが..</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:30:59</span>
<span class='slacklog-text'>こういうエラーか起きたときのデバッグは難しいすね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 23:31:53</span>
<span class='slacklog-text'>思いきって verbosefile を吐くのも手です。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:32:17</span>
<span class='slacklog-text'>やろうかな...ただ起動した直後になるので、vimrcで先にセットしないとですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:33:45</span>
<span class='slacklog-text'>アドバイスありがとうございます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:52:01</span>
<span class='slacklog-text'>clangd側でも出たのでefm-langserver自体は除外できそう(yankroundもか)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 23:52:13</span>
<span class='slacklog-text'>verbose出さないとですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 00:08:44</span>
<span class='slacklog-text'>(コールバックをsandbox実行とかできたら助かるのかなあ?)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 12:22:39</span>
<span class='slacklog-text'>わかったー!!!
```autocmd User lsp_server_init * call vista#RunForNearestMethodOrFunction()```
自分でしこんじゃってたこれだったorz</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 12:23:09</span>
<span class='slacklog-text'>あるある</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 12:24:04</span>
<span class='slacklog-text'>vista#hoge
なんであの微妙なエラーなのかは不明だが、verboseしたら、これだけやって処理がおわってた臭いので、外したら直った...oh</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 12:25:36</span>
<span class='slacklog-text'>こういうのちゃんとエラーで出せる様にならないかなぁ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 12:26:00</span>
<span class='slacklog-text'>InsertEnterとかでも発動させてるので、そっちも危険
あとyoinkのあれ、throwpointが中身更新されないパターンあるんですかね?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 12:26:12</span>
<span class='slacklog-text'>大体Vim scriptの例外処理機構が貧弱なのが</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 12:29:36</span>
<span class='slacklog-text'>とりあえずvim-lspへthrowpointしこむPR作ります(罪滅ぼしw)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 12:33:56</span>
<span class='slacklog-text'>いやそうじゃない、au User で `*` 入れてどうするんだorz、これだ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 22:37:01</span>
<span class='slacklog-text'>clangdでvsnipのexpandが効く...文明開花の音がするw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 22:39:04</span>
<span class='slacklog-text'>各位ほんとうにありがとうございます。
ひきづつき謎なrefreshしてるプラグインを追い詰めないとなw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>4日 00:41:36</span>
<span class='slacklog-text'>うーん、相変わらずvim-lspとfzf.vimの組み合わせでpopup windowが空のまま死ぬな…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>4日 01:16:15</span>
<span class='slacklog-text'>何かしらのソース上のエラーがある状態でファイルを保存して、
diagnosticsが報告されるくらいのタイミングで fzf を開くと再現する…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>4日 01:16:16</span>
<span class='slacklog-text'>つらい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>4日 01:16:23</span>
<span class='slacklog-text'>今日は寝よう…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>4日 08:07:22</span>
<span class='slacklog-text'>再現条件がわかった。
vim-lspがpopupでdiagnosticsのメッセージを表示している状態
```let g:lsp_diagnostics_float_cursor = 1```
かつ、同時にfzfがpopup windowを表示しようとしたとき
```let g:fzf_layout = { &#39;window&#39;: {
      \ &#39;width&#39;: 0.6,
      \ &#39;height&#39;: 0.6,
      \ &#39;border&#39;: &#39;ascii&#39;
      \ } }```
に必ずエラー
```Error detected while processing BufWipeout Autocommands for &#34;*&#34;:
E994: Not allowed in a popup window```
となってしまうんだ…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>4日 09:27:07</span>
<span class='slacklog-text'>`diagnostics_float_cursor` 、`&amp;lt;plug&amp;gt;(lsp-hover)` とカブってしまって邪魔になりがちだし、
オフにしておいたほうが良いんだろうな…ちょっと使いづらすぎる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 09:32:34</span>
<span class='slacklog-text'>fzfかなにかが `BufWipeout` のautocmdを無制御で実行しているのかなあ?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>4日 09:38:03</span>
<span class='slacklog-text'>vim-lspのポップアップ消すやつがpopup-terminal対応してなくて（最近増えましたからね、あれ）fzf出してると干渉して死ぬのかなと推測してみる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>4日 09:38:18</span>
<span class='slacklog-text'>Bram氏floatwin入れてくれ～</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 09:50:26</span>
<span class='slacklog-text'>自前のテーブルからバッファ名を検索してるから、こっちは大丈夫なんじゃないか感あるけど...どうなんだろ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>4日 09:57:57</span>
<span class='slacklog-text'>popup-terminal出してる間は制限かなりかかるのでそれかなと、何も試してないのであれですが</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>4日 09:58:10</span>
<span class='slacklog-text'>バッファ名云々は大丈夫そう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 09:58:44</span>
<span class='slacklog-text'>あー、なるほど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:19:43</span>
<span class='slacklog-text'>vim-lsp-settingsってインストール後に設定必要なのかしら。 `hoge.`と打っても補完されない。`:LspHogeHoge` という関数は生えてるのでインストールは成功してると思うんだけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 20:23:02</span>
<span class='slacklog-text'>どの言語ですか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:23:46</span>
<span class='slacklog-text'>Goです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:24:09</span>
<span class='slacklog-text'>neovim on linuxです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>4日 20:25:04</span>
<span class='slacklog-text'>goplsですよね、パッケージマネージャ経由で入れてます？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 20:25:07</span>
<span class='slacklog-text'>Go のファイル開いたら `:LspInstallServer するといいよ` 的なメッセージ出てくると思うんですが、実行されました？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:25:27</span>
<span class='slacklog-text'>それはやりました。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>4日 20:25:34</span>
<span class='slacklog-text'>補完プラグインは何を使われてるのでしょう?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:26:03</span>
<span class='slacklog-text'>LspInstallServerしかしていないので、default で goplsだと思います。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>4日 20:27:57</span>
<span class='slacklog-text'>だったら疑うのは補完かな、という気がします</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:28:30</span>
<span class='slacklog-text'>coc使ってたのを、vim-lsp-settingsに乗り換えてるところです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:29:15</span>
<span class='slacklog-text'>:LspRename とかは動いています。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>4日 20:29:41</span>
<span class='slacklog-text'>LSP による自動補完をするためには自動補完プラグインとそのソースとしてvim-lsp を取るためのプラグインが必要ですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>4日 20:30:02</span>
<span class='slacklog-text'>普通のオムニ補完って動きます？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:31:18</span>
<span class='slacklog-text'>```    call dein#add(&#39;prabirshrestha/async.vim&#39;)
    call dein#add(&#39;prabirshrestha/vim-lsp&#39;)
    call dein#add(&#39;mattn/vim-lsp-settings&#39;, {&#39;merged&#39;: 0})
    call dein#add(&#39;Shougo/deoplete.nvim&#39;)
    call dein#add(&#39;lighttiger2505/deoplete-vim-lsp&#39;)```
インストールしています。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:33:27</span>
<span class='slacklog-text'>オムニ補完は動いてそうです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:42:10</span>
<span class='slacklog-text'>補完の時、どのLsp関数が呼ばれてるんだろう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 20:42:40</span>
<span class='slacklog-text'>`:LspStatus` 見てもらえますか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:43:08</span>
<span class='slacklog-text'>`gopls: running` ですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:44:39</span>
<span class='slacklog-text'>エラーチェック? は動いているいたいですね。適当な文字列入れるとエラーで教えてくれる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 20:44:53</span>
<span class='slacklog-text'>だとするとあとは補完エンジンの話になるんでしょうけど、僕は deoplete まったく詳しくない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:45:37</span>
<span class='slacklog-text'>どういうplugin入れて使われてます?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/c83c988365a0fabc4c83cdb600268d59.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-48.png'>
<span class='slacklog-name'>h-michael</span>
<span class='slacklog-datetime'>4日 20:51:12</span>
<span class='slacklog-text'>deopleteだとdeoplete-vim-lspが必要なはず</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 20:52:20</span>
<span class='slacklog-text'>僕が lsp 関連で入れてるのは
```Plug &#39;prabirshrestha/async.vim&#39;
Plug &#39;prabirshrestha/asyncomplete.vim&#39;
Plug &#39;prabirshrestha/asyncomplete-lsp.vim&#39;
Plug &#39;prabirshrestha/vim-lsp&#39;
Plug &#39;mattn/vim-lsp-settings&#39;
Plug &#39;mattn/vim-lsp-icons&#39;
Plug &#39;hrsh7th/vim-vsnip&#39;
Plug &#39;hrsh7th/vim-vsnip-integ&#39;
````</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:53:02</span>
<span class='slacklog-text'>参考にします。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>4日 20:59:21</span>
<span class='slacklog-text'>マニュアルに書いてある通り
```    call dein#add(&#39;prabirshrestha/asyncomplete.vim&#39;)
    call dein#add(&#39;prabirshrestha/asyncomplete-lsp.vim&#39;)
&#34;    call dein#add(&#39;Shougo/deoplete.nvim&#39;)
&#34;    call dein#add(&#39;lighttiger2505/deoplete-vim-lsp&#39;)```
したら動きました。deoplete.nvimの記述もありましたが、asyncomplete.vimの記述を取ってみました。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-11-14/833953864853_aa245483338df08cd3b2_48.png'>
<span class='slacklog-name'>heavenshell</span>
<span class='slacklog-datetime'>4日 21:05:00</span>
<span class='slacklog-text'>deoplate が動いてないのって msgpack のバージョン問題とかありませんでしたっけ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-11-14/833953864853_aa245483338df08cd3b2_48.png'>
<span class='slacklog-name'>heavenshell</span>
<span class='slacklog-datetime'>4日 21:05:12</span>
<span class='slacklog-text'>deoplate 使ってないからよくわかってないですけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-11-14/833953864853_aa245483338df08cd3b2_48.png'>
<span class='slacklog-name'>heavenshell</span>
<span class='slacklog-datetime'>4日 21:05:22</span>
<span class='slacklog-text'>&lt;https://github.com/Shougo/deoplete.nvim#install&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 22:54:58</span>
<span class='slacklog-text'>最新では解決してたとおもうのと、lspだけだったらなんかの設定不足の可能性?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a12373843afc54857a845404bdd5f5cb.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-48.png'>
<span class='slacklog-name'>lighttiger2505</span>
<span class='slacklog-datetime'>5日 16:39:10</span>
<span class='slacklog-text'>そもそもdeoplete.nvimのインストールがうまくいっていなかったように思えます。多分Pythonのライブラリ周りな気がする。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a12373843afc54857a845404bdd5f5cb.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-48.png'>
<span class='slacklog-name'>lighttiger2505</span>
<span class='slacklog-datetime'>5日 16:39:40</span>
<span class='slacklog-text'>&lt;@UEA8SS1RN&gt; ↑今更ですが。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>5日 16:40:44</span>
<span class='slacklog-text'>まあ、外して問題ないなら、asyncompleteならまあ必要十分かもしれませんし、ね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>5日 17:03:24</span>
<span class='slacklog-text'>おっと。後で試してみます。けど。Pythonのライブラリ、なんかいるんでしたっけ? pip3 neovimくらいしかしてないです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>5日 17:07:57</span>
<span class='slacklog-text'>Note: deoplete requires msgpack package 1.0.0+. Please install/upgrade msgpack package by pip.
か。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>5日 17:12:26</span>
<span class='slacklog-text'>入ってた。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>5日 19:42:58</span>
<span class='slacklog-text'>&lt;https://qiita.com/yaegassy/items/8b3429196ea16cf754c0&gt;
ネ申様ありがとう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a12373843afc54857a845404bdd5f5cb.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-48.png'>
<span class='slacklog-name'>lighttiger2505</span>
<span class='slacklog-datetime'>5日 23:31:41</span>
<span class='slacklog-text'>まずはそもdeoplete.nvimが動作しているかどうかですね。Around補完などが動いているなら動作していると思います。(ただしasyncomplete.vimなどほかの自動補完プラグインが動いているならどっちが補完ウィンドウを出しているのか分かりづらいのでOFFにするのが
望ましい)
その状態で自動補完が動かないならdeoplete.nvim自体のインストールに失敗しています。
基本asyncomplete.vimでlspの補完が動くならdeoplete-vim-lspも動くはずなので。

deoplete.nvimでつまづきやすいのは3点で
1. Neovimが参照しているPythonは想定どおりか
1. 1にNeovimクライアントがインストール済みか
2. :updateRemotePluginでリモートプラグインをNeovimが認識しているか
あたりがです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a12373843afc54857a845404bdd5f5cb.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-48.png'>
<span class='slacklog-name'>lighttiger2505</span>
<span class='slacklog-datetime'>5日 23:35:03</span>
<span class='slacklog-text'>まあdeoplete.nvimの拡張性の高さに、今のところ魅力を感じていないとすれば無理にasyncompleteから移る必要性はないと思いますよ。
vim-lspの補完という点に限定すれば、おそらくasyncomplete のが品質が高い。まあ原因はdeoplete-vim-lspがアダプタしてるからなんですけども。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/a12373843afc54857a845404bdd5f5cb.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-48.png'>
<span class='slacklog-name'>lighttiger2505</span>
<span class='slacklog-datetime'>5日 23:36:50</span>
<span class='slacklog-text'>へんじ遅くて申し訳ありません。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 22:33:50</span>
<span class='slacklog-text'>&lt;https://github.com/golang/tools/pull/220&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 22:33:55</span>
<span class='slacklog-text'>便利そう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 22:34:33</span>
<span class='slacklog-text'>struct literal のフィールドをドバっと出してくれるやつ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>7日 22:35:40</span>
<span class='slacklog-text'>おー、まさにlspだからできる、ってカンジですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 22:41:17</span>
<span class='slacklog-text'>お</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 22:41:20</span>
<span class='slacklog-text'>lspでできるのか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 22:41:41</span>
<span class='slacklog-text'>vim-goの `:GoFillStruct` と同じか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 22:41:46</span>
<span class='slacklog-text'>code action すね。 `:LspCodeAction xxx` みたいになります。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 22:42:10</span>
<span class='slacklog-text'>:rikai:</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 22:42:18</span>
<span class='slacklog-text'>code action便利だな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>7日 22:44:51</span>
<span class='slacklog-text'>この手の仕組みをエディタ非依存で持てるの便利</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 22:46:24</span>
<span class='slacklog-text'>しかも vim-lsp 無改造ですからね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 22:47:26</span>
<span class='slacklog-text'>しかも gopls はコマンドラインも提供してるので、なんならシェルから。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>7日 22:48:38</span>
<span class='slacklog-text'>helpしたら便利そうなのが見えた</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 22:49:10</span>
<span class='slacklog-text'>そそ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 22:56:33</span>
<span class='slacklog-text'>goplsどんどん機能が追加されていきますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 22:57:04</span>
<span class='slacklog-text'>この前入ったreturnを生成するのはまだあんまり使えておらず</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 22:58:18</span>
<span class='slacklog-text'>if err != nilを補完してくれる機能もあるっぽいんですが、これは使い方がよくわかってないです…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 22:58:56</span>
<span class='slacklog-text'>vim-lspで使ってる人っていますか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 23:03:48</span>
<span class='slacklog-text'>まだです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>7日 23:19:41</span>
<span class='slacklog-text'>iferr補完、出し方が全くわからない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 23:35:08</span>
<span class='slacklog-text'>ちょっと調べてみます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 23:50:58</span>
<span class='slacklog-text'>知りたい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 23:55:56</span>
<span class='slacklog-text'>調べてみました！</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 23:55:59</span>
<span class='slacklog-text'>いかがでしたか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 23:56:08</span>
<span class='slacklog-text'>(調べてません)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 23:56:24</span>
<span class='slacklog-text'>&lt;https://github.com/hrsh7th/vim-vsnip&gt; が必要でした</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 23:56:46</span>
<span class='slacklog-text'>さす7th</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 23:58:05</span>
<span class='slacklog-text'>`usePlaceholders=true` にして、snippetにも対応しているオプションを有効にしないといけないんですが、後者は調べきれずとりあえずプラグイン入れることにしました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 23:59:14</span>
<span class='slacklog-text'>あとは
```imap &amp;lt;expr&amp;gt; &amp;lt;C-j&amp;gt;   vsnip#available(1)  ? &#39;&amp;lt;Plug&amp;gt;(vsnip-expand)&#39;         : &#39;&amp;lt;C-j&amp;gt;&#39;
imap &amp;lt;expr&amp;gt; &amp;lt;C-l&amp;gt;   vsnip#available(1)  ? &#39;&amp;lt;Plug&amp;gt;(vsnip-expand-or-jump)&#39; : &#39;&amp;lt;C-l&amp;gt;&#39;
smap &amp;lt;expr&amp;gt; &amp;lt;C-l&amp;gt;   vsnip#available(1)  ? &#39;&amp;lt;Plug&amp;gt;(vsnip-expand-or-jump)&#39; : &#39;&amp;lt;C-l&amp;gt;&#39;
imap &amp;lt;expr&amp;gt; &amp;lt;Tab&amp;gt;   vsnip#available(1)  ? &#39;&amp;lt;Plug&amp;gt;(vsnip-jump-next)&#39;      : &#39;&amp;lt;Tab&amp;gt;&#39;
smap &amp;lt;expr&amp;gt; &amp;lt;Tab&amp;gt;   vsnip#available(1)  ? &#39;&amp;lt;Plug&amp;gt;(vsnip-jump-next)&#39;      : &#39;&amp;lt;Tab&amp;gt;&#39;
imap &amp;lt;expr&amp;gt; &amp;lt;S-Tab&amp;gt; vsnip#available(-1) ? &#39;&amp;lt;Plug&amp;gt;(vsnip-jump-prev)&#39;      : &#39;&amp;lt;S-Tab&amp;gt;&#39;
smap &amp;lt;expr&amp;gt; &amp;lt;S-Tab&amp;gt; vsnip#available(-1) ? &#39;&amp;lt;Plug&amp;gt;(vsnip-jump-prev)&#39;      : &#39;&amp;lt;S-Tab&amp;gt;&#39;```
を設定すれば `&amp;lt;Tab&amp;gt;` で展開できました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>7日 23:59:44</span>
<span class='slacklog-text'>ただCtrl系はまだ動かせてないです</span>
</span>
{% endraw %}
