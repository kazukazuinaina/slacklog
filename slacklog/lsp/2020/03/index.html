---
# vim:set ts=2 sts=2 sw=2 et:
layout: slacklog
title: vim-jp.slack.com log - &#35lsp - 2020年03月
---
<div>
<h2><a href='{{ post.url }}'>{{ page.title }}</a></h2>

<p>参加方法、各チャンネルの概要等は以下を参照して下さい。<br>
<a href='/docs/chat.html'>vim-jpのチャットルームについて</a></p>

{% raw %}
<pre>mattn 1583682681.069700: efm、loglevel というのをひっそり足して level 5 以上なら通信内容も出力する様にしました。</pre>
<pre>thinca 1583682743.070200: 実行したコマンドのログもあると便利そう</pre>
<pre>mattn 1583682848.070400: 1以上で出ます。</pre>
<pre>mattn 1583682878.071200: 5だと割ともう目grepで死ねます。</pre>
<pre>mattn 1583682942.071900: ただ今のレベルの仕様は fixed のつもりでないのでいずれ個別に出せる様にするかもしれないです。</pre>
<pre>tsuyoshi_cho 1583698808.072900: 対応しよう…</pre>
<pre>mattn 1583733275.073700: homebrew に入れてみない？って issue、僕はどうしたらいいんだろう。 <https://github.com/mattn/efm-langserver/issues/23></pre>
<pre>mattn 1583733295.074200: formula ぜんぜんわからない。</pre>
<pre>mattn 1583733307.074600: nakamura なら知ってる。</pre>
<pre>kyoh86 1583733352.076000: goreleaserなら</pre>
<pre>kyoh86 1583733354.076200: 簡単にやれますよ</pre>
<pre>tsuyoshi_cho 1583733360.076600: 勝手にformulaを投稿して採用されれば..?とか言っちゃいますか?
goだからgo getすればいいので、べつに好みじゃないかなと...(はいってたほうが嬉しいけど、メンテコストとか微妙?)</pre>
<pre>dohq 1583733370.077000: mattnさんがmac使ってるならありかなとも思いますが
正直fomulaのメンテもしないといけないのはアレ</pre>
<pre>kyoh86 1583733374.077100: あ、公式に載せろってことか</pre>
<pre>tsuyoshi_cho 1583733409.077400: go系がすごく単純、とかならいいけど...</pre>
<pre>kyoh86 1583733556.078800: `brew install mattn/tap/efm-langserver` とかでいいなら割と簡単に作れるんですけどね
そもそもオーナーがMacじゃない中で外からそれを要求するのはしんどい。

&gt; 勝手にformulaを投稿して採用されれば..?とか言っちゃ
うのが良さそう</pre>
<pre>kyoh86 1583733820.079200: ref: 「割と簡単」な方法
<https://qiita.com/izumin5210/items/b0bd3fa21aed6ab6bef5></pre>
<pre>tsuyoshi_cho 1583733924.079900: たとえば簡単(?)なのは、こんなか...
<https://github.com/Homebrew/homebrew-core/blob/master/Formula/gron.rb></pre>
<pre>itchyny 1583734473.080600: `I would volunteer to write this` って書いてあるのでおまかせしますでいいんじゃないかな…</pre>
<pre>itchyny 1583734523.081100: 新しいリリースをだした時に追従してもらえるなら…</pre>
<pre>mattn 1583734918.081300: お願いしました。</pre>
<pre>johejo 1583738220.083300: こういうの先に"ありがとうキミが作ってくれるんだね CIのセットアップもよろしく"とか煽ったりするとトラブルになるんだろうな...</pre>
<pre>johejo 1583756075.086700: lsp4xml orgがeclipseにうつって名前変わってる。
<https://github.com/eclipse/lemminx|https://github.com/eclipse/lemminx></pre>
<pre>kuu 1583756138.087200: Eclipseも今やLSPかー</pre>
<pre>johejo 1583763658.088600: yaml-language-server format対応してないように見えるけどREADMEには対応してるように書いてある。どういうことなのかな...
<https://github.com/redhat-developer/yaml-language-server/blob/0b6739e4bf1a0d8b5a7205167f47064808041f53/src/server.ts#L358>
<https://github.com/redhat-developer/yaml-language-server#language-server-settings></pre>
<pre>h-michael 1583765161.089100: こういうことみたいですね
<https://github.com/redhat-developer/yaml-language-server/pull/179></pre>
<pre>johejo 1583765442.091000: すみません結局どっちなのかわかりませんでした...</pre>
<pre>h-michael 1583766184.091900: initializeでは使えないのですがdynamicRegistrationでserver側のrequestによってあとから利用可能になるようです。</pre>
<pre>mattn 1583766285.092200: vim-lsp、dynamicRegistration サポートしてない...</pre>
<pre>h-michael 1583766356.092800: dynamicRegistrationなんのために仕様なのかいまいちわからない</pre>
<pre>hrsh7th 1583766699.093200: ある処理の初期化に時間がかかる場合に使うんですかね。。。</pre>
<pre>h-michael 1583766738.093800: yaml-language-severはprettier叩いてるだけなんで初期化もなにもないんですけどね。。。</pre>
<pre>hrsh7th 1583766778.094500: prettier が使えそうであれば capability に追加し、そうでないなら追加しないってことなんですかねー。</pre>
<pre>hrsh7th 1583766804.094800: なんか違いそうですね。。。</pre>
<pre>h-michael 1583766827.095600: prettierは組み込んでいるのでclient側の環境は関係ないですね。</pre>
<pre>hrsh7th 1583766867.096900: workspace/didChangeConfiguration で `format.enable` をもらう都合、initialize のレスポンスに「format 対応してます。」と打ち返せないタイミング的な問題だと理解しました。</pre>
<pre>johejo 1583766909.097000: yaml-language-server内に散見されるisKubernetesというフラグなんぞこれ... 特別扱いか...</pre>
<pre>hrsh7th 1583767021.097400: workspace 対応は後付っぽいですからねｗ</pre>
<pre>h-michael 1583767285.097600: いたるところにありますが実際はここにしか効いてこないですね
<https://github.com/redhat-developer/yaml-language-server/blob/70228ba25b33f4701e685ea6b37d0b665ad453fa/src/languageservice/parser/jsonParser07.ts#L250-L251></pre>
<pre>mattn 1583801895.099800: vim が lsp を扱える様になって以来、ちょっと C# のコード見るのに Visual Studio 起動しなくなった。gd で目的の関数を即座に見れるの超ありがたい。</pre>
<pre>tsuyoshi_cho 1583802059.101200: VSCodeからLSPが独立仕様になっての"IDEとして機能の分割"が現実的になったといえますねえ</pre>
<pre>mattn 1583802253.101900: 電話しながら「ちょっと待ってて」って言いながら関数探せる。</pre>
<pre>hrsh7th 1583893978.103900: これめっちゃ便利そうですね…
<https://github.com/tsuyoshicho/vim-efm-langserver-settings/blob/master/config/efm-langserver/config.yaml#L32|https://github.com/tsuyoshicho/vim-efm-langserver-settings/blob/master/config/efm-langserver/config.yaml#L32>

バッファをエクスプローラーで開く…</pre>
<pre>thinca 1583894070.104600: Mac なのに Explorer とは… (Finder ではない?)</pre>
<pre>hrsh7th 1583894122.105700: たしかに Win の用語になってますね。
思いつかないけど他にもいろいろできそうで面白い</pre>
<pre>tsuyoshi_cho 1583894161.107100: 仮ですが、名前を統一したくてこうしてみまさた</pre>
<pre>thinca 1583894162.107200: win と名前を統一したいとかなら Explorer は具体的なツール名なので Filer みたいな抽象的な名前にするといいのかも</pre>
<pre>tsuyoshi_cho 1583894338.107700: あ、それ採用:+1::skin-tone-5:</pre>
<pre>tsuyoshi_cho 1583894378.108700: ただ動作がまだだめなんですが…</pre>
<pre>thinca 1583894415.109200: にしてもすでにエディタで開いているはずなのに Editor コマンドあるのすごいw</pre>
<pre>kuu 1583894469.109900: VimからVim以外のエディタを立ち上げたいと思ったことないんですが、どんなユースケース想定してるんだろう</pre>
<pre>thinca 1583894699.110500: デバッガーが使いたい！Visual Studio カモン！みたいなことはあるかもしれない (私はやったことないけど)</pre>
<pre>thinca 1583894727.111100: てか LSP にデバッガー API って入る予定ないのかな。絶対必要だと思うのだけど (※何も調べずに発言しています)</pre>
<pre>eihigh 1583894911.111600: <https://microsoft.github.io/debug-adapter-protocol/implementors/adapters/> ?</pre>
<pre>eihigh 1583894936.112300: lspに入るかって言うと別軸で行く気がするんですけどどうなんです? （※何も調べずに発言しています）</pre>
<pre>kuu 1583894992.113200: <https://github.com/emacs-lsp/dap-mode>
これはEmacsのものですが、外部から十分使えるっぽい（※何も調べずに発言しています ）</pre>
<pre>eihigh 1583895050.113700: &gt; （※何も調べずに発言しています）
あまりにも最強無敵便利過ぎる免罪符だ</pre>
<pre>hrsh7th 1583895055.114000: DAP と呼ばれてて、VSCode は対応しているらしいですね。
vim にも DAP 対応プラグインあるみたいですが試したことはないです。</pre>
<pre>kuu 1583895118.114500: これのことか、名前だけは聞いたことあったけどそういうものだったのか <https://github.com/puremourning/vimspector></pre>
<pre>thinca 1583895180.115000: LSP とは別?</pre>
<pre>heavenshell 1583895267.115500: おー DAP 頑張ってる人いたんだ。一瞬 Vim からやってみようとして挫折したんだった。</pre>
<pre>hrsh7th 1583895888.117100: デバッガ系は UI を作り込むのがつらそうですよね。好みもでちゃいますし。。。</pre>
<pre>tsuyoshi_cho 1583896124.118100: あー、WindowsのExplorerが上手くいかんなー、と思ってましたが、ファイルパスが  `file:///C:/Users/name/README.md`  みたいになるからかー...</pre>
<pre>mattn 1583899379.118800: os: mac で動きます？</pre>
<pre>mattn 1583899410.119500: これ Go の GOOS なので darwin じゃないといかん気がする。</pre>
<pre>mattn 1583899541.120200: あれ？ `${INPUT}` 、URI 形式になってますか？</pre>
<pre>tsuyoshi_cho 1583900207.120700: えっと、macは確認できてないので、間違ってる可能性はあると思います。</pre>
<pre>mattn 1583900219.121100: あ、code action 普通にバグってるな。</pre>
<pre>tsuyoshi_cho 1583900224.121300: inputは <file://xn--echomsg-s83fqcb7azbu63a|file:// だってechomsgでました></pre>
<pre>tsuyoshi_cho 1583900229.121500: おう</pre>
<pre>mattn 1583900492.121800: 直しました。</pre>
<pre>tsuyoshi_cho 1583900560.123200: えっと、貰うのはローカルのフルパスですか?</pre>
<pre>mattn 1583900565.123300: あれ、でも select が動かないな</pre>
<pre>h-michael 1583900718.123900: DAPはプロトコルがあまり好きになれない…</pre>
<pre>mattn 1583900790.124200: あ、わかった。。</pre>
<pre>mattn 1583901212.124600: select 動く様にしてリリースしました。</pre>
<pre>tsuyoshi_cho 1583901242.125200: 了解です、フルパスで降ってくる前提で考えますね</pre>
<pre>mattn 1583901251.125500: はい。</pre>
<pre>mattn 1583901310.125800: あー(まだあるんかい)</pre>
<pre>tsuyoshi_cho 1583901320.126000: www</pre>
<pre>mattn 1583901418.126300: explorer、スラッシュだと動かないな。</pre>
<pre>tsuyoshi_cho 1583901449.126900: あー...バックスラッシュが正規化されてるんですね</pre>
<pre>mattn 1583901487.127300: UNIX 系ツールを扱うので efm の内部はスラッシュで統一してたんですよね。</pre>
<pre>mattn 1583901492.127500: なんか考えないとな。</pre>
<pre>tsuyoshi_cho 1583901521.128100: 界面(output/input)でWindowsは変換する、のがたぶん楽ではありそうです、が...</pre>
<pre>mattn 1583901584.129000: `${INPUT}` をバックスラッシュ `${INPUT_SLASH}` をスラッシュとかにしたいけど既存の動作を変えないといけない。</pre>
<pre>mattn 1583901684.129200: これはキメだな。</pre>
<pre>thinca 1583902031.129400: `${INPUT//\\\\/\/}`</pre>
<pre>hrsh7th 1583902172.129700: ${INPUT_WIN} ${INPUT}</pre>
<pre>tsuyoshi_cho 1583902223.130000: `${INPUT_LOSE}`</pre>
<pre>mattn 1583902283.130700: それか `${INPUT}` と `${FILENAME}` で分けるとか。</pre>
<pre>mattn 1583902314.131500: hover もあるので共通的に `${INPUT}` 使ったけど `${FILENAME}` は正規化されてていいかな。</pre>
<pre>mattn 1583902328.131900: hover の場合は `${INPUT}` が単語。</pre>
<pre>mattn 1583902333.132100: よしそうしよう。</pre>
<pre>mattn 1583902492.132400: たしed</pre>
<pre>tsuyoshi_cho 1583902610.133400: 正規化ファイルパスは `${FILENAME}` を使う、ということで対応すればexplorerが動く、ということですね? ありがとうございます。</pre>
<pre>mattn 1583902660.134500: はい。なんか `${INPUT}` の意味を逆に不明確にしてしまって若干申し訳なさ。</pre>
<pre>tsuyoshi_cho 1583902664.134700: (文章がなんか変)</pre>
<pre>thinca 1583902684.135100: ちなみに Mac での動作試験はテストを書けば GHA でできそう (と思ったけど Finder が開いたことをどうやってテストするのかと言う問題はありそうだ)</pre>
<pre>mattn 1583902708.135800: !windows 使ってる人は `${INPUT}` のままでも問題なし。</pre>
<pre>tsuyoshi_cho 1583902747.136300: む、どちらかというと hoverの時に特殊動作する機能付きのFILENAME=INPUT、という感じ?</pre>
<pre>mattn 1583902797.136800: hover 時は `${INPUT}` しか見ない様にしました。</pre>
<pre>tsuyoshi_cho 1583902816.137100: なるほど</pre>
<pre>tsuyoshi_cho 1583902874.137600: とりあえず、仕組み上command(codeaction)だけfilenameにしておくといいかな...</pre>
<pre>mattn 1583902905.138100: ですかね。バージョンを要求するのでお気をつけて。</pre>
<pre>mattn 1583902908.138300: 同じ設定で自宅でウギャー、みたいな。</pre>
<pre>tsuyoshi_cho 1583903102.138600: まあefmはすぐ更新するので、なんとか...</pre>
<pre>tsuyoshi_cho 1583903141.139400: ちなみにFILENAMEであれINPUTであれ、ですがパスの空白のハンドリングってどうなっているのでしょう?
Windowsは `""` でくくってますが</pre>
<pre>mattn 1583903169.139900: はい。その方がいいと思います。単なる文字列置換なのと、シェルを経由するので。</pre>
<pre>tsuyoshi_cho 1583903200.140600: Mac で スペースありのフォルダで作業したときのほうがちょっと気になる(Linuxもなくはないけど)</pre>
<pre>mattn 1583903226.141000: シェルに渡す時点でクオートは消えるので常に付けておいて問題ないと思います。</pre>
<pre>tsuyoshi_cho 1583903253.141500: なるほど、全部に付けちゃおうかな...</pre>
<pre>tsuyoshi_cho 1583905351.143400: うーん、やっぱちょっと変?
<https://github.com/tsuyoshicho/vim-efm-langserver-settings/blob/a4e681e5a95bfe392023c64702b73f2e1b90bd0b/config/efm-langserver/config.yaml>
```  - title: Filer
    os: windows
    command: explorer
    arguments:
      - '/select,"${FILENAME}"'```
で
```2020/03/11 14:32:45 jsonrpc2: &lt;-- result #2: textDocument/codeAction: [{"title":"Reload","command":"efm-langserver.:reload-config","arguments":["file:///C:/Users/username/tmp/test.svg"]},{"title":"Editor","command":"efm-langserver.notepad","arguments":["file:///C:/Users/username/tmp/test.svg"]},{"title":"Filer","command":"efm-langserver.explorer","arguments":["file:///C:/Users/username/tmp/test.svg"]},{"title":"Open","command":"efm-langserver.rundll32","arguments":["file:///C:/Users/username/tmp/test.svg"]}]```
というcodeActionレスポンスもらって ExplorerはNG(他は大丈夫)
• ファイルがFILENAMEでも `<file://のまま|file://` のまま>?
• commandの一意識別はこれで大丈夫? (macはopenでなんでもやる)</pre>
<pre>tsuyoshi_cho 1583905387.144100: いちおう直ったあとのHEADをgo getしたんだけど...</pre>
<pre>mattn 1583905431.144800: ファイル名は file:// 取ってるはずですね。 /select の場合はクオート付けちゃ駄目なのかも。</pre>
<pre>mattn 1583905477.145500: このエラーの出方、explorer が non-zero exit code 返した時の奴です。</pre>
<pre>mattn 1583905494.145800: rundll32 か。</pre>
<pre>tsuyoshi_cho 1583905509.146100: 再度やってみますね</pre>
<pre>tsuyoshi_cho 1583905737.146600: お、クォートしないと大丈夫でした。
お手数かけました...
そうかそうなるか</pre>
<pre>tsuyoshi_cho 1583905890.147200: ただ、スペースありのパスにいると助けられなくなった...うーん</pre>
<pre>mattn 1583905943.147500: 全体をクオートすると行けると思います。</pre>
<pre>mattn 1583905955.147800: `"/select,C:\Program Files\..."`</pre>
<pre>tsuyoshi_cho 1583906059.148200: ですね、いまやってみようと...確認中...</pre>
<pre>tsuyoshi_cho 1583906560.149100: ```2020/03/11 15:00:42 jsonrpc2: --&gt; request #3: workspace/executeCommand: {"arguments":["file:///C:/Users/username/tmp/test%20folder/test.svg"],"command":"efm-langserver.explorer"}
2020/03/11 15:00:43 jsonrpc2: &lt;-- error #3: workspace/executeCommand: {"code":0,"message":"exit status 1","data":null}```
むー、%エンコーディング関係がもどせてない、とかありえますか?</pre>
<pre>tsuyoshi_cho 1583906572.149400: なぜかブラウザで開かれてしまう...</pre>
<pre>mattn 1583906811.149800: % は無くなってますね。</pre>
<pre>mattn 1583906882.150100: ```  - title: Open
    command: cmd
    os: windows
    arguments:
      - /c
      - 'explorer /select,${FILENAME}'```</pre>
<pre>mattn 1583906886.150300: これで行ける気がします。</pre>
<pre>tsuyoshi_cho 1583907137.151600: おー、vimでのshell/shellargs的対応
やってみます</pre>
<pre>mattn 1583907573.153100: Go の os/exec.Command を使ってコマンドを起動してますが、exec.Command は起動するプロセスの argv に正しく渡る様にエスケープしてるんですよね。これが逆に Windows アプリだと邪魔になる事がありますね。</pre>
<pre>mattn 1583907598.153600: Windows はコマンド側が引数を解析するので難しい。</pre>
<pre>tsuyoshi_cho 1583907810.154100: ありがとうございます。
ここの仕様だけは、すごいかなしみ..</pre>
<pre>tsuyoshi_cho 1583908032.154400: :goodjob:</pre>
<pre>mattn 1584062051.155100: <https://twitter.com/PrabirShrestha/status/1238222705352036353?s=20|https://twitter.com/PrabirShrestha/status/1238222705352036353?s=20></pre>
<pre>tsuyoshi_cho 1584062667.156100: って、うえ、自分のもあわせて載っとるw</pre>
<pre>takets 1584066082.157900: 最近coc使っていると、頻繁にintelephenseさんが黙って死んでしまう……</pre>
<pre>takets 1584066215.158700: $this-&gt;を入力すると、lspが再起動する挙動が謎だ</pre>
<pre>hrsh7th 1584067418.159400: _手元の環境がやっと落ち着いてきたので、workspace 進めます。。。遅くてすいません。。。_</pre>
<pre>thinca 1584072538.162100: LSP だけのせいかどうかまだわからないのだけど、Ruby (with solargraph &amp; efm-langserver) を書いてると Vim がめちゃめちゃ重い…文字入れたりする度に0.n秒ずつくらい固まる…
午後は lsp#disable() して作業してみる</pre>
<pre>mattn 1584072709.162400: 自動補完って使ってますか？</pre>
<pre>thinca 1584072806.162900: asyncomplete みたいなのが入ってましたが一切設定をしてないです…</pre>
<pre>tyru 1584074861.163100: 自分も python, js で新しいファイルを開くたびに重くなったりしたのでいい加減調査しないと（まずは vim-lsp の更新から）</pre>
<pre>kuu 1584074982.163700: fsyncのせいだろうけどHDDにログ取ってたらものすごく重くなったということならあったな（関係あるかはわからないけど）</pre>
<pre>mattn 1584075638.164100: キータイプ毎という事であれば asyncomplete が毎回リクエスト送ってしまってる疑惑はあります。</pre>
<pre>mattn 1584075653.164500: ```let g:asyncomplete_popup_delay = 200```
とかそれ以上に設定するともしかすると少し軽減するかも。</pre>
<pre>heavenshell 1584076690.165200: vim の lsp が遅くなったので使わなくなっちゃいました…。なお asyncomplete は使ってないです。</pre>
<pre>mattn 1584077019.165500: どこが遅いか調べなきゃなー。</pre>
<pre>mattn 1584077102.166100: このファイルでここ編集すると遅い、みたいなのが欲しい。。。</pre>
<pre>hrsh7th 1584077341.166700: _なんか gopls さんのバージョンを上げたせいなのか、workspace folder に対応してなくても別プロジェクトでちゃんと補完が効いてしまう。。。_</pre>
<pre>heavenshell 1584077359.167000: ちょっと週末また On にしてみます。</pre>
<pre>mattn 1584077441.167300: すみません。ありがとうございます。</pre>
<pre>h-michael 1584079217.167400: Vimにおいてworkspaceってどう対応していくべきかわからないんですよねー</pre>
<pre>hrsh7th 1584081721.167600: 個人的には、単一 workspace 限定。
    単一 workspace の config をグローバルな関数で変更可能。
folders は workspace とか関係なく管理。

がいいのかなあと思っています。</pre>
<pre>thinca 1584093604.168100: とりあえず lsp#dislabe() で完全に切った状態だと快適に編集できた</pre>
<pre>hrsh7th 1584096963.168400: vim-lsp 状態にしてみたけど、別に普通に快適だなあ。。。</pre>
<pre>mattn 1584097333.169800: lsp と補完エンジンってうまくタイミングなど考えないと lsp 側がリフレッシュしてくるので重くなりそう。</pre>
<pre>heavenshell 1584164316.171400: 久々に vim-lsp と vim-lsp-settings 最新にしたら
`Not an editor command: ++once call lsp#register_server` が出たんですけど、また `++once` が動く Vim が必須になった感じですかね？</pre>
<pre>heavenshell 1584164502.171700: や違う。</pre>
<pre>heavenshell 1584164512.172000: 自分の環境がおかしかっただけでした :bow:</pre>
<pre>johejo 1584197179.172900: LSPをwebsocketに載せてるのかな? <https://github.com/sourcegraph/sourcegraph-typescript></pre>
<pre>h-michael 1584231203.174400: GDScriptのlspも確かwebsocketでした</pre>
<pre>tsuyoshi_cho 1584241265.176400: `ご意見募集`
efm-langserverでwhitelistが `['*']`  的な時でも(vim-lspだけですが)blacklistで弾きたいファイルタイプはいろいろあると思います。
自分として、以下を初期設定する積りですが、「これは普通やっといたほうがいいだろう」というタイプがあればご意見をいたきたく
<https://github.com/tsuyoshicho/vim-efm-langserver-settings/issues/52#issuecomment-596924456></pre>
<pre>tsuyoshi_cho 1584241694.176800: 現在再設計中...</pre>
<pre>kg8m 1584248190.176900: `qf` も入れるとよさそう？</pre>
<pre>tsuyoshi_cho 1584249118.177300: ありがとうございます。
buftypeがノーマルじゃないhelpやqfは発動してないっぽい</pre>
<pre>tsuyoshi_cho 1584249135.177700: ただ、vim-lspだけでaleやcocがどうしてるかは未調査...</pre>
<pre>ycino 1584252794.178500: `diff, man, fern, defx, capture`
`gina-status, gina-branch, gina-log, gina-reflog, gina-blame`</pre>
<pre>ycino 1584252840.179400: やっといた方がいいというか、自分が弾いてる例ですが・・・</pre>
<pre>tsuyoshi_cho 1584252856.179800: ginaのはたしかに必要ですねえ、diffやman...manにlspが作られる可能性は...あんまないか</pre>
<pre>tsuyoshi_cho 1584252863.180000: ありがとうございます。</pre>
<pre>ycino 1584252931.180600: txt弾いてよさそうな気がするけどどうなんだろう</pre>
<pre>tsuyoshi_cho 1584252957.181300: いま、efm-langserverでtextのlinter動かしてますので、そこはちょっと...</pre>
<pre>thinca 1584252980.182300: readonly / nomodifiable は判断の助けになりそう (バッファが作られた瞬間は設定されてないけど)</pre>
<pre>ycino 1584252990.182600: あ、そうなんですね
textにlspやりようないかと感じたので、すみません</pre>
<pre>heavenshell 1584253002.183100: git 関連ですかね。commit の時とか。</pre>
<pre>tsuyoshi_cho 1584253003.183200: というかmanくらいだと書く人むけのlinterは使えるな...(ボケ)</pre>
<pre>tsuyoshi_cho 1584253042.184100: lspがreadonlyとかチェックをもうちょっと厳しめにしているか、は気になるところ、でも今回こっちがどうこうはできる範囲ではないですね</pre>
<pre>thinca 1584253044.184200: man は書く場合は別のフォーマットのはず…</pre>
<pre>tsuyoshi_cho 1584253057.184500: あー、そうだ変換前提だった</pre>
<pre>ycino 1584253097.185200: gitcommitとgina-commit両方を弾いてる部分がある、ginaはgina-commit返すんだっけ・・・？</pre>
<pre>ycino 1584253113.185500: ginaでもcommitはgitcommitだったような気がするんだけど</pre>
<pre>tsuyoshi_cho 1584253164.185900: <https://github.com/lambdalisue/gina.vim/blob/master/ftplugin/gina-commit.vim>
あるっぽいが、別に両方ハンドリングしている可能性がある?</pre>
<pre>ycino 1584253215.186500: cmdwinはft=cmdwinでしたっけ</pre>
<pre>ycino 1584253228.186800: gina、ちょっと確認してみます</pre>
<pre>kuu 1584253229.186900: vimですね</pre>
<pre>ycino 1584253245.187300: vimか、そこはftで弾けないですね</pre>
<pre>kuu 1584253274.188400: `!empty(getcmdwintype())` で弾いた</pre>
<pre>ycino 1584253277.188500: cmdwinからpopupwin、動くのかな</pre>
<pre>ycino 1584253372.189400: `:Gina commit` からだと `gina-commit` ですね
gitcommitと両方入れた方がよさそう</pre>
<pre>kuu 1584253404.189800: 前git関連のプラグインにPR送った時はg*commitでやった（いいのか）</pre>
<pre>ycino 1584253422.190100: 予想外の弾きそうではあるけどそれでいいかも？</pre>
<pre>ycino 1584253447.190500: ひとまず `gina-*` はやっておいてもよさそう</pre>
<pre>thinca 1584253485.190900: プラグインごとに対応するの正直キリがないと言う気持ちはある</pre>
<pre>ycino 1584253527.192400: どこまでやるかではありますよね（Issueに結構プラグインのが入ってたから色々書いてしまった）</pre>
<pre>thinca 1584253528.192500: さっき言った readonly とかその辺りで何かイイカンジにできないだろうか (雑)</pre>
<pre>kuu 1584253538.192900: 今回のケースだとgitcommitだけ弾いて後はユーザーが指定してねがいい感じ</pre>
<pre>thinca 1584253589.193600: gina であっても commit はさすがに readonly じゃなさそうだな…</pre>
<pre>kuu 1584253613.193900: むしろreadonlyだと逆に困る</pre>
<pre>tsuyoshi_cho 1584253657.195200: lspの機能にのっかるので、そうしようもないのです....
ただ、ある程度はデフォルトちゃんとそろえるのが、このプラグインとしては労力のかけどころなのでがんばります</pre>
<pre>thinca 1584253686.195900: 独自ではないのか。単に設定を提供するだけだからか</pre>
<pre>thinca 1584253696.196300: vim-lsp 側に PR 出せば解決</pre>
<pre>thinca 1584253727.196600: 後はバッファ名とかか…</pre>
<pre>ycino 1584253823.197200: qfreplaceは多分editableかつ弾きたい対象ですかね？</pre>
<pre>tsuyoshi_cho 1584253838.197500: あー、たしかにqfreplaceもそうですねえ</pre>
<pre>thinca 1584253968.197700: 作り直さないと…</pre>
<pre>thinca 1584254088.198400: 弾きたいバッファかどうかをもうちょい柔軟に指定できるように vim-lsp 側を改善するのが先な気がする</pre>
<pre>tyru 1584254110.199200: buftype=acwrite 以外で buftype 設定されてたら弾くとかでもいい気がする</pre>
<pre>thinca 1584254132.199700: 式で判定できるように、とか。場合によっては遅延 (timer で) してから判定までできないとキビしいかもしれない</pre>
<pre>thinca 1584254142.199900: qfreplace は acwrite</pre>
<pre>kuu 1584254150.200300: timer絡むとつらい</pre>
<pre>thinca 1584254193.202000: バッファが生成された瞬間って各種オプションがまだ設定されていなかったりする。たいてい、バッファを開いてからオプションをあれこれ設定するので</pre>
<pre>tsuyoshi_cho 1584254196.202300: これでもvim-lspは素直でしっかり設定できるんですよね
全タイプとして '*' 、それのblacklistを設定できる
aleやcocは特定のタイプに紐付けが必要で anyとか any with excludeができない...</pre>
<pre>tyru 1584254212.203000: buftype 見た感じ acwrite はなんか vim-lsp 走ってほしそうなケースもありそうな…
buftype が空かどうかで判断しちゃっていいのかな\</pre>
<pre>tsuyoshi_cho 1584254226.203700: Filetypeイベントで大体は平気なんですけどね...</pre>
<pre>thinca 1584254230.203800: そもそも filetype だけで判断するのに無理がある…</pre>
<pre>kuu 1584254285.204800: acwriteってnetrwとかmetarwとか走った時になるやつか、だとしたらありそう</pre>
<pre>thinca 1584254291.205000: いやーあれか。個人向けの設定ならそれでもまあだいたいなんとかなるけど、汎用的な設定を作ろうとしているのがしんどいのかなー</pre>
<pre>ycino 1584254367.205300: 個人だと10個くらい調べて弾けばどうにかなりますしねぇ</pre>
<pre>tsuyoshi_cho 1584254714.205700: まー、できるだけ、なので辛くなったら止めますw</pre>
<pre>tsuyoshi_cho 1584254742.206200: あと、設定は可能なので、自分で追加(ただし効くのはvim-lsp)で</pre>
<pre>heavenshell 1584254987.206800: PRs are welcome というスタンスで良さそうですねw</pre>
<pre>tsuyoshi_cho 1584261636.210400: <@U03C6TEAZ>
これは対応は不要かもしれませんが...
efm-langserver で formatter の stdin 対応がされましたが、stdin false(ファイルが更新される)にもかかわらず、結果を(stdinから?)適用しようとしてバッファが空になります(空出力に置き換えになる)
その後、ファイルの変更を検知してフォーマット結果を読める、という動きになっているように見えます。
できれば空での上書きがないようにしたほうがよいのではないか、と思います。</pre>
<pre>lighttiger2505 1584261946.211100: やっとこsqlsのサブクエリ補完が動きはじめました。
<https://twitter.com/LightTiger2505/status/1239110193255833601></pre>
<pre>mattn 1584262263.211800: stdin false の時は `${INPUT}` がないと formatter はどのファイルか分からないでしょうから空になると思います。</pre>
<pre>tsuyoshi_cho 1584262535.212400: ええ、なのでformatの応答をうまく捨てれたらなあ、と思ったのですが...むずかしそうですね</pre>
<pre>tsuyoshi_cho 1584262561.212900: (いろいろやってるけど、jqでlint(formatではなく)ができない...</pre>
<pre>mattn 1584273717.213700: ignore-exit-code を format に入れるといい感じですか？</pre>
<pre>tsuyoshi_cho 1584274602.214500: lintなのですでにあるのですが...efmのREADMEにあるjq での json lint、結果がなんか拾えてなくて</pre>
<pre>yaegassy 1584279922.216300: jq って、そもそも linter として使えるんですかね？ ale だと linter は jsonlint しかなくて formatter としては jq は対応してるようでしたが</pre>
<pre>lighttiger2505 1584280101.217000: パースできないときのエラーを吐いているのでそのポジションを取ればできなくはない気がしますが。</pre>
<pre>yaegassy 1584280221.218300: こんな感じのパースエラーを元にってことなのですかね。なるほど
```$ cat a.json | jq -
jq: error: syntax error, unexpected $end (Unix shell quoting issues?) at &lt;top-level&gt;, line 1:
-
jq: 1 compile error```</pre>
<pre>tsuyoshi_cho 1584280258.218900: ええ、efmのREADMEにもあるし、やれるかなーとやってますが、なんかとれない...stderrに吐いてるのかな?</pre>
<pre>tsuyoshi_cho 1584280301.219300: やっぱそうだ、stderrに吐いてる...からリダイレクトすると取れるか?</pre>
<pre>yaegassy 1584280537.220000: `-` が余計かな...
```$ cat a.json | jq
parse error: Unfinished string at EOF at line 4, column 0```</pre>
<pre>yaegassy 1584280648.220400: stderr ですね</pre>
<pre>tsuyoshi_cho 1584280670.220700: いまちょっと小細工して確認してます...</pre>
<pre>tsuyoshi_cho 1584281582.221200: むう、シェルにわたすとはいえ、
``` lint-command: 'jq 2&gt;&amp;1'```
では通らんか...</pre>
<pre>mattn 1584283888.221700: 異常の場合には non-zero が返って format 自体が失敗するはずなんですけどね。</pre>
<pre>mattn 1584283946.222400: なので空にはならないイメージです。</pre>
<pre>tsuyoshi_cho 1584284073.222800: いえ、formatじゃなくlintなんです...
formatはOK</pre>
<pre>mattn 1584284112.223200: lint は ignore-exit-code を false にすれば同じ動きになると思っています。</pre>
<pre>mattn 1584284160.223500: そもそも lint はバッファを更新しないので。</pre>
<pre>mattn 1584284182.223900: 空になったとすれば efm 以外の要因な気がします。</pre>
<pre>tsuyoshi_cho 1584284234.224300: あ、すいません、format時の空になる件ですね?</pre>
<pre>mattn 1584284273.225200: 別の話でしたか？</pre>
<pre>tsuyoshi_cho 1584284288.225500: はい、ちょっと別の話があります(混乱させてすみません)</pre>
<pre>tsuyoshi_cho 1584284324.226500: 1. ある種のformatterは ファイルを更新するが、そのときバッファが一度空になる現象がある
2. jq で うまくlintできないなあ(サンプルだと)</pre>
<pre>mattn 1584284362.227100: formatter の件は、formatter に直接ファイルを更新させてはだめです。</pre>
<pre>tsuyoshi_cho 1584284376.227300: なんですよねー</pre>
<pre>tsuyoshi_cho 1584284389.227700: markdownlintのfixはあきらめたほうがいいかな...</pre>
<pre>mattn 1584284423.228400: テンポラリファイルを作ってそのファイルで format、結果のファイルを cat すればいいのかなと。</pre>
<pre>mattn 1584284455.228900: それ用の hack を efm に入れれるかもしれませんが。</pre>
<pre>tsuyoshi_cho 1584284493.229300: 設定側が実現したくてやるなら、ラップするシェルスクリプトでも作らんとですね...</pre>
<pre>tsuyoshi_cho 1584284544.230000: 要求レベルは低いので、課題の1つ、くらいの認識でもっていただけるとうれしいかな、くらいです</pre>
<pre>mattn 1584285517.230200: なるほど</pre>
<pre>kyoh86 1584293607.231200: fzfのpopup使ってると、たまにvim-lspっぽいところでエラーになってpopupが死ぬなぁ</pre>
<pre>kyoh86 1584293704.231300: ```BufWipeout Autocommands for "*" の処理中にエラーが検出されました:
E994: ポップアップウィンドウでは許されません```
今の所入れてるプラグインや設定でBufWipeout使ってるのvim-lspだけなのでおよそ間違いなさそう。

<https://github.com/prabirshrestha/vim-lsp/blob/2de8f4d479229eedcb9bf41a878b94fb7e2662ed/autoload/lsp.vim#L200></pre>
<pre>kyoh86 1584293731.231600: こういうとき日本語化してると気軽にIssue起こせなくて面倒くさいなあ</pre>
<pre>kyoh86 1584293950.231800: `:language messages en_US.UTF-8` しておいて再現したらまたIssue切ろう…</pre>
<pre>tsuyoshi_cho 1584301809.232000: なるほど</pre>
<pre>kyoh86 1584308243.232200: ```Error detected while processing BufWipeout Autocommands for "*":
E994: Not allowed in a popup window```
出よった</pre>
<pre>kyoh86 1584308997.232400: <https://github.com/prabirshrestha/vim-lsp/issues/754></pre>
<pre>kyoh86 1584308999.232600: 切った</pre>
<pre>hrsh7th 1584325659.233500: _週末に作業時間がとれるかどうかがかなり運ゲーになってしまっている。。。_</pre>
<pre>hrsh7th 1584325703.234300: workspace 対応を PR 出しました。
vim-lsp のばあい、`workspace_config` の管理が現状 per server になっているので、そこを破壊せずに対応した感じにしました。</pre>
<pre>hrsh7th 1584325738.234900: 個人的には workspace_config はグローバルに一つというのが正しい認識かなとは思いますが、これはこれで自由度高くなっていいかもと思っています。</pre>
<pre>hrsh7th 1584325834.235900: 対応後のブランチではどんなに複数の Golang のプロジェクトのファイルをまたがって編集操作をしたとしてもちゃんと補完候補が返ってくるが、
対応前のブランチ（master）では、時折まったく補完候補が返却されないことがあるので正しく動いていると思います。</pre>
<pre>tsuyoshi_cho 1584339413.238200: notice:
<https://github.com/tsuyoshicho/vim-efm-langserver-settings/issues/61>
vim-efm-langserver-settings の設定を見て、「あ、自分が出した意見が入ってる」と思うものがあったら:raising_hand:していただけると幸いです。
Special Thanks として掲載しようかなと
どなたにご協力いただいたか、記憶もログも定かではなくorz</pre>
<pre> 1584366154.239300: <@U03C6TEAZ>
vim-lspをつかっているのですが、あるプロジェクト内では定義ジャンプができない場合があります。
そのプロジェクト内で定義したパッケージの関数にジャンプはできない状態です。

ログを出してみたものの、原因わからず状態です。
ログを見て頂けますか？</pre>
<pre>mattn 1584366297.239900: 今は　xxx にいると思えばいいですか？そこに go.mod と go.sum がある状態ですか？</pre>
<pre>ゴリラ 1584366438.240400: xxx/api にいます
そこにgo.mod と go.sum があります</pre>
<pre>mattn 1584368846.246100: 最後のジャンプは飛べてそうです。</pre>
<pre>ゴリラ 1584369085.246700: 確かに、最後のレスポンスは問題なさそうすけど、やっぱ飛べないスネ。。。</pre>
<pre>ゴリラ 1584369142.247200: 前（1年くらい前）は飛べた記憶がある。。。</pre>
<pre>ゴリラ 1584369302.247600: ちなみに、 go.mod と go.sum は一度削除して作り直しました</pre>
<pre>mattn 1584369547.248000: 同じリポジトリをどこかに置いてもらえると確認できるかも。</pre>
<pre>ゴリラ 1584369623.248300: privateなやつですが、ちょっと招待しますね</pre>
<pre>ゴリラ 1584369693.248500: <@U03C6TEAZ> 招待しました</pre>
<pre>mattn 1584417564.248800: <https://twitter.com/presuku/status/1238435776343330816></pre>
<pre>mattn 1584417571.249200: なんだろう...</pre>
<pre>hrsh7th 1584418224.249800: BufReadPost の段階で FileType が決まっていないとかなんですかね。。。謎ですね。。。</pre>
<pre>tsuyoshi_cho 1584418442.251900: ただ、statuslineにserverの状態を出していると、whitelist [*] blacklist [hoge] でhogeで起動しかけつつ、後で状態としてサーバなしになったりとか、たまーに不思議状態っぽいものを見ることはあるので、なんか隙間があるのかな...?</pre>
<pre>thinca 1584418476.252600: filetype は BufReadPost の過程で設定されるので BufReadPost で filetype 未決定は当然ある</pre>
<pre>presuku 1584427054.261000: `vim test.c`と、vim起動後の`:e test.c` のそれぞれのログに、前者は`lsp#register_server` があって、後者にはないので、後者の場合は 空のバッファ（つまりftは空）を開いたあと vim-lsp の方で VimEnter で `lsp#enable`しているからかと思った次第です。vim-lsp-settings は FileType イベントで`lsp#register_server` しているっぽい(?)ので、先に空のバッファを開いてしまうとダメなのかなと。</pre>
<pre>thinca 1584427132.261800: lsp#enable した後だと register されない? ってのも不思議ですね…</pre>
<pre>presuku 1584428205.268100: あと、これを試してるときは pack/minpac/opt に入れてて .vimrc で packadd vim-lsp　などしてたんですけどそれですかね…
もともとは、特定のFileTypeの時にpackaddしてたのですがvim-lsp-settings導入時にそれがうまくいかなくなり、特定の拡張子の時の BufNewFile, BufRead でpaするようになり、上記の問題があったので最終的に↓な感じになりました。
```let g:lsp_auto_enable = 0
fu! s:on_ftdetect_packadd_lsp() abort
  cal s:wrap_packadd(['vim-lsp', 'vim-lsp-settings', 'vim-lsp-snippets', 'vim-lsp-neosnippet'])
  au BufEnter * ++once cal lsp#enable()
endf
aug ft_pack_settings
  au!
  au BufNewFile,BufRead
        \ *.rs,*.c,*.cpp,*.h
        \ ++once
        \ cal &lt;SID&gt;on_ftdetect_packadd_lsp()
aug END```</pre>
<pre>presuku 1584428617.271000: しかし、これも将来的には`:LspPackaddAndStart`的なコマンドでガッツリ編集したくなったら lsp を有効になるようにしたいなぁと思ってるところです (拡張子ないしFileType毎の有効/無効じゃなくて)</pre>
<pre>tsuyoshi_cho 1584452836.272300: <https://vim-jp.slack.com/archives/CLKR04BEF/p1584452703466000>
とのこと</pre>
<pre>vikke 1584452843.272500: <#CLKR04BEF|plugins> から流れて来ました。
vim-lsp-settingsで質問です。 phpで、LspInstallServerは通ったんですけど、LspUninstallServerすると Invalid server name 言われてuninstall出来ないんですけど、誰か情報持ってませんか?</pre>
<pre>vikke 1584452849.272700: かぶった。</pre>
<pre>tsuyoshi_cho 1584452855.272900: ww、ごめんw</pre>
<pre>vikke 1584452866.273100: いえいえ。ありがとうございます。</pre>
<pre>tsuyoshi_cho 1584452921.274100: 作者のmattnさんとかなら、0時前くらいには、なにかしら応答がある、かな?</pre>
<pre>vikke 1584452981.274500: その頃にはドリーミンなんで明日の朝対応かなー。</pre>
<pre>tsuyoshi_cho 1584453215.275400: ただ、コードを見る分には愚直にrm rfするだけなんですよね...
ちなみに現在そのサーバの状態を直に確認できますか? 存在しているのかとか</pre>
<pre>heavenshell 1584453268.275900: servers の置き場が変わってその影響とか？(完全にエスパー</pre>
<pre>tsuyoshi_cho 1584453306.276700: あー、デフォルト値が変ったときのを
1. インストール
2. プラグイン更新
3. アンインストール(で失敗)
とか?</pre>
<pre>vikke 1584453321.277000: サーバーの状態ってどうやって確認出来ます?</pre>
<pre>thinca 1584453334.277400: `:LspStatus`</pre>
<pre>vikke 1584453350.278000: intelephense: running ですね。</pre>
<pre>vikke 1584453409.278700: インストールはこんな感じでやってます。deinです。
```    call dein#add('prabirshrestha/async.vim')
    call dein#add('prabirshrestha/vim-lsp')
    call dein#add('mattn/vim-lsp-settings', {'merged': 0})
    " call 'Shougo/deoplete.nvim'
    call dein#add('lighttiger2505/deoplete-vim-lsp')```
</pre>
<pre>thinca 1584453436.279200: アンインストールのために実際に実行したのは `:LspUninstallServer intelephense` でしょうか?</pre>
<pre>vikke 1584453456.279500: ftがphpの状態で、 :LspUninstallServer のみです。</pre>
<pre>vikke 1584453464.279800: 引数必要ですか?</pre>
<pre>thinca 1584453471.280000: 必要です</pre>
<pre>yaegassy 1584453509.280700: それっぽそうですね</pre>
<pre>vikke 1584453510.280800: 出来た。。。。
helpしたらヘルプ無かったので。。。</pre>
<pre>thinca 1584453519.281200: さすがに誰かそろそろドキュメント書いた方がよさそう…</pre>
<pre>vikke 1584453521.281300: あざます。</pre>
<pre>heavenshell 1584453529.281800: エラーならないのか。</pre>
<pre>tsuyoshi_cho 1584453532.281900: あらら...なるほど</pre>
<pre>thinca 1584453533.282000: ボランティア絶賛募集中 (OSS)</pre>
<pre>vikke 1584453629.284200: ちなみについでで聞くんですが、intelephense(php)で書く時って、phpはinclude_pathって奴でclassのrootを複数指定出来ますが、これって、どうやって出来ます?
そんなクラス無いと言われてしまうんです(まー見えてないんであたりまえですが)</pre>
<pre>h-michael 1584453884.285600: それはあるとすればlanguage serverに渡す設定なのでserver側のreadmeか何か見たほうがいいですね</pre>
<pre>tsuyoshi_cho 1584453976.286100: workspace_configにその手の情報がセットできれば...という感じですね...(あるかは不明)</pre>
<pre>yaegassy 1584454030.286800: PHPちょっとは触ってますが、さすがに include_path はもう長らく使ってない...</pre>
<pre>yaegassy 1584454050.287100: ```intelephense.environment.includePaths```</pre>
<pre>yaegassy 1584454081.287800: こんなのがあるのでこれかなー</pre>
<pre>vikke 1584454125.288600: ほほー。</pre>
<pre>vikke 1584454217.289700: 複数のrootってどうしてます? あるいはvendor配下とか。 <@U7TMPGWJ0></pre>
<pre>yaegassy 1584454307.290300: 複数のrootっていうのがちょっとわからないのですが。composerのautoloadしかもう使ってないですね</pre>
<pre>vikke 1584454358.291000: intelephenseがcomposerのautoloadに対応している感じですか?</pre>
<pre>vikke 1584454370.291300: もういっかいintelephense入れなおした。</pre>
<pre>vikke 1584454481.292200: なんか超絶初心者ですいません。</pre>
<pre>vikke 1584454538.293100: intelephenseがautoloadに対応してくれれば(というかしていそう)、うれしい。</pre>
<pre>yaegassy 1584454595.294000: 勿論大丈夫ですよ</pre>
<pre>mattn 1584454665.294700: help を書いた方がいい、だけ読んだ。</pre>
<pre>vikke 1584454674.295000: ネ申キタ━━━( ´∀`)・ω・) ゜Д゜)・∀・)￣ー￣)´_ゝ`)━━━!!!!</pre>
<pre>vikke 1584454711.295400: src読むの前提のみなさんなんですね。</pre>
<pre>tsuyoshi_cho 1584454804.297900: 慣れてる側がそうなだけで、一般的ではないはずw</pre>
<pre>mattn 1584454808.298000: vim-lsp-settings はヘルプ無しで使えるという目標を掲げつつヘルプを書くのをサボるプロジェクトです。</pre>
<pre>vikke 1584454825.298400: 高尚だ。</pre>
<pre>thinca 1584454828.298500: 使えてないじゃない</pre>
<pre>vikke 1584454859.299000: だれか、intelephenseにautoload渡す方法教えておくれよ。</pre>
<pre>mattn 1584454900.299500: intelephense 詳しくないです。。。</pre>
<pre>vikke 1584455062.300100: む。じゃ、時間ある時に調べてみよう。(時間があるとは言っていない)</pre>
<pre>vikke 1584455093.300800: みんなphp書いている人、どうしているんだろう。laravelとか書いていると、補完もまともに効かないと思うんだけどなー。</pre>
<pre>yaegassy 1584455148.301100: あれ？Laravelなんですか？</pre>
<pre>yaegassy 1584455151.301300: include_path ってお話されてたので。10年くらい前のPHPのソースをいじってるのかと思ってました</pre>
<pre>heavenshell 1584455210.302600: intelephense 使ってないし完全に想像だけど、vim-lsp の workspace の設定のところに
```"intelephense.environment.includePaths": {
    	"type": "array",
        "items": {
        	"type": "string"
        },
        "description": "The include paths (as individual path items) as defined in the include_path ini setting. Used for resolving script inclusion.",
        "scope": "window"
    },```
みたいに書くのかな？</pre>
<pre>vikke 1584455267.303200: あー、すいません。include_pathはウソです。ウソつきです。composerのautoloadです。</pre>
<pre>vikke 1584455293.303600: サンプルありがとうございます。これはこれで参考になる。</pre>
<pre>mattn 1584455351.304800: vim-lsp でやるなら `.` を含んだキーはネストしないかもいけないかも。</pre>
<pre>tsuyoshi_cho 1584455409.306600: 多段dictの初期化の良い方法はないものか...</pre>
<pre>yaegassy 1584455430.307400: Laravelは黒魔術(メタクラス的なマジックメソッド)を沢山使ってるので laravel-ide-helper というジェネレーター的なのを入れて。それを使って実在しないクラスやメソッドを吐き出す儀式が必要です <https://github.com/barryvdh/laravel-ide-helper></pre>
<pre>heavenshell 1584455449.308300: ```"intelephense": {
  "environment": {
    "includePaths": {
      "type": "array",
      "items": {},
    }
  }
}```
こうか。</pre>
<pre>mattn 1584455452.308400: <https://github.com/mattn/vim-lsp-settings/blob/8a50c71c44a9894b33a81344ab6a76fb07a38ce2/autoload/lsp_settings/utils.vim#L34></pre>
<pre>yaegassy 1584455456.308700: これはJetBrainsのPHPStormでも同様に必要な儀式</pre>
<pre>heavenshell 1584455468.309100: “intelephense.environment.includePaths” ってキー名じゃないんですね。</pre>
<pre>vikke 1584455483.309900: railsと同じ黒魔術。。。</pre>
<pre>mattn 1584455490.310200: `.` を含んだ辞書は↑の dotmerge で展開できます。</pre>
<pre>tsuyoshi_cho 1584455490.310300: 俗にvim-lsp的読み替えというやつ...</pre>
<pre>mattn 1584455527.311200: vim-lsp-settings の場合、Vim script で書くより `:LspSettingsEditLocal` で JSON 弄った方が楽かも。</pre>
<pre>heavenshell 1584455538.311500: ```lsp_settings#utils#dotmerge("intelephense.environment.includePaths")```</pre>
<pre>heavenshell 1584455541.311700: こうです？</pre>
<pre>mattn 1584455561.312200: あ、いえ heavenshell さんが書いた dict のほう。</pre>
<pre>heavenshell 1584455569.312400: あ、なるほど。</pre>
<pre>vikke 1584455842.313200: そろそろ落ちます。あざました。明日、補完出来るように色々見てみます。</pre>
<pre>mattn 1584459826.313500: <https://github.com/sveltejs/language-tools></pre>
<pre>mattn 1584459839.313900: svelte はじめて聞いた。</pre>
<pre>mattn 1584459892.314200: めっちゃ遊んだ事あった模様。 <https://twitter.com/search?q=from%3Amattn_jp%20svelte&amp;src=typed_query></pre>
<pre>mattn 1584459907.314600: お爺ちゃん、それ前遊んだでしょ。</pre>
<pre>mattn 1584459971.315000: 思い出した...</pre>
<pre>heavenshell 1584460349.315200: ワロタw</pre>
<pre>heavenshell 1584460752.316600: svelete で思い出したけど lit-html は ts の plugin かー。うまくいけば ts-graphql-plugin 見たく vim-lsp と連携できるのかな…。
<https://github.com/microsoft/typescript-lit-html-plugin></pre>
<pre>tomoya 1584460793.317200: あー svelte、mattn さんの tweet で知ったわー</pre>
<pre>mattn 1584460821.317600: 今モダンなテンプレートライブラリって何になるんですかね。</pre>
<pre>heavenshell 1584460843.317900: node.js 界隈ですか？</pre>
<pre>mattn 1584460859.318100: はい。</pre>
<pre>mattn 1584460878.318800: react 的にやるならいらない感じ？</pre>
<pre>mattn 1584460920.319100: server side ならあるか。</pre>
<pre>heavenshell 1584460923.319200: 最近まさにそれ調べてたんですが、<https://github.com/marko-js> とかなんですかね。</pre>
<pre>mattn 1584460957.320000: <https://markojs.com/></pre>
<pre>heavenshell 1584461001.320600: ejs, pug あたりは鉄板として。Jinja2 っぽいのなら Mozilla 製の nunjucks とか。</pre>
<pre>mattn 1584461017.321300: ほえー、slim template ぽい。</pre>
<pre>heavenshell 1584461036.321700: 私は HTML のテンプレートエンジンがほしいわけじゃなかったので、結局 template literal で頑張りましたけども…。</pre>
<pre>mattn 1584461054.321900: ```<!doctype html>
html
    head
        title -- Hello Marko
    body
        h1 -- My favorite colors
        ul.colors
            for|color| of=input.colors
                li -- ${color}```</pre>
<pre>mattn 1584461064.322100: slim やん</pre>
<pre>heavenshell 1584461069.322300: pug はそうですね。</pre>
<pre>mattn 1584461105.322500: 速いは正義</pre>
<pre>mattn 1584461266.323000: この辺いろいろありすぎてすぐ廃れそうな気がして使うの怖い。</pre>
<pre>mattn 1584461318.323500: riotjs で書いたの書き換えるべきなんかなぁと最近思ったりしています。</pre>
<pre>heavenshell 1584461337.323700: そうですねー。</pre>
<pre>heavenshell 1584461413.324200: riotjs はすぐに廃れることはないんじゃないですかねー。</pre>
<pre>heavenshell 1584461483.324700: 久々に riotjs のサイト見たらいつの間にか 4 になってたw</pre>
<pre>mattn 1584461488.324900: あまり評判がよろしくないw</pre>
<pre>mattn 1584461567.325100: <https://twitter.com/mizchi/status/1239475100740497410></pre>
<pre>heavenshell 1584461597.325600: 私も前職で全力で止めましたw プロダクションでは辛いってw</pre>
<pre>heavenshell 1584461793.326500: 最近は落ち着いてきたとはいえ、流行り廃り激しいですからねぇ。</pre>
<pre>mattn 1584461880.327200: 無駄に覚えないといけない物が多いの辛くなるので避けたいんですけどね。</pre>
<pre>heavenshell 1584461931.327900: まぁそういう意味では slim ライクな pug とかは良いかもですね。細かいところがどう違うかは slim を知らないのでなんともですが。</pre>
<pre>heavenshell 1584462026.328800: pug で静的 html なサイトを 3 年くらいメンテしてましたが、特に問題も起きなかったです。</pre>
<pre>mattn 1584462142.329600: 直感的ですしシンプルなの作るには楽なんですが、このスタイルで書けるからどうやねん、みたいな感覚に襲われる事もあります。</pre>
<pre>mattn 1584462212.330500: ruby みたく one-liner で書けると気持ちよさがあるんですけどね。</pre>
<pre>mattn 1584462271.331400: というのを、go で書いた slim テンプレートエンジン(と VM) を書いた後に気付きました。 <https://github.com/mattn/go-slim/></pre>
<pre>heavenshell 1584462282.331700: w</pre>
<pre>mattn 1584462351.333700: ただ go-slim はテンプレートに chan を渡すという実験としては面白かった。</pre>
<pre>tomoya 1584462384.334500: 個人的にテンプレートは学者コスト（スイッチコストかも）があれなのでどうも苦手ですね
JSXはXMLだと思って書いてるからなんとなってます。</pre>
<pre>mattn 1584462424.335100: なんか知らんけど mustache は良く使ってます。</pre>
<pre>heavenshell 1584462448.335900: あーそういう意味では私はもともと PHPer なのでタグ書くの苦じゃないんですよね。なので JSX もすんなり受け入れられました。</pre>
<pre>mattn 1584462455.336100: 他の言語にコピれるからかな &gt; mustache</pre>
<pre>heavenshell 1584462489.336600: handlebars とかも一定の人気あるみたいですね。</pre>
<pre>heavenshell 1584462525.336900: ghost ってブログエンジンのテンプレートがこれでした。</pre>
<pre>mattn 1584462609.337100: <https://ghost.org/></pre>
<pre>mattn 1584462615.337300: わりかしお高い</pre>
<pre>mattn 1584462711.338100: 僕みたいにフロントに疎い人は、廃れた時の道連れになる人が多いと安心するのかもしれないw</pre>
<pre>tomoya 1584462726.338600: 世の中色々あるなぁ</pre>
<pre>mattn 1584462760.339500: まぁ実際、道連れが多いってことは完全には廃れない訳で。</pre>
<pre>mattn 1584462783.340100: mustache なんかそれだと思う。</pre>
<pre>tomoya 1584462795.340300: 確かに</pre>
<pre>tomoya 1584462819.340900: mustache は長生きしそう</pre>
<pre>mattn 1584462833.341300: こんだけ色んな言語に porting されてたら絶対廃れない。 <https://mustache.github.io/></pre>
<pre>tomoya 1584462979.341600: やっぱり男は黙ってHTMLですね（ここ5年くらいまともに書いてない</pre>
<pre>heavenshell 1584462984.341800: なんせ Vim script 版もあるくらいですしねw
<https://github.com/tobyS/vmustache></pre>
<pre>mattn 1584463017.342100: すごい</pre>
<pre>mattn 1584463065.342400: あぁ、やっぱりね。みたいな顔してる。 <https://github.com/tobyS/vmustache/blob/d39f77bafef57ba7af304c74b3cfc91a83fd86e0/autoload/vmustache.vim#L6-L12></pre>
<pre>heavenshell 1584463091.343000: そうですねw 最初見たときそう思いましたw</pre>
<pre>mattn 1584463159.343500: これやると `{{ "fo{" }}` みたいな事できないんですよね。(やらないけど)</pre>
<pre>mattn 1584463168.343800: 逆か。</pre>
<pre>mattn 1584463178.344100: `{{ "foo}}" }}`</pre>
<pre>heavenshell 1584463197.344300: <https://github.com/tobyS/vmustache/blob/d39f77bafef57ba7af304c74b3cfc91a83fd86e0/autoload/vmustache.vim#L70>
そうですねw</pre>
<pre>tomoya 1584463231.345000: そういえば、Go のテンプレートは mustache 由来なんですかね？</pre>
<pre>mattn 1584463255.345400: そういう訳ではないですね。Rob Pike が直感のみで書いてました。</pre>
<pre>johejo 1584463285.345800: 直感のみ</pre>
<pre>mattn 1584463302.346500: 最初から `{{.}}` は入ってましたね。</pre>
<pre>tomoya 1584463319.347100: Pike先生の直感だったのか</pre>
<pre>heavenshell 1584463355.347700: `{{ }}` の最初の出自ってどこなんだろう。Django template あたりなのかな…。</pre>
<pre>mattn 1584463375.348200: どんどん出来上がるさまを見てたので「はぇぇなw」って感動しましたね。</pre>
<pre>heavenshell 1584463473.349500: 今初めて知ったんですけど mustache って defunkt なんですね。知らなんだ。</pre>
<pre>tomoya 1584463481.349900: まじか</pre>
<pre>mattn 1584463484.350000: Go の html/template は結構文法が貧弱というか強くないというか貧相というか、シンプル(それだ)なので好き嫌いありそう。</pre>
<pre>heavenshell 1584463502.350500: Mustache is Copyright (C) 2009 Chris Wanstrath</pre>
<pre>mattn 1584463529.351200: 名前めっちゃひさびさ見た。</pre>
<pre>johejo 1584463533.351300: helmのチャートとか読むのめんどくさいなとは思ったりします。</pre>
<pre>mattn 1584463550.351600: ギッハブのしゃちょさん。</pre>
<pre>tomoya 1584463625.353600: Atom本書いたから前書き頂戴ってメールしたら、ちゃんと返事くれた人だ（ごめん忙しいくて無理だけど嬉しいって言われた</pre>
<pre>mattn 1584463661.354700: だいぶ前に社員と奥さんが揉めて、みたいな話だったかな(覚えてない)</pre>
<pre>johejo 1584463736.355700: MSに買収されたときのブログで冒頭で軽くMSをディスってたのを思い出した</pre>
<pre>mattn 1584463797.356100: なんにも活動してなかった。 <https://github.com/defunkt></pre>
<pre>heavenshell 1584463820.356600: 流石にw</pre>
<pre>heavenshell 1584463839.357000: 2009 年とかはすごいですねw</pre>
<pre>mattn 1584463905.357500: 2004年に活動記録があった。 <https://github.com/mattn?tab=overview&amp;from=2004-12-01&amp;to=2004-12-31></pre>
<pre>mattn 1584463912.358000: いつから GitHub やってんねん。</pre>
<pre>johejo 1584463947.359000: そう考えるとmitchellh氏とかすごいなあ</pre>
<pre>mattn 1584463973.359200: お箸の会社</pre>
<pre>heavenshell 1584463999.359700: 経営しながらコード書くってすごいなぁ。自分には絶対無理だ。</pre>
<pre>mattn 1584464032.360000: 受託ならまだしも自社製品すからね。</pre>
<pre>mattn 1584464049.360300: 売り込みせんといかんし。</pre>
<pre>heavenshell 1584464062.360600: そうですよねぇ。</pre>
<pre>mattn 1584464088.361000: V さんもあんまコードは書いてないって言ってたなぁ。</pre>
<pre>johejo 1584464181.361700: しかも自分の個人リポジトリもむっちゃメンテしてるし 何だこの人</pre>
<pre>heavenshell 1584464199.361900: すごい</pre>
<pre>mattn 1584464444.362300: hashicorp、500-1000 人くらい社員いるのか。</pre>
<pre>mattn 1584464466.362700: (レンジ広い)</pre>
<pre>mattn 1584464493.363100: まぁでも日本の社長さんならコード書ける規模じゃないな。</pre>
<pre>johejo 1584464580.363900: private repoへのコントリビューションもかなり多いみたいだし普通にプロダクトコード書いてるっぽいっすね</pre>
<pre>tomoya 1584464641.364600: HAL研時代の岩田さんみたいなもんか</pre>
<pre>lighttiger2505 1584544537.376200: LSPの``workspace/executeCommand``仕様のふわふわ具合にどうしたものかと。
<https://microsoft.github.io/language-server-protocol/specifications/specification-current/#workspace_executeCommand></pre>
<pre>lighttiger2505 1584544848.377700: vim-lspの `workspace/executeCommand` もReturnがAnyなので、何を返したものか状態なんですね。まあそうなりますよね。</pre>
<pre>mattn 1584546391.378300: 逆にいうと独自で作るって話ですね。</pre>
<pre>lighttiger2505 1584547095.381900: 綺麗にやろうとクライアント実装するなら各LSP側のexecuteCommand実装を見て、一通り捌けるようにしてあげる。雑にやるなら、どれも文字列で解釈できるものとして、バッファ表示してあげるかという感じですかね。</pre>
<pre>lighttiger2505 1584547168.383700: sqlsのクエリ実行結果表示を作ってるのですが、出来たらvim-lsp側を触ってみます。</pre>
<pre>mattn 1584547285.385000: 僕も前試したんですが code-action からの連携(register_command)でやるのはほぼ意味が無くて結局 `lsp#send_request` で直接 executeCommand 叩いて応答を JSON パースした方が楽でした。</pre>
<pre>mattn 1584547329.385700: 速さを求めるなら Go 側で表作って Vim ではそれ表示するだけ、とかもあると思います。</pre>
<pre>mattn 1584547329.385900: <https://github.com/olekukonko/tablewriter></pre>
<pre>lighttiger2505 1584547539.386500: &gt;  速さを求めるなら Go 側で表作って Vim ではそれ表示するだけ、とかもあると思います
まさにそれでテーブル表示を作ろうとしていたところでした。</pre>
<pre> 1584580073.386800: efm-langserver の completion-command に単語のみ抽出するコマンド作って設定してみた。日本語にも対応してしまったのでやっぱりちょっと遅いね。</pre>
<pre>mattn 1584580081.387200: <https://github.com/mattn/words></pre>
<pre>johejo 1584602121.390500: もしかしてefm-langserverとlookコマンドの組み合わせ悪くないのでは</pre>
<pre>tsuyoshi_cho 1584602341.391000: すごいバックグラウンド負荷がw</pre>
<pre>tsuyoshi_cho 1584602346.391200: でもよさげ</pre>
<pre>hrsh7th 1584602432.391700: golang で ctags 的なものないんだろうかと調べてみたら <https://github.com/jstemmer/gotags> がでてきたけれど、更新されてなさげですね。。。</pre>
<pre>thinca 1584602485.392700: ctags だと難しいのですっけ? Go の文法結構シンプルだし ctags でも割といけそうな雰囲気がするけど</pre>
<pre>hrsh7th 1584602491.392800: _ていうか go のソースコードの解析しか対応していなかった_</pre>
<pre>hrsh7th 1584602523.393400: あ、いえ、ctags 的なものを内蔵できてしまえば便利かなあと思っただけでした。</pre>
<pre>mattn 1584602598.393800: ctags でユーザ定義できるのでそれでやってる人もいますね。</pre>
<pre>mattn 1584602619.394000: ```--langdef=Go
--langmap=Go:.go
--regex-Go=/func([ \t]+\([^)]+\))?[ \t]+([a-zA-Z0-9_]+)/\2/d,func/
--regex-Go=/var[ \t]+([a-zA-Z_][a-zA-Z0-9_]+)/\1/d,var/
--regex-Go=/type[ \t]+([a-zA-Z_][a-zA-Z0-9_]+)/\1/d,type/```</pre>
<pre>tsuyoshi_cho 1584602637.394400: いまのuctags強いので、わりとおまかせでいけそう...</pre>
<pre>mattn 1584602842.394800: efm &amp; look は良さげ。</pre>
<pre>mattn 1584602851.395100: hover に eblook とかも面白いかも。</pre>
<pre>tsuyoshi_cho 1584602926.395700: eblookのための辞書定義とかですね、あとは</pre>
<pre>johejo 1584602949.396400: `cat README.md | words | xargs -I{} look {}` とかやってみたけど結構遅かった...</pre>
<pre>mattn 1584603168.396700: <https://docs.microsoft.com/ja-jp/visualstudio/releases/2019/release-notes#decompilation-extraction></pre>
<pre>mattn 1584603171.397100: これすげーな。</pre>
<pre>mattn 1584603179.397300: &gt; シンボルがなくてもマネージド コードを逆コンパイルし、コードの確認、変数の検査、ブレークポイントの設定を行うことができるようになりました。</pre>
<pre>tsuyoshi_cho 1584603213.397900: さすがにマネージドコードなんですな</pre>
<pre>hrsh7th 1584603220.398100: _書いてあることの意味すらわからなくてすごい_</pre>
<pre>kuu 1584603242.398700: 公式で逆コンパイラ作ったのか</pre>
<pre>mattn 1584603244.398800: IR からコードを戻してブレイクポイントを設定</pre>
<pre>johejo 1584603288.399200: ちゃんともとの位置にブレイクポイントおけるんだ...</pre>
<pre>mattn 1584603324.399600: デバッガでどこまでもステップインできるやつ。</pre>
<pre>mattn 1584603356.400200: 「担当していた物が辞めてソースを紛失していたので助かった！」みたいな事言う人が出てきそう。</pre>
<pre>takets 1584603513.400800: コードの復元ができてしまうのかなぁこれ</pre>
<pre>mattn 1584603539.401300: java でいう jad</pre>
<pre>mattn 1584603574.401800: 中間言語なので技術的には jad と同じですね。</pre>
<pre>hrsh7th 1584603714.402300: バイナリだけあればブレークポイントまで貼れるってことなのかな。。。謎技術ですね。。。</pre>
<pre>johejo 1584603796.403300: jd-guiちょっとだけ使ったことある</pre>
<pre>kuu 1584603803.403500: 逆コンパイラというだけなら前からありましたけどね、ILSpyとか</pre>
<pre>kuu 1584603816.404000: VSに入ってるというのがミソ</pre>
<pre>mattn 1584603874.404700: eclipse も jad と連携してデバッガでステップイン可能でしたね。</pre>
<pre>mattn 1584603921.405600: インタプリタなので walk する AST の前に break point 噛ませれば止まりそう。</pre>
<pre>hrsh7th 1584603926.405800: （この手のものは）デバッグ専用のコードを差し込んだバイナリを作ってデバッグするもんだと想像していました。</pre>
<pre>mattn 1584603988.407300: バイトコードインタプリタであればどれもできそう。</pre>
<pre>mattn 1584604429.408200: ilspy って動かせるとこまでもどせましたっけ。</pre>
<pre>mattn 1584604503.408700: ずいぶん昔にしか触ってないから動かせなかった記憶しかない。</pre>
<pre>mattn 1584604567.409000: 有料ソフトウェアになってたw <https://www.red-gate.com/products/dotnet-development/reflector/></pre>
<pre>tyru 1584605550.410400: Java なら多分前からできてそうですね &gt;ソースなくてもブレークポイント貼る
ソース無いコードデバッグしたことないけど。。</pre>
<pre>tyru 1584605612.411300: IntelliJ, Eclipse でライブラリのメソッドとかにジャンプした際にソースない場合は逆コンパイルしたソースを見れるやつは vim でもほしい</pre>
<pre>tsuyoshi_cho 1584605734.412100: debugger adapter期待(なにも考えていない)</pre>
<pre>tyru 1584606207.413400: jump 先がなかったら jad かけるとかだったら案外できそうかも… いや対象 jar, class の特定がめんどいなー。
LSP 側に特定機能つけてもらわないとやってられんだろうし</pre>
<pre>tsuyoshi_cho 1584606257.413800: lspでのジャンプについてはdebugger adapterとの連携IFがないとむずかしそうですね...</pre>
<pre>lighttiger2505 1584630533.414000: <https://twitter.com/LightTiger2505/status/1240651715134644225?s=20></pre>
<pre>lighttiger2505 1584630585.415000: なんとかLanguageServerでのSQL実行までこぎつけました。vim-lsp側の実装はちょっと考えないといけないですね。</pre>
<pre>tyru 1584635684.415900: <https://vim-jp.slack.com/archives/CGABGC8LA/p1584635619031000></pre>
<pre>tyru 1584635692.416200: <https://github.com/scalameta/metals/releases/tag/v0.8.2></pre>
<pre>mattn 1584667731.418100: coc を色々試してるけど coc はなんかのパターン(まだわかってない)に入ると突然 LS が動かなくなる感じがする。vim-lsp の方が詳しいからかもしれないけど vim-lsp は負けてながらもカチッっと動いてる感じ。</pre>
<pre>mattn 1584675965.418400: 補完候補の種別に coc ぽくアイコン付けてみた。</pre>
<pre> 1584675970.418500: </pre>
<pre>mattn 1584676080.419300: LspSettingsGlobalEdit してこれ貼り付ければこうなります。</pre>
<pre>mattn 1584676082.419500: <https://gist.github.com/mattn/cb1a67992cadd5bc3ba51d2261078a6f></pre>
<pre>kuu 1584676115.420000: 数学記号なのか、これ</pre>
<pre>kuu 1584676122.420400: ポケモンのアンノーンにしか見えない</pre>
<pre>mattn 1584676236.420800: アイコン、coc に合わせてみたけどなぜ「渚」が混じってるか分からん。</pre>
<pre>mattn 1584676275.421300: この辺を vim-lsp 本体弄らずにできる様になってきた点で vim-lsp-settings の意味が出てきた。</pre>
<pre>mattn 1584676350.421800: 本当は :file_folder: とか使った方がかっちょよさそうだけど。</pre>
<pre>mattn 1584676380.422200: cica だと豆腐だらけになってしまった。</pre>
<pre>mattn 1584676395.422500: coc のドキュメントによると nerdfont を使えとある。</pre>
<pre>mattn 1584676416.422800: <https://www.nerdfonts.com/></pre>
<pre>tsuyoshi_cho 1584676545.423400: Windowsでカラーemojiするには外すところがあるから、ですかね...
<https://miiton.github.io/Cica/></pre>
<pre>tsuyoshi_cho 1584676553.423600: まあ、しょうがない...</pre>
<pre>takets 1584676927.424200: AppleははやくヒラギノをNerdfont対応して</pre>
<pre>mattn 1584677323.424700: モトヤも対応して</pre>
<pre> 1584677328.424900: </pre>
<pre>mattn 1584677330.425200: (´・ω・｀)</pre>
<pre>kuu 1584677383.425600: フォント全然わからんのだけど、これパッチ必ず成功するわけじゃないのか</pre>
<pre>mattn 1584677408.425800: どうなんでしょう。パッチあててないので。</pre>
<pre>kuu 1584677446.426400: あー元からということか、この手の、作者が興味ないとどうしょうもないのでつらい</pre>
<pre>mattn 1584677472.426600: <https://github.com/ryanoasis/nerd-fonts#font-patcher></pre>
<pre>mattn 1584677953.427100: このリポジトリ、フォント含んでるから clone すると辛いなw</pre>
<pre> 1584678639.427400: 純和風</pre>
<pre>mattn 1584678687.428000: ```font-patcher
src/glyphs/devicons.ttf
src/glyphs/original-source.otf```
リポジトリからこれだけ落としてくれば動いた。</pre>
<pre>iwata 1584681210.428400: Cicaに nerd-fontsのfont-patcherすればいいのかな</pre>
<pre>ycino 1584681953.428800: Rictyあたりにpatchあてたやつならあるけどいります？</pre>
<pre>ycino 1584681967.429000: Cicaは当ててなさそうだ</pre>
<pre>mattn 1584681993.429600: fontforge だけインストールすれば↑の3つだけでパッチあてられます。</pre>
<pre>ycino 1584682003.429900: 大分古いやつなんで、変わってないかはちょっと怪しいけど</pre>
<pre>ycino 1584682041.430300: なんで当時の自分Cicaにはあててないんだろ、他は結構当ててるの置いてるのに</pre>
<pre>ycino 1584682150.431200: （あとで消しておきます）</pre>
<pre>iwata 1584682559.433600: patchは当てれたけどLspSettingsGlobalEdit設定しても補完候補に出てこなかった。asyncompleteだからかな</pre>
<pre>ycino 1584683506.434200: Macでpatchしようとしても動いてくれない、Macが色々変わってるけど何したら動くんだろうこれ</pre>
<pre>ycino 1584683514.434600: Dockerとかで環境整えた方が早い気がしてきた</pre>
<pre>mattn 1584685833.434900: 僕も asyncomplete です。</pre>
<pre>ntak 1584687565.440900: 以前話題にしたがっつり遅い Wi-Fi HDD でなおさらがっつり遅いのはなぜかという件、
SMBv1 でのファイルクエリがカーソル移動のたびに30-40件くらい出てそのハンドシェイクに時間を持っていかれているという落ちでして
ほんのちょっといじるだけでどばっと(ログが)
UNC パスに固定ドライブ名をつけると kernel32 あたりの動作ポリシーが変わるようです、手の施しようがありませんでした、トリアージ黒…</pre>
<pre>mattn 1584687854.441600: どの契機でディスクアクセスに行ってるかちょっと知りたい感ある。</pre>
<pre>iwata 1584690130.442500: fuzzy findのプラギン外したらでるかも、あとで試してみよ</pre>
<pre>mattn 1584691919.442900: coc 使ってると空のポップアップが残る。</pre>
<pre> 1584691937.443100: </pre>
<pre>ycino 1584692209.444400: 自分もたまに残りますね
次に何か出せば消えるんで適当にfloating window出して消してたんですけど、vimだとpopupが消えないとか？</pre>
<pre>mattn 1584692289.444900: 他に何も使ってないので coc が出してる何かだとは思うんですが。</pre>
<pre>mattn 1584692314.445400: popup どこで出してるんだろ。こういう時 coc のデバッグ辛い。</pre>
<pre>johejo 1584692519.446700: たしかcocはneovimのnode-clientをforkしてvim8に対応させてるんでしたっけ</pre>
<pre>mattn 1584692630.447100: ```call popup_clear()```
という便利な物があった。</pre>
<pre>mattn 1584695045.447800: どうやら coc は一度空っぽの popup を作って非同期でそこにテキストを埋め込んでるらしく、なんかのタイミングがずれると残る感じっぽい。</pre>
<pre>iwata 1584706123.448600: だめでした</pre>
<pre>takets 1584708125.449100: あらゆるフォントにパッチを雑に当てることができるやつ出ないものか</pre>
<pre>takets 1584708141.449400: (  ；´。 ｀；)←fontforgeで挫折した顔文字</pre>
<pre>johejo 1584718313.451200: vim-lsp-settingsでLspInstallServerしたあとにそのままlsp#activate()って呼べないのかな...</pre>
<pre>ntak 1584720986.453000: <https://social.msdn.microsoft.com/Forums/sqlserver/en-US/07af330d-c949-4740-84c6-3e6ff5398f97/why-is-nets-fileopen-with-a-unc-path-making-excessive-smb-requests?forum=netfxbcl>
<https://ja.coder.work/so/c%23/137223>
このへんが近いでしょうか。ネットワークドライブェ…
一応、RAMディスクでもカーソル移動のたびにアクセスしているのは変わらないので、遅いRAMディスクだとカーソル移動も遅くなったりします。</pre>
<pre>mattn 1584721344.453500: あ、はい。それは分かるのですが、vim-lsp からどのタイミングでディスクにアクセスに行ってるのかなぁと。</pre>
<pre>mattn 1584721496.453900: ```let g:lsp_signature_help_enabled = 0```</pre>
<pre>mattn 1584721501.454200: これで改善したりしますか？</pre>
<pre>kyoh86 1584755559.454600: `call popup_clear()` しょっちゅう使うなあ</pre>
<pre>tsuyoshi_cho 1584759340.456200: <https://vim-jp.slack.com/archives/CLKR04BEF/p1584757956065000>
 nexword、${LINE}のinputがあればefmで補完できそう...
もしくはフルにwrapするenglish-language-serverが作れそう的な &gt; nexword</pre>
<pre>tsuyoshi_cho 1584759353.456500: <https://github.com/high-moctane/nextword></pre>
<pre>h-michael 1584771166.459700: nvimのlspの方なのでvim-lspだと問題は起きないかもしれませんが、一応FYI
fugitive-vimで `Gedit` とかを使うと `fugitive:///home/h-michael/tmp/python/test/.git//0/main.py` みたいなfiletype=pythonなbufferを開いて、
lsp関係のautocomdがこれを引っ掛けて、そのごroot_dirがとれなくてエラーになるというissueを受けました。
どうしようかな〜。</pre>
<pre>ycino 1584771266.460300: ファイルの実体以外のプロトコルは弾いちゃうとかですかね？</pre>
<pre>h-michael 1584771311.460900: validationは入れているのではじけてはいるのですが、都度エラーメッセージでちゃうんですよね</pre>
<pre>ycino 1584771329.461400: 判定するタイミングの問題・・・？</pre>
<pre>h-michael 1584771350.461900: vim plugin作ってて悩ましいなって思うのはエラーメッセージ出して落とすのか出さずにスルーさせるのかの塩梅がいつも難しい。</pre>
<pre>ycino 1584771376.462500: なるほど、エラー出さずに無効化するのがよくなさそうって感じですか</pre>
<pre>h-michael 1584771435.463600: 通常利用していたらinvalidなroot_dir設定しているのだからちゃんとエラーだしたいんですよね。</pre>
<pre>ycino 1584771568.465500: Ginaで似たようなことをしている気がするけど、cocでは多分エラー出さないようにしてるのかな</pre>
<pre>h-michael 1584771572.465700: vim-lsp-settingとかもそうだと思うのですがたとえば[.git, package.json]とかを頼りに開いたbufferからroot_directoryをauto detectしてエラーになっているのと、
ユーザーがlspの設定を手書きしてそのroot_dirがinvalidなのってちょっとニュアンスちがうと思うんですよね。</pre>
<pre>ycino 1584771621.466500: どっちで設定してるのかプラグイン側では判定できないと</pre>
<pre>h-michael 1584771725.468200: ですね。auto detectしてる側で先に落とすようにするのがいいかと思うんですけど、fugitiveみたいに開けば絶対にroot_dirなんてないものと、単純にauto detectのロジックがわるかったのをどちらも同一にエラーはださないけど、スルーするっていうのはちょっといやだなと思いどうしようかなと。</pre>
<pre>h-michael 1584772216.470000: こうしてみるとlsp云々というよりはいわゆるエラーハンドリングどうするか問題であるというだけだなと整理できました。ありがとうございます。</pre>
<pre>h-michael 1584772249.470900: （より悩ましい問題になった気もする）</pre>
<pre>ycino 1584772258.471200: 確かにlsp固有の問題ではなさそうですね
エラーハンドリングはどうするか難しい問題ですけど・・・</pre>
<pre>h-michael 1584772421.472700: buffer typeがreadonlyなものはlspの起動対象外にしてもよさそうな気もするんですがなんかそれはそれできっと絶対に例外が出てきそう…</pre>
<pre>ycino 1584772529.473500: ぱっと思いつかないけどありそうですねー</pre>
<pre>johejo 1584773677.474700: もしかしてdefinitionで飛んだ先のライブラリのソースコードとかはreadonlyですかね？</pre>
<pre>h-michael 1584773775.475600: そこはclient側の実装次第でどちらにもなり得ますね</pre>
<pre>tennashi 1584775690.476500: <https://github.com/prabirshrestha/vim-lsp/blob/f79bf399220070123ca7642b318e5231843eb087/autoload/lsp.vim#L405-L409>
vim-lsp はここで `hoge://` な buffer 名はじいてそうですね</pre>
<pre>h-michael 1584776111.477200: 画面上はエラーにせずにログにだけだしてる感じですね</pre>
<pre> 1584776728.477600: vim-lsp-settingsで入れたvim-language-serverを使うと、floatingwindowが消えない。</pre>
<pre>takets 1584776761.478300: PHPのintelephenseだと問題ないのになぁ</pre>
<pre> 1584776857.478400: ウインドウがどんどん上書きされている感じだけれど、floatwindowを描画しているのはどのプラグインなんだろう</pre>
<pre>heavenshell 1584777001.478800: vim-lsp?</pre>
<pre>takets 1584777175.479400: たぶん他のプラグインが干渉しているから、最小環境で試してみます…</pre>
<pre>takets 1584777299.479800: floatwindowが消えないというのは初めて遭遇するなぁ</pre>
<pre>tyru 1584779925.480000: vim-lsp ぽい</pre>
<pre>kyoh86 1584780187.480500: vim-lsp、結構floating windowとかで動こうとして変なことしている感がある</pre>
<pre>tsuyoshi_cho 1584780210.480700: あ、
<https://github.com/high-moctane/asyncomplete-nextword.vim>
あったんか</pre>
<pre>kyoh86 1584780625.482600: なんかの拍子にBufWipeoutがpopup windowに仕込まれちゃうんだよなぁ…

```Error detected while processing BufWipeout Autocommands for "*":
E994: Not allowed in a popup window```</pre>
<pre>kyoh86 1584780660.483100: うるせ！ってなるししょっちゅうpopup_clear呼ぶのダルいからこれ解決したいけど再現して解決するには微妙に発生頻度が低くて困る…</pre>
<pre>mattn 1584780704.483900: 僕が vim8 なので気付けてないな。</pre>
<pre>kyoh86 1584780717.484100: 僕もvim8ですよ</pre>
<pre>kyoh86 1584780744.484900: あ</pre>
<pre>kyoh86 1584780748.485200: floatwindowの件か</pre>
<pre>mattn 1584780761.485600: ですです。</pre>
<pre>kyoh86 1584780804.486500: ひっこんどこ笑</pre>
<pre>takets 1584780883.486800: neovimマンにはつらい流れ</pre>
<pre>mattn 1584781334.490200: たぶん intelephense が signature help 対応してなくて vim-language-server が対応しててその差かなと推測してます。確認してないけど。たしかに今の vim-lsp の popup はよく分からないコードで動いてます。</pre>
<pre>takets 1584836225.492700: nextwordを設定してみたけれど、妙なところで変換候補が消える。
`I have a bookshelf.` と入力したいのに、 `book` まで入力したら候補リストが消える。
あくまでよくあるパターンの入力に特化していて、lookみたいに単語を最後まで探してくれるものではない？</pre>
<pre>tsuyoshi_cho 1584836562.493300: だと思いますねえ、そういう確定的な場合なら、vimの辞書補完とか使うほうが使えるんじゃないかなと</pre>
<pre>takets 1584836674.494600: n-gramとか書いてあったので、薄々そんな気はしていました。
自分の用途だとneco-lookのほうがよさそう。
が、neco-lookはWindows環境だとたまに動作しない現象があったりするので、確実に動く環境で統一したい……</pre>
<pre>tsuyoshi_cho 1584836776.494800: <https://github.com/gonzoooooo/asyncomplete-look.vim>
もあった...</pre>
<pre>takets 1584837097.495200: coc.nvimにはない模様…</pre>
<pre>takets 1584837156.496200: cocでlookが使えるなら、deopleteは日本語入力のみにチューニングできるのになぁ（地球上で10人もいなさそうな需要）</pre>
<pre>tsuyoshi_cho 1584852038.496400: <https://qiita.com/high-moctane/items/c61fc54f5189ecb5de05>
解説</pre>
<pre>Shougo 1584852376.497100: nextwordですけど、-gオプションがあって</pre>
<pre>Shougo 1584852400.497900: これを使うと辞書代わりにもできますよ。デフォルトだと頻度が低い候補を一覧に出さないらしい</pre>
<pre>Shougo 1584852415.498400: deoplete-nextwordでは対応しておきました</pre>
<pre>kuu 1584852465.498800: この人文章書くの上手いなあ</pre>
<pre>tsuyoshi_cho 1584852480.499000: 引数に足すか...</pre>
<pre>tsuyoshi_cho 1584852497.499400: ちょっとバグ見付けたのでPRしないと</pre>
<pre>tsuyoshi_cho 1584853041.499700: すでに来てた</pre>
<pre>lighttiger2505 1584860067.000200: <https://twitter.com/LightTiger2505/status/1241619069708599296></pre>
<pre>lighttiger2505 1584860090.000700: 作りました。READMEないから怒られそう。</pre>
<pre>lighttiger2505 1584860245.001500: fzfのコールが思ったより面倒でした。いや自分でセレクタ作るよりはるかに簡単なんですけど。</pre>
<pre>ycino 1584860858.001900: fzfのインターフェイス慣れないとだるそう</pre>
<pre>lighttiger2505 1584861382.003400: fzfのインタフェースの`fzf#hogehoge`ってfzf.vimじゃなくてfzf本体にあったのか。とかこのインタフェースに渡す値なんやねんみたいなつまづきポイントいっぱいありますよね。あれ、どこかに明記されてるんですかね。</pre>
<pre>ycino 1584861718.003700: 自分はwikiのサンプルとコード読んで頑張った気がする・・・</pre>
<pre>ycino 1584861742.004200: fzf入れてたらfzf.vimいらないあたり罠ですよね、実はfzfの方にpluginディレクトリがあるとか気付かないし</pre>
<pre>lighttiger2505 1584861792.005900: ですよね。なぜfzf.vimを作ったのにそっちにないのか。それならfzfだけで良いじゃないか感。</pre>
<pre>tsuyoshi_cho 1584861820.006500: (deinでマージすると事故る... / 同位置に同名のファイル)</pre>
<pre>ycino 1584861823.006600: （expectオプションを渡すかどうかで返ってくる値が違うとかも相当あれです）</pre>
<pre>tsuyoshi_cho 1584861868.007200: ちゃんと操作APIだけ/インタフェースで分けてあるのかも微妙</pre>
<pre>kuu 1584861937.008900: 同名のファイルが存在する時点でvimプラグインとしては競合してるのでマージ以前の問題である</pre>
<pre>ycino 1584861954.009600: sinkに渡す関数に返ってくる配列が、expectオプションありだと `[key, ...selected_lines]` 、expectオプションなしだと `[...selected_lines]` になった気がしている</pre>
<pre>kuu 1584861968.009800: 割とお行儀が悪い</pre>
<pre>ycino 1584862121.010400: 自分はお行儀が悪いと思いつつ乗っちゃってるからあれなんですけど、もうちょっと綺麗になってると嬉しいですね・・・</pre>
<pre>ycino 1584862261.011200: 自分のプラグインがfzfを更にwrapして頑張って使ってるので、もしかしたら少し参考になるかも？
逆によく分からなくて面倒になるかもですが</pre>
<pre>ycino 1584862406.012000: あとfzf自体の引数とその使い方もそれなりに複雑、DBだとtableをリストに出してpreviweにschema表示させるとかよさそうな気がします</pre>
<pre>hrsh7th 1584862686.013300: sqls.vim のコードを読んでみましたが、封印している execute_command 関数露出したほうがこういう連携しやすそうですね。</pre>
<pre>lighttiger2505 1584863233.016500: <@U8R597E9H> CodeActionの選択肢を引数としてCodeActionに渡してあげて、選択肢をスキップしてExecuteCommand実行できても良いのかなと思いました。</pre>
<pre>hrsh7th 1584863318.019400: その機能自体は提供されていますが、CodeAction.title に対するクエリではなく、CodeAction.kind に対するクエリになっています。（source.organizeImports などと指定する）</pre>
<pre>lighttiger2505 1584863340.020500: なるほどあるんですね。気がつかなかった...</pre>
<pre>hrsh7th 1584863395.022800: coc.nvim なんかは、指定されたコマンドを実行する関数を提供していたりしますので、それを vim-lsp にも提供するのはありかもなぁと思った次第でした。（今は private な関数として内部に存在はしてますが）</pre>
<pre>hrsh7th 1584863436.024200: lsp#execute_command 的な形で…</pre>
<pre> 1584863453.024700: </pre>
<pre>ycino 1584863455.025000: それっぽいのができたー</pre>
<pre>hrsh7th 1584863477.025500: fzf 自由度高杉</pre>
<pre>lighttiger2505 1584863498.026400: ExecuteCommandは実行後の処理がわりとLanguageServerごとの色が強いので、ハンドル後の処理を柔軟に出来ないと厳しいですね。</pre>
<pre>hrsh7th 1584863544.029000: 自分が lsp#execute_command を実装するなら必ず同期で実行されるようにしたくなる…。</pre>
<pre>ycino 1584863575.030100: `mysql -u root -ppw -h 127.0.0.1 -N -s -e "show tables from table_name;" | fzf --preview="mysql -u root -ppw -h 127.0.0.1 -N -s -e 'show create table table_name.{};' | sed 's/\\\\n/\n/g'"`
こんなのでした、previewをvim内から実行するfzf#runのオプションに渡しちゃえばあんまり難しくないはず</pre>
<pre>hrsh7th 1584863576.030200: でもそれは微妙な気がしていて I/F 固まってないので非公開になってます。</pre>
<pre>lighttiger2505 1584863593.030900: ですね。ExecuteCommandを実行した結果を受け取って云々するは今のインタフェースだと結構辛い。</pre>
<pre>lighttiger2505 1584864024.035300: sqls.vimは半分私の実験場みたいなもので、他のLSクライアント(VSCode含め)の動作を確認しながらいい具合のExecuteCommandの実装方法を探り、最終的にLSクライアントに寄せられればなと思ってます。</pre>
<pre>lighttiger2505 1584864127.036700: 良いですね。解釈としてはlspのdocumentSymbolとしてテーブルを返してそれを見せても良さそう。</pre>
<pre>mattn 1584888685.037300: sqls.vim よさそう。</pre>
<pre>hrsh7th 1584948297.038100: rust-analyzer が一番仕様の追従に最近活発みたいでデバッグ捗りますね。</pre>
<pre>tsuyoshi_cho 1584948349.038600: 心機一転しただけありますね</pre>
<pre>hrsh7th 1584948417.040400: textDocument/selectionRange と、textDocument/onTypeFormatting に対応しててメジャーな言語の LS はこれくらいしか知らないです。</pre>
<pre>tsuyoshi_cho 1584948491.041300: lsp、癖のない言語でリファレンス機能実装したものがないとつらたんですねえ...
(言語固有の考慮がないやつをリファレンスにほしい)</pre>
<pre>hrsh7th 1584948584.042700: まったく触らない言語だとうまく動いてるかすらわからないので辛いです…</pre>
<pre>tsuyoshi_cho 1584948689.043100: まあ、それもありますね...</pre>
<pre>hrsh7th 1584948781.044200: selectionRange は早く他の LS も対応してほしいってくらい便利でした</pre>
<pre>kuu 1584948859.044700: MSがちゃんとしたの出してくれていればいいのに</pre>
<pre>mattn 1584949220.045100: 今の見本実装って typescript か gopls か、くらいな感じかな。</pre>
<pre>hrsh7th 1584949675.045900: gopls はいい感じですね。typescript は tsserver は LSP ではないし、typescript-language-server は looking for new mainteiners 状態らしいです。。。</pre>
<pre>h-michael 1585013723.047900: 自分はいつもrust-analyzerかgoplsでデバッグしてますねー</pre>
<pre>hrsh7th 1585027134.049200: やっぱこの２つがよくできてますよね。gopls は安定しててそこそこ起動早いし、rust-analyzer はかなり最先端の仕様も取り込んでいて。。。

rust-analyzer の selectionRange は便利ですよ！</pre>
<pre>hrsh7th 1585027172.050100: 自作クライアントを vim で使うとものすごく画面がチラついていて、それで自作クライアントのバグに気づいていくつも修正することになった。
なぜ nvim はチラつかなかったのかが少し不思議。。。</pre>
<pre>hrsh7th 1585027246.050200: 結果的にすごく軽くなりました。</pre>
<pre>mattn 1585030517.050500: <https://vim-jp.slack.com/archives/CJMV3MSLR/p1585030284124300></pre>
<pre>mattn 1585030830.051000: vim-lsp の diagnostics は受けすぎなんだと思う。</pre>
<pre>mattn 1585030851.051600: coc.nvim だとデフォルトではインサートモードで diagnostics は反映しないんですよね。</pre>
<pre>mattn 1585030873.052000: vim-lsp は補完メニューで選んでる最中ですら反映する。</pre>
<pre>eihigh 1585031185.052500: たしかに気になります。cocちゃんと触ってないけどcocの挙動の方が希望に近そう。</pre>
<pre>mattn 1585031246.053000: せめて pumvisible 中は更新を送らなくていいと思う。</pre>
<pre>heavenshell 1585031965.053700: 補完メニュー選び終わったら(確定したら)送っていいと思うけど、選んでる最中は鬱陶しい場合ありそうですね…。</pre>
<pre>mattn 1585031989.054100: これのおかげでモサッとしてるのは確かにあるので。</pre>
<pre>hrsh7th 1585032290.055900: この辺は好みがでてくるのでなかなか変更を提案するのも難しいですね。。。
mattn さんがおっしゃっている方式だと、TextChanged,InsertLeave だけ見ればよくなって、debounce などもあまりかけなくてよくなるかもしれません。</pre>
<pre>johejo 1585032322.056700: 子供がテレビに集中してる間は休憩しても良いよってやつか</pre>
<pre>mattn 1585032359.057100: diagnostics はサーバも加減してほしい。</pre>
<pre>mattn 1585032381.057600: 全行送ってくるサーバあるからなぁ。</pre>
<pre>heavenshell 1585032455.058300: LSP ではないけど tsserver がこれで困ってます…。いや tsuquyomi の方でバッファリングしろよって話なんですけど…。</pre>
<pre>hrsh7th 1585032521.059300: InsertMode で diagnostics が増えるような変更は相当長く debounce してもいいんですよね。個人的には完全に止めてしまうのはそこまで好きではないですが。</pre>
<pre>tsuyoshi_cho 1585032532.059600: せめて都度でも設定できれば、なんですがねぇ...(なにかで崩壊したときに全文もらって復旧はなくもない?)</pre>
<pre>johejo 1585032617.061100: neovim built inはそのへんどんな感じなんだろう</pre>
<pre>mattn 1585032639.062100: サーバからの通知を減らすにはこっちから更新を送らないようにしないといけない。</pre>
<pre>hrsh7th 1585032663.062600: neovim-builtin は変更即時送信、diagnostics 即時反映。 なので結構ちらつきます。（特に virtual-text がちらつくのは不快）</pre>
<pre>hrsh7th 1585032733.063700: じぶんは「変更送信→ 200ms debounce」「診断反映 → 増える変更の場合は約 1sec debounce、減る方向は即時反映」にしています。</pre>
<pre>johejo 1585032833.065700: reactiveにしすぎるのもUX的にはだめなんだなあ.... ここらへん好みも分かれそうですね...</pre>
<pre>hrsh7th 1585032995.066500: `Improve diagnostics` ってコミットをこの半年間何回もやっている気がする。。。だいぶ研究が進んできてはいるのでそろそろ持っていきたい。</pre>
<pre>mattn 1585033016.066800: ちなみにどんな改善持ってらっしゃいます？</pre>
<pre>mattn 1585033398.070300: <https://gist.github.com/5a683163b3f94a4920cec5ae472a2837></pre>
<pre>mattn 1585033404.070700: これだけでも少し軽くなる気がしますね。</pre>
<pre>hrsh7th 1585033484.072300: まず、変更送信の間隔に律速される仕組みなので、そこを早くしたいなあというのはあるのですが

1. 適用済み診断結果を 0 個として初期化する
2. 診断結果を受信すると、「適用済み診断結果」と「受信した診断結果」の個数を比較して、減っていれば即時 `適用`
3. 増えている場合、1sec 適用を遅延させる（この「遅延開始タイミング」の changedtick を一緒に保存しておく）
4. 遅延完了時に changedtick が変化していなければ `適用`
    - changedtick が変化していれば「後から診断がくるはず」なので無視する

※ `適用` 時に「適用済み診断結果」を更新する

こんな感じの処理に落ち着きつつあります。</pre>
<pre>mattn 1585033593.073000: なるほど。diagnostics 1件ずつに changedtick 持たせてもいいかもですね。</pre>
<pre>hrsh7th 1585033719.075000: <https://github.com/hrsh7th/vim-lamp/search?q=Improve+diagnostic&amp;type=Commits></pre>
<pre>hrsh7th 1585033745.075900: 研究過程ですが、だいぶ固まっているはず。。。</pre>
<pre>mattn 1585033767.076400: たぶん現状
1. 文字をタイプする (この時点では更新通知は flush されてない)
2. 補完が開始される (この時点で更新通知が flush される) → サーバが解析開始
3. 同時にサーバが補完メニューを用意
4. クライアントに補完メニューが表示され、最初の項目が選ばれテキストが変更される
5. 補完メニューでの変更によってサーバに更新通知が飛ぶ
6. ↑の2と同時に5の diagnostics がやってくる。
こんな感じかなぁと思っています。</pre>
<pre>mattn 1585033818.077100: pumvisible 中だけでも切れると軽くなりそうな気がする。</pre>
<pre>mattn 1585033973.078500: pumvisible 中に送らない様にすると
1. 文字をタイプする (この時点では更新通知は flush されてない)
2. 補完が開始される (この時点で更新通知が flush される) → サーバが解析開始
3. 同時にサーバが補完メニューを用意
4. クライアントに補完メニューが表示される
5. ↑の2の diagnostics がやってくるが捨てる
6. ポップアップが閉じられたら再度更新要求を飛ばす</pre>
<pre>tsuyoshi_cho 1585034061.079600: 補完による最小文字とかの補填の動作での発動は抑止できたら、ですかね...想定内なんだから再diagは不要といえばそうですねえ</pre>
<pre>mattn 1585034091.079900: そこは asyncomplete の方すね。</pre>
<pre>tsuyoshi_cho 1585034108.080300: あー、そっちもか、なるほど</pre>
<pre>mattn 1585034135.080800: diagnostics、量が多いから捨てても大してパフォーマンスに寄与しない場合がありそう。</pre>
<pre>mattn 1585034310.081300: `foo.` みたいな状態で来た diagnostics って間違いなくエラーなんで捨てていいと思ったりします。</pre>
<pre>hrsh7th 1585034401.082600: そこなんですよね。 `foo.` の状態で例えば 3sec くらいキーボード叩いてない時に、それでも「診断が表示されてほしくない」のか「いうても 3sec も放置したのだから診断出てほしい」のかが自分の中でも答えでてないです。。。</pre>
<pre>hrsh7th 1585034436.083100: そこをスキップしていいならもはや InsertLeave だけを見て、その間は全部無視するでよくなってだいぶシンプルなんですよね。</pre>
<pre>hrsh7th 1585034549.084400: `let g:lsp_diagnostics_suppress_on_insert_mode = 1` とかなら普通に通る気もしないでも。。。</pre>
<pre>tsuyoshi_cho 1585034569.084600: CursorHoldI までいったら余裕があるから更新する、はオプションでアリナシあたりかな</pre>
<pre> 1585036932.085600: vscode 速いすな。</pre>
<pre>hrsh7th 1585037012.086400: 下波線だと意外と気にならないから耐えるってことなんだろうか。。。 vim だとどうしても赤字にしたりしないといけないので大仰になるかもですね。</pre>
<pre>hrsh7th 1585037064.086800: virtual_text 出さなければ耐える気がしてきたかも。。。</pre>
<pre>h-michael 1585037097.087500: 自分はnvimはvirtual text切ってますね</pre>
<pre> 1585037137.087700: 言うほど大差ではないんですけどね。モサ感はありますね。</pre>
<pre>mattn 1585037180.088200: 補完ががんばりすぎじゃない？って感じもする。</pre>
<pre>mattn 1585037258.088900: これ1行だからあんま目立たないけど、これが50行とかだとモサーッとするんだろうなぁ。</pre>
<pre>hrsh7th 1585037328.090000: あー。そうか、単純に負荷がってのはありそうですね。</pre>
<pre>heavenshell 1585037386.090700: 大きいファイルで他でエラーが出てるのに、補完をしようとした時とかなんですかね。</pre>
<pre>mattn 1585038029.091000: あと vim が flush するまでの delay が影響してそう。</pre>
<pre>mattn 1585038066.091600: updatetime</pre>
<pre>hrsh7th 1585038082.092000: 変更通知までの時間を短くしないとなーとうだうだしてましたが、diagnostics 改善やってみようかな。</pre>
<pre>mattn 1585038107.092500: ファーッ、updatetime=500 とかしたら結構サクサクやw</pre>
<pre>hrsh7th 1585038135.093300: でも質問者さんは「診断スピードをはやくしたい」と要望してきていたのか。。。それは現状だとちょっとつらい。。。</pre>
<pre>mattn 1585038224.094600: 今の vim-lsp の flush のタイミングは
1. updatetime 経過する
2. 補完などアクションが発生する
のどちらかなんで、補完が更新されない様な数文字のタイプだと updatetime 待たされる感がある。</pre>
<pre>hrsh7th 1585038265.095300: そうなんですよね。なので、listener_add or nvim_buf_attach が使える場合、そっちを利用して diff を取る。とかしないと流石にあの diff が短い間隔で走ると重い。。。</pre>
<pre>hrsh7th 1585038715.096200: それにしても VSCode 狂った速さだ…</pre>
<pre>hrsh7th 1585038990.096800: 診断を早くするためには、変更通知を早くする必要があり、変更通知は温かみのある diff で実装されているので、ここを改善しないといけないという理解です。</pre>
<pre>mattn 1585039041.097200: あまり細かい diff やると負荷がもっと高くなるのでねー。</pre>
<pre>mattn 1585039060.097600: listener 使ってごにょごにょできるならいいけど。</pre>
<pre>mattn 1585039088.097900: 僕は updatetime 方面でなんか策がないか考えるか。</pre>
<pre>mattn 1585039117.098300: 少なくとも updatetime のデフォルト値 4000 では長すぎる。</pre>
<pre>mattn 1585041999.100300: 現状を整理しておくと、↑の vim の動画は
* updatetime 待ってしまっている
* asyncomplete が flush する事で更新通知が飛んでいるので updatetime まで待っていないケースもある
* でも asyncomplete がキャッシュしてるので全ての diagnostics が得られていない
遅く感じるのは、asyncomplete の delay も絡んでるはず。</pre>
<pre>mattn 1585042894.100800: Split するかどうかで関数名の一部にズレがあるのは好き嫌いありそう。 <https://github.com/prabirshrestha/vim-lsp/pull/763></pre>
<pre>mattn 1585042907.101200: LspDefinition vs LspSplitDefinition</pre>
<pre>hrsh7th 1585044089.101700: LspDefinition split とかのほうがよかったりしないかなあ。（省略すると edit 扱い）コメントしてみます。</pre>
<pre>thinca 1585044288.102000: それ私直そうと思ってたやつだな</pre>
<pre>johejo 1585044868.102800: みんな自前でmappingしてるだろうな...</pre>
<pre>thinca 1585044971.103100: 自前では無理なんですよね</pre>
<pre>thinca 1585045073.104200: 似たような修正を入れようと思っていたのだけど(ただしもっと Vim way なやつ)、LSP の仕様を把握しきれていなくて `:LspXxx` のコマンド群の違いを理解できておらず、どのコマンドを対応させる必要があるのかわからなくなってそこで作業が止まっていた</pre>
<pre>hrsh7th 1585045185.105300: `vsplit \| LspDefinition` ,,, （ただし、定義箇所が見つからなくても vsplit してしまう）</pre>
<pre>johejo 1585045229.106000: こういうの私はやってました。  `nmap gs :split&lt;CR&gt;&lt;Plug&gt;(lsp-definition)`</pre>
<pre>thinca 1585045290.106500: ジャンプ先がある時だけ分割ってのが既存のだと無理です</pre>
<pre>johejo 1585045317.107000: あーなるほど.... 理解しました...</pre>
<pre>thinca 1585045768.107900: もうちょっとだけマシな実装方法があるので急いでないのであればその分割コマンド進めるの待ってもらいたいのだが…いやまあ私がやる必要はないのか…</pre>
<pre>hrsh7th 1585045905.110400: あそこにコメントすると変わったりするかも。。。（OSS でこういう時どうするのかいまいちわかってないです。。。）</pre>
<pre>tyru 1585045925.111000: 俺以外に世界を救える方法は無いと思い込んでモチベを激上げするメソッド</pre>
<pre>thinca 1585045958.111500: たぶん私が実装する前に誰かが進めてしまいそうなのでやり方だけ書き残しておこう…。
この手のことをやる場合は &lt;mods&gt; を使うのがセオリーです。
`:vertical LspDefinition` や `:tab LspDefinition` のようにコマンドを実行することができて、この前置部分をコマンド定義内の `&lt;mods&gt;` で取れます。こちらの方が Vim way だと思います。</pre>
<pre>thinca 1585046068.112300: 手元で途中まで実装してたのだけど `LspDefinition` 系のコマンドがいくつかあることが途中でわかってどれが対応すべきコマンドなのか判断できませんでした</pre>
<pre>thinca 1585046100.112800: LSP の仕様書結構量があってなかなか読み進められない</pre>
<pre>hrsh7th 1585046589.114300: &lt;mods&gt; 使った場合、今 PR 上で提案されている `in_preview` やめて統一しましょう。についてはやらない方針になりそうですね。
横分割の場合は何を指定するんだろうこれ。。。</pre>
<pre>thinca 1585046762.114500: belowright とかでいいのでは</pre>
<pre>thinca 1585046926.116200: `:horizontal` があればいいのだけど…思えば標準のコマンドはその場で実行と分割実行だけはコマンド分かれているのよね `:edit` vs `:split`</pre>
<pre>tyru 1585046940.116500: `&lt;mods&gt;` 便利
分割すべきかしないべきか (split か edit か) みたいなのは modifier では指定できなさそうだけど、そういうのはプラグイン側で踏み込んだオプションを用意するとかで良さそう</pre>
<pre>tyru 1585046966.116800: 微妙にかぶった</pre>
<pre>thinca 1585047034.117800: 実際に実装する場合は、 &lt;mods&gt; が空だったら `:edit` 、何か入ってたら `:&lt;mods&gt; split` を実行、みたいになるかな</pre>
<pre>thinca 1585047073.118400: あとキーマッピングには対応できないけど、それくらい各位設定してくれでもいい気がする</pre>
<pre>hrsh7th 1585047087.118800: mods が空なら edit で完全理解です。なるほど。</pre>
<pre>thinca 1585047124.119700: どうせ &lt;Plug&gt; に対するキーマッピングはどのみちユーザーが定義する必要があるし。マッピング先が &lt;Plug&gt; か `:vert LspDefinition` かは大差がない…</pre>
<pre>hrsh7th 1585047175.120900: 最近、特に意味がない場合はコマンド提供して &lt;Plug&gt; マッピング提供しないほうが筋よさそうだなあと思いつつあります。</pre>
<pre>thinca 1585047179.121100: というのを途中までやってたんですけどね(まだ全然出せる段階じゃないけど)。手が遅いと何をやってもダメですね</pre>
<pre>thinca 1585047209.121800: コマンドでできることをそのまま &lt;Plug&gt; 提供するのは意味ないなと私も感じております。</pre>
<pre>tyru 1585047210.121900: 最近今更ながらプラグインのバッファを開く指定方法で良い方法ないかと考えてて、とりあえずプラグイン側は :sb 使って 'switchbuf' オプション指定してくれとか思ってたけど、こっちのがより行儀良い感じがする</pre>
<pre>hrsh7th 1585047277.122900: _ちなみに自分はなんでも指定できるという意味で `LspDefinition split` 方式も結構好きです。。。_</pre>
<pre>thinca 1585047281.123000: 他にも微妙に改善したいポイントが少なくとも1つある…まあこっちはたぶん誰もやらないだろ…黙っておこw</pre>
<pre>thinca 1585047347.124100: 当面のタスクは LSP の仕様書を一通り読む、です。これができてないと vim-lsp は触れないなと思っている (ただし読むのは日本語訳である)</pre>
<pre>thinca 1585047953.125600: 分割の件は週末までに特に進展がなさそうならなんとか作業を進めて別 PR 出そうかな。対応すべきコマンドは 4 つっぽいと言うのはわかったので</pre>
<pre>yaegassy 1585048731.126300: 僕は定義ジャンプで(LspDefinition等他LSクライアントのも) で split のは当初は欲しかったのですが手癖で慣れてしまいました。やる方法があるってだけでもたしかにありがたい</pre>
<pre>yaegassy 1585048832.127400: 類似した件になるかもですが LspDefinition で readonly で飛べたりしたら安全だなーって思うことはあります。ライブラリに飛んで保存しちゃってフォーマッターかかっちゃったりしてとか怖いときがあります。言語自体のライブラリ(goとかpythonとか)は更に怖い</pre>
<pre>daisuzu 1585048849.128400: `&lt;mods&gt;` は便利ですね</pre>
<pre>kuu 1585048858.128900: `:tab`みたいなの、ユーザーコマンドは未対応と思っていたけど、ちゃんと手は用意されているのか</pre>
<pre>yaegassy 1585048865.129100: 逆にreadonlyでバッファの事故が発生しそうですが。。</pre>
<pre>daisuzu 1585048899.129700: LspDefinitionでsplitしたくてそれっぽい設定をしようとしてたんですが、tagfuncでいいや...になっちゃいました</pre>
<pre>kuu 1585048927.130600: ライブラリをchmodしておくと便利(面倒でやらなくなって忘れた頃に事故るやつ)</pre>
<pre>kuu 1585049033.132000: helpはROになるのでそんな感じで合わせておくとよさそう(必要だったらsetすればいいし)</pre>
<pre>thinca 1585049068.132500: `autocmd BufReadPost /path/to/library/* setlocal readonly`</pre>
<pre>thinca 1585049235.134300: `/path/to/library/*` は `*/{vendor,node_modules}/*` みたいにすると汎用的になりそう</pre>
<pre>heavenshell 1585051154.135700: 雑に site-package 以下のものをデバッグプリント仕込んだり、node_modules 以下のトランスパイル後のファイルに console.log 仕込んだりするマンです。
もちろん元戻しますけど(最悪ライブラリーを入れ直す)</pre>
<pre>yaegassy 1585051996.136600: 標準ライブラリが怖いんですよね。</pre>
<pre>thinca 1585052098.137900: 標準ライブラリまでジャンプで飛べる言語最近書いてない気がしてきた</pre>
<pre>yaegassy 1585052185.140500: まー、といっても事故ったことはない気がしますが気がしてるだけなのかも。気をつける</pre>
<pre>heavenshell 1585052207.140800: venv 作り直し :innocent:</pre>
<pre>kuu 1585052245.141300: gitごと落としてくるやつならcheckoutすれば済むけどそうじゃないのつらそう</pre>
<pre>heavenshell 1585052281.141800: 最近のライブラリーなら割とカジュアルに作り直せそうですね。</pre>
<pre>thinca 1585052299.142700: まあでも標準ライブラリもどこかにファイルが置いてあるんであれば RO 設定するのはできるのでは?</pre>
<pre>heavenshell 1585052314.143100: そすねー。</pre>
<pre>yaegassy 1585052315.143300: Pythonのvenvってコピーされてるんじゃなくて本体に飛んじゃうので</pre>
<pre>heavenshell 1585052329.143700: あれ、そうでしたっけ。</pre>
<pre>yaegassy 1585052332.143900: そうですね。RO仕込めば不安がなくなるかも</pre>
<pre>heavenshell 1585052338.144100: virtualenv マンだから気にしてなかったw</pre>
<pre>heavenshell 1585052371.144400: じゃあまぁやっておいたほうが安心ですね。</pre>
<pre>hrsh7th 1585052651.145400: rust-analyzer の onTypeFormatting や めっちゃくちゃ複雑な補完後の textEdit 処理などで三角測量的に TextEdit の実装がまともになってきました。</pre>
<pre>presuku 1585057385.149700: daisuzu さんの tagfunc のおかげで LspDefinition は直接使わず、そのまま開きたい時は CTRL-] で 分割したい時は CTRL-W_] で開いた後、縦にしたい時は CTRL-W_L みたいな感じにやってますね</pre>
<pre>tsuyoshi_cho 1585061029.150700: `確認したいです`
asyncompleteなんですが、ソースに vimのdictionary,thesaurusを引いてくるようなのってありましたっけ?(仕組み的に難しいかもですが...)</pre>
<pre>tsuyoshi_cho 1585061489.151000: うーん、やっぱなさそう?</pre>
<pre>ycino 1585061611.151500: 遠い昔にncm2のソースを書いた記憶があって見つかったんですが、asyncompleteと互換性って多分ないですよね・・・？</pre>
<pre>ycino 1585061725.152500: ncm、asyncompleteが必要とかだった気がしたんだけど完全に気のせいっぽい</pre>
<pre>ycino 1585064887.153100: なんか動くものできた気がする、 <@UAZ33BKV2> いらっしゃいます？</pre>
<pre> 1585065054.153200: </pre>
<pre>ycino 1585065094.154000: <https://github.com/yuki-ycino/asyncomplete-dictionary>
こんなのでいいのかな、asyncompleteの部分、他のプラグインからコード引っ張ってきてすごい雑にコピペしたから怪しい</pre>
<pre>mattn 1585065158.154500: 補完が重たい感じがするの、foldingRange が飛んでるのも原因だな。</pre>
<pre>mattn 1585065171.154800: pumvisible 中はオフったらまぁまぁ良くなった。</pre>
<pre>mattn 1585065450.155300: 補完の popup が閉じた時のイベントって何かありましたっけ？</pre>
<pre>hrsh7th 1585065622.156200: CompleteDone がそれとして使えます！</pre>
<pre>hrsh7th 1585065675.157800: ただ、自動補完プラグイン発動中だとフィルタリングの度に発生するのでタイマーで余裕もたせて判定しないとうまくいかないかもしれません。</pre>
<pre>mattn 1585065748.158500: それぽいですね。補完完了の時も発生するぽいので発生したタイミングで pumvisible() 見る感じですかね。</pre>
<pre>hrsh7th 1585066715.160300: そうですね。pumvisible + timer くらいしか回避策なさそうです…</pre>
<pre>ntak 1585072925.169300: 例の遅い HDD 上でも Insert モードではなく Replace モードで文字列を入力すると重くなく入力できることが判明したので
コードを見たところ Replace モードでは text_prop_frozen による補完抑止が効いていて、ふと Vim 本体側に debounce を仕込んでみようかと思い
実装の挿入位置を検討したところ lsp の知識がなかったのでなんとなく宙に浮いています。
あと vim-lsp のファイルクエリが速くないのではないか疑惑の件、clangd がルートフォルダまで設定ファイルを掘るのが原因のようです。
論理ドライブ単位のディスクキャッシュアプリを探して少し叩いてみます。</pre>
<pre>tsuyoshi_cho 1585079062.169600: うお、ありがたい。
あとで見てみます。</pre>
<pre>tyru 1585090368.170900: 解決できれば大分速くなりそう &gt;clangd</pre>
<pre> 1585090460.171000: vim-lsp の sign でこんな感じに number の右に1桁エラーの色がはみ出てるんですが、バグですかね？(Vim の？ vim-lsp の？)</pre>
<pre>tyru 1585090495.171600: 皆これ起きてないんだろうか</pre>
<pre>kuu 1585090571.172100: goplsでは起きてるの見たことないですね</pre>
<pre>tyru 1585090652.172300: ほんとだ、起きないですね…</pre>
<pre>tyru 1585090722.173300: これエラー部分をハイライトしようとしてるけど範囲が間違ってるっぽいな（多分）
だとしたら vim-language-server か…</pre>
<pre>mattn 1585091420.174200: 行全体の場合にカラムを 0 にしてるんじゃないですかね。</pre>
<pre>tyru 1585092091.174900: それっぽいですね… vimlparser の syntax error なので手が回ってないのかも…</pre>
<pre>dadchyyy 1585105045.000600: <https://asciinema.org/a/uodk43S5W6BRWANRkBE82HlpG></pre>
<pre>dadchyyy 1585105109.002000: 動画撮ってたら意外と気にならないかもと思ってきましたが...とくにファイル開いた直後の診断が早くなると嬉しいと思いました</pre>
<pre>mattn 1585105213.003100: 開いた直後は難しいかもですね。eclipse.jdt.js は起動から10～20秒するまで何もできない様ですね。ログ見ると progress 50% 60% みたいなのが出ます。</pre>
<pre>hrsh7th 1585105240.003600: <@U010MDSRJU8> coc.nvim はファイル開いた後の診断も早いのでしょうか？</pre>
<pre>kuu 1585105257.003900: Javaは読むもの多いから仕方ない</pre>
<pre>dadchyyy 1585105380.005100: cocでも気持ち早いかな程度です、この辺は仕方なさそうですね！</pre>
<pre>mattn 1585105445.005700: vim-lsp の補完は asyncomplete でしょうか？</pre>
<pre>dadchyyy 1585105485.006100: asyncompleteです</pre>
<pre>heavenshell 1585106678.007000: 普段遅い環境に慣れてるから、速いと思ってしまいましたw</pre>
<pre>mattn 1585106747.007700: 少なくとも intellij や eclipse よりは速いw</pre>
<pre>mattn 1585106769.008400: 影響するとしたら asyncomplete が発火する際の delay か、updatetime か、くらいかなぁ。</pre>
<pre>tsuyoshi_cho 1585106992.011500: (昨日の改善の話題から)レスポンスという意味だと、キーを打ち始めた瞬間の次の応答の最速のポイントからupdatetimeの更新になるみたいな挙動だと負荷が少ないかなあ...?とか想像したりした
```|----|----|-|----|----| updatetime
|          ^ ^   ^   ^   ^   key stroke```
みたいな</pre>
<pre>mattn 1585107132.012100: ひとまず pumvible の時は更新しないようなの書いてるけど、このケースに当てはまらない気がしてきた。 <https://gist.github.com/mattn/862cbc607fba4b32baea36eb92f9c2b0></pre>
<pre>hrsh7th 1585107425.012900: _fold 使っていないのでアレなんですが_
この fold の止め方だと InsertLeave なんかで fold を再取得しないと更新されなくなってしまいそうな気がしました。</pre>
<pre>hrsh7th 1585107438.013200: そしてちょっとびっくりなんですが
```    augroup lsp
        autocmd!
        autocmd BufNewFile * call s:on_text_document_did_open()
        autocmd BufReadPost * call s:on_text_document_did_open()
        autocmd BufWritePost * call s:on_text_document_did_save()
        autocmd BufWinLeave * call s:on_text_document_did_close()
        autocmd BufWipeout * call s:on_buf_wipeout(bufnr('&lt;afile&gt;'))
        autocmd InsertLeave * call s:on_text_document_did_change()
        autocmd TextChanged * call s:on_text_document_did_change()
        if exists('##TextChangedP')
            autocmd TextChangedP * call s:on_text_document_did_change()
        endif
        if g:lsp_diagnostics_echo_cursor || g:lsp_diagnostics_float_cursor || g:lsp_highlight_references_enabled
            autocmd CursorMoved * call s:on_cursor_moved()
        endif
        autocmd BufWinEnter,BufWinLeave,InsertEnter * call lsp#ui#vim#references#clean_references()
    augroup END```</pre>
<pre>hrsh7th 1585107457.013700: vim-lsp むしろ TextChangedP だけ見てて TextChangedI は見てない説</pre>
<pre>tsuyoshi_cho 1585107549.013900: おー</pre>
<pre>hrsh7th 1585107710.015200: 個人的には mattn さんの gist の `timer_start(10` の部分を insert-mode の時は長くする。とかすれば快適になりそうな気がします。
あとは変更通知が早くなればノーマルモードの `x` とかではエラーが割と早く表示されるが、insert-mode の場合は結構待って反映されるという動きにできそう。</pre>
<pre>ycino 1585116074.015300: あ、これ動きました？
1ファイルだけのほんとに最低限なんですけど</pre>
<pre>tsuyoshi_cho 1585116330.015500: すんません、まだいそがしくて触れてません...</pre>
<pre>ycino 1585116387.015800: 問題ないです、適当なタイミングで動いたかどうかだけでも書いてくれると助かるかもですー</pre>
<pre>ycino 1585116405.016000: （むしろasyncomplete使ってなくて保守出来ない可能性ありそうだから引き取ってくれても）</pre>
<pre>tsuyoshi_cho 1585116550.016300: できるかわかんないですけど、わかりますw。</pre>
<pre>ycino 1585116610.016500: 1ファイルのリポジトリで30行ないので！</pre>
<pre>vikke 1585124321.017500: vim-lsp-settingsで入れたlsp入れたんだけど、事あるごとにdeopleteが、gcode入れろと言ってくるのは、なにか設定が悪いのか？</pre>
<pre>Shougo 1585124711.017900: deoplete-goを入れてるからでは</pre>
<pre>Shougo 1585124734.018700: deoplete-goはgocodeに依存していてlsp使いませんよ</pre>
<pre>vikke 1585125112.019100: 入ってた。あざいます。</pre>
<pre>vikke 1585125209.019500: なんか色々とここはESPの巣窟だな。</pre>
<pre>h-michael 1585125875.019900: だいたい作者がいる</pre>
<pre>Shougo 1585126146.021200: なぜなら、似たような質問をしてきた人が最近いたからですね</pre>
<pre>Shougo 1585126163.021800: おかげでESPできるようになってしまった</pre>
<pre> 1585134204.022400: nvim v0.4.3 なんですけど、高確率で補完候補が画面にゴミとして残るんですけど、これ、同じ人いますか? プラギンは
```    call dein#add('prabirshrestha/async.vim')
    call dein#add('prabirshrestha/vim-lsp')
    call dein#add('mattn/vim-lsp-settings', {'merged': 0})
    call 'Shougo/deoplete.nvim'
    call dein#add('lighttiger2505/deoplete-vim-lsp')```
が関係しそうな所です。</pre>
<pre>luma 1585134849.023600: 補完，LSPクライアント，同じ構成だと思います，僕も結構おこります</pre>
<pre>luma 1585134891.024200: (coc.nvim使ってたときも残ることあったけど...)</pre>
<pre>vikke 1585134993.024700: これ、起こると消えないんですよね。つらたん。</pre>
<pre>luma 1585135047.025100: CTRL+W CTRL+Wをやってフォーカスして消してますね...</pre>
<pre>vikke 1585135069.025300: なるほど。</pre>
<pre>kuu 1585135087.025700: neovimだと手で個別に消せるんだったな（ふべんそう）</pre>
<pre>luma 1585135124.026300: 諦めてゴミ消しmappingを用意しとく，とかが現実的なのかな（できるかな）</pre>
<pre>vikke 1585135250.026600: C-W C-Wで消えない。。。</pre>
<pre>luma 1585135268.027100: ん，フォーカスした後に `:q` したら消えませんか</pre>
<pre>vikke 1585135279.027300: 消えないんですーーー</pre>
<pre>luma 1585135290.027700: おえーわからない</pre>
<pre>vikke 1585135300.027900: 完全にこびりついてる。。。</pre>
<pre>luma 1585135456.029300: `call nvim_win_close(0, 1)`</pre>
<pre>vikke 1585135466.029600: tmuxで縦分割したら、横にズレて、そのペインを閉じたら本に戻りおった。</pre>
<pre>vikke 1585135561.030700: window閉じるけど、残る。。。newしたら新しいbufferにいる。</pre>
<pre>Shougo 1585135629.031200: それポップアップウィンドウの消し忘れに見える</pre>
<pre> 1585135905.031300: </pre>
<pre>luma 1585137184.032200: まあ deopleteは関係なくて vim-lsp ですね多分</pre>
<pre>luma 1585137586.033500: あくまで起きた後の対処でしかないですがこんなんで動きませんか

```function! CloseRemainedFloat()
  for win_id in nvim_tabpage_list_wins(0)
    let config = nvim_win_get_config(win_id)
    if get(config, 'relative') isnot ''
      call nvim_win_close(win_id, 1)
    endif
  endfor
endfunction

nnoremap &lt;silent&gt; &lt;C-L&gt; :&lt;C-U&gt;call CloseRemainedFloat()&lt;CR&gt;&lt;C-L&gt;```
</pre>
<pre>luma 1585137644.034100: floatの判定の仕方あってるかわからない</pre>
<pre>monaqa 1585137750.035600: 私は coc.nvim 使ってますが，少し前までは補完候補が残ることがたまにありましたね．最近はあまり起きないので，何らかの不具合が修正されたのかもしれません．</pre>
<pre>monaqa 1585137804.036400: 間違って floating window の外にでちゃったときは `&lt;C-w&gt;p` で floating window の中に入り直せるんですが，補完ウィンドウだとそれは無理なんでしょうか</pre>
<pre>vikke 1585141676.036900: あかん。goの勉強を阻害するので、coc.nvimに移行してみよう。</pre>
<pre>vikke 1585144458.037700: coc.nvim入れて、vimrcイジるとこんなん言われる。
```[coc.nvim] error: Some plugin change completeopt on insert mode: 最後にセットしたスクリプト: ~/.cache/dein/.cache/init.vim/.dein/autoload/deoplete/mapping
.vim line 81!```
deopleteと干渉しあってる?</pre>
<pre>vikke 1585146177.038100: deoplete抜いたら動いた。</pre>
<pre>ycino 1585203426.040100: ありがとうございますー</pre>
<pre>daisuzu 1585265515.040900: goplsのworkspace/symbolがCLIでも使えるようになったので当初欲しかった機能が一通り揃いました
<https://github.com/golang/tools/commit/d58d27dcbb58a087c15685124605e849e7b1789c></pre>
<pre>daisuzu 1585265539.041200: ただ最大100件しか結果が返ってこないように制限がかかっているのでなんとかしたいところ...</pre>
<pre>ゴリラ 1585267321.041400: さすが</pre>
<pre>heavenshell 1585271647.041800: <https://twitter.com/sebmck/status/1243335551681363968?s=21|https://twitter.com/sebmck/status/1243335551681363968?s=21></pre>
<pre>heavenshell 1585271680.042100: <https://twitter.com/sebmck/status/1243335552922832896?s=21|https://twitter.com/sebmck/status/1243335552922832896?s=21></pre>
<pre>heavenshell 1585271690.042500: おお。</pre>
<pre>mattn 1585271806.042700: rome 使った事なかった。</pre>
<pre>heavenshell 1585274547.043300: rome って知らなかったです。リポジトリーどこなんでしょう？</pre>
<pre>mattn 1585275877.043600: <https://romejs.dev/></pre>
<pre>mattn 1585275963.044000: 安定の Sebastian McKenzie 案件だった。</pre>
<pre>mattn 1585276545.044200: あ、まだ入ってない感じか。 <https://github.com/facebookexperimental/rome/pull/207></pre>
<pre>heavenshell 1585279279.044700: お、ありがとうございます！</pre>
<pre>heavenshell 1585279287.045000: 後で見てみよう</pre>
<pre>johejo 1585279432.045600: typescript-language-serverが悲しいことになりかけてるので期待</pre>
<pre>mattn 1585279751.046000: rome ドキュメント少なくて全然わからない。</pre>
<pre>mattn 1585279784.046500: キレときます？「こんにゃ rome」って。(既視感)</pre>
<pre>johejo 1585279854.047400: とりあえずツールチェーン全部作り直す.... らしい</pre>
<pre>lambdalisue 1585280911.047900: js のツールチェーン全部作り直すのやばい</pre>
<pre>heavenshell 1585281159.048500: sebmck なら出来そうw</pre>
<pre> 1585370605.049500: いろいろ手を入れて、こうなったけど... asyncompleteのinfoの領域って該当する単語をマスクする機能でもあるのだろうか?</pre>
<pre>tsuyoshi_cho 1585370994.050000: あと重くて常用には耐えないw</pre>
<pre>ycino 1585378067.050700: PR来てたー、ありがとうございます <@UAZ33BKV2></pre>
<pre>ycino 1585378124.052100: どうしましょう
自分の最初のコードがあってないようなものなんで、そっちでリポジトリ作って貰っても全然いいんですけど</pre>
<pre>tsuyoshi_cho 1585378137.052300: どうしましょうかね?</pre>
<pre>tsuyoshi_cho 1585378154.052900: とりあえずOKだったら、くらいで入れてもいいかと思いますがw</pre>
<pre>tsuyoshi_cho 1585378167.053600: 自分はforkいじってればいいかな、くらいw?</pre>
<pre>ycino 1585378214.054400: あ、これ入れるのは全く問題ないです
なんか自分があまりにも放置してたら必要に応じてまた扱い考えるとかにしますか</pre>
<pre>tsuyoshi_cho 1585378269.055400: まあ、まだ言語の選択とか、キャッシュの最適化とか気にしないといけないところはおおいですしね...
そして辞書がデカいと重いですねえ...</pre>
<pre>ycino 1585378311.056100: あー、辞書が大きいだけで重いんですね
こういう場合の最適化の知識全くなくてあれだ・・・</pre>
<pre>tsuyoshi_cho 1585378362.056700: 補完のとき、1文字目から依頼がきますが、その時に辞書の1/26くらいをぶっこむことになりますから...</pre>
<pre>tsuyoshi_cho 1585378394.057400: 3文字目くらいまでなんも出さないほうが軽くなるかなあ...(オプション設定にすればいいかな?)</pre>
<pre>ycino 1585378398.057600: 2-3文字目から使うようにmatcher設定するとかですかね？</pre>
<pre>ycino 1585378405.057800: やっぱりそれですよねー</pre>
<pre>tsuyoshi_cho 1585378449.058500: あと、初回のロードをどうにか陰蔽できるといいけど、じゃないと最初の補完発動で10数秒はとまるのでw</pre>
<pre>ycino 1585378474.058900: そんなに辞書大きいんですね、それは厳しい</pre>
<pre>tsuyoshi_cho 1585378507.059200: <http://www.namazu.org/~tsuchiya/sdic/data/gene.html>
から変換したのを入れた(はず)</pre>
<pre>tsuyoshi_cho 1585378528.059500: 項目が11000くらい?</pre>
<pre>ycino 1585378543.059800: うわ、11000でその遅さは流石に無理だ</pre>
<pre>tsuyoshi_cho 1585378565.060100: デバッグ途中の値だかなので、ちょっと再確認...</pre>
<pre>ycino 1585378616.060800: vim.dictが1500ちょいか、手元で特に引っかからなかったんでまぁまぁいけるのかと思ってそれ以上何もやってなかったんですよね</pre>
<pre>ycino 1585378639.061100: vitalとのパフォーマンスの差もちょっと気になるかも</pre>
<pre>tsuyoshi_cho 1585378675.061400: まちがい 114741行だった</pre>
<pre>ycino 1585378702.062000: 11万行だと100倍かー、手元で0.1秒だったのが10秒になるって聞くとまぁ納得ですね・・・</pre>
<pre>tsuyoshi_cho 1585378769.062600: とはいえ、補完が途中からだとわりと実用的だった。辞書として説明出すようにしたしw</pre>
<pre>tsuyoshi_cho 1585378786.063000: その辺はnextwordにないところ</pre>
<pre>tsuyoshi_cho 1585378844.063600: 次は、matcherのパラメタと、遅延詠み込み(できたら)と、言語ごとの対応と、辞書-言語対応かなあ</pre>
<pre>ycino 1585378890.063900: たくさんあるなぁ</pre>
<pre>tsuyoshi_cho 1585378904.064500: まあ、希望だけならタダなのでw</pre>
<pre>ycino 1585378904.064600: まずはファイル開いたときの非同期キャッシュ生成とかですかね</pre>
<pre>tsuyoshi_cho 1585378910.064800: とりあずマッチャーなおすか</pre>
<pre>ycino 1585378941.065300: 重さ聞いてるとmatcherとキャッシュ生成でパフォーマンス上げるのが最優先感ありますね</pre>
<pre>ycino 1585379178.067000: dictionary-language-serverを作ってしまう・・・？</pre>
<pre>tsuyoshi_cho 1585379237.068000: ちなみに vim.dict って入手はどこからなんですっけ?
あまり正道を勉強してなかったので、そこらへんわからないという...</pre>
<pre>ycino 1585379278.068900: すみません、自分もこれどこで拾ったか怪しいやつです
使ってなかったんですけど、大分昔にdotfilesに入れてたのが残ってた感じ</pre>
<pre>tsuyoshi_cho 1585382348.069100: なるほど...</pre>
<pre>thinca 1585388408.074100: <@U8R597E9H> cc: <@U03C6TEAZ>
`&lt;mods&gt;` サポート書いてみました (まだ PR は出していません)
<https://github.com/thinca/vim-lsp/tree/add-mods-support>
実を言うとこれを実プラグインに適用するのは初めてなんですが、実際に使ってみた感想としては、単純に `split` のみしたい場合にどうすればいいのか直感的にはわかりづらいですね。
`:leftabove` か `:rightbelow` を使えばできるんですが、無引数の `:split` (分割方法は `'splitbelow'` オプションに依存する) を再現するいい感じの方法がないです。
(mods の中身のチェックをしていないので、一応全く関係のないオプション `:silent` とかを渡すとできますが…裏技チック)
細かいところを気にしなければ十分便利だとは思いますが、意見を頂きたいです &gt;all</pre>
<pre>thinca 1585388547.074600: `:horizontal` があれば色々気持ち悪さ払拭できそう…</pre>
<pre>thinca 1585388701.075000: ついでに該当コード周辺のリファクタリングをしたが…テストがない…</pre>
<pre>hrsh7th 1585391197.077300: 個人的には引数で edit/split/vsplit が渡せるほうが直感的なのかなぁという判断ではあります。なにか、Vim way にすることでメリットがあればいいのですが、本件については思い浮かばないのですよね…</pre>
<pre>thinca 1585391307.078200: 引数を将来別のことに使える可能性は一応ありますが…</pre>
<pre>hrsh7th 1585391332.078800: なるほど。たしかに他の用途に残せるというのはメリットですね。</pre>
<pre>hrsh7th 1585391398.080200: horizontal があれば直感的だったのに…というのは同意です。（そもそも自分はやり方知らなかったくらいなので）</pre>
<pre>thinca 1585391632.081300: この際引数でもいいんですがその場合は mods と同等の自由度は確保してほしいです</pre>
<pre>hrsh7th 1585391794.084200: leftabove や rightbelow を指定可能ってことでしょうか。結構めんどうそうな気がしますね。。意外と簡単なんだろうか。</pre>
<pre>thinca 1585392147.085400: コマンドだけなら (マッピングは気にしなければ) そんなに大変ではないです</pre>
<pre>hrsh7th 1585392697.087400: であればそちらの方針もありかもですね。全パターン向けの
マッピングはさすがに苦しい…</pre>
<pre>tsuyoshi_cho 1585396700.088700: すみません、asyncompleteの挙動なのですが、C-eにasyncomplete#cancel_popup() がマップされてる状態での録画です。
キャンセルした後、スペースの入力で再度補完が表示されてますが、これって期待動作でしたっけ?
<https://gyazo.com/e028bb17c6f6ee17d71b3bebf50cbe51></pre>
<pre>tsuyoshi_cho 1585396731.089400: 録画がみにくい...
環境依存だとしたらもうしわけないです</pre>
<pre>johejo 1585430303.090300: hashicorp公式？のterraformのlanguage server <https://github.com/hashicorp/terraform-ls></pre>
<pre>dohq 1585431679.091500: うぉ、公式で出したのか
juliosueiras氏のどうなるかなぁ…</pre>
<pre>johejo 1585432530.092500: vim-lspで起動してみたけどうまく動かないなあ...
</pre>
<pre>johejo 1585432530.092600: ```Sun 29 Mar 2020 06:51:55 AM JST:["lsp#register_server","server registered","efm-langserver"]
Sun 29 Mar 2020 06:51:55 AM JST:["lsp#register_server","server already registered","efm-langserver"]
Sun 29 Mar 2020 06:51:55 AM JST:["lsp#register_server","server registered","efm-langserver"]
Sun 29 Mar 2020 06:51:55 AM JST:["lsp#register_server","server registered","terraform-ls"]
Sun 29 Mar 2020 06:51:55 AM JST:["vim-lsp signs enabled"]
Sun 29 Mar 2020 06:51:55 AM JST:["vim-lsp highlighting enabled (textprop)"]
Sun 29 Mar 2020 06:51:55 AM JST:["s:on_text_document_did_open()",1,"terraform","/home/heijo","file:///home/heijo/main.tf"]
Sun 29 Mar 2020 06:51:55 AM JST:["Starting server","terraform-ls",["/home/heijo/go/bin/terraform-ls","serve"]]
Sun 29 Mar 2020 06:51:55 AM JST:[{"response":{"data":{"__data__":"vim-lsp","lsp_id":1,"server_name":"terraform-ls"},"message":"started lsp server successfully"}}]
Sun 29 Mar 2020 06:51:55 AM JST:["---&gt;",1,"terraform-ls",{"method":"initialize","params":{"rootUri":"file:///home/heijo","initializationOptions":null,"capabilities":{"workspace":{"configuration":true,"applyEdit":true},"textDocument":{"implementation":{"linkSupport":true},"documentSymbol":{"symbolKind":{"valueSet":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,1,2,3,4,5,6,7,8,9]},"hierarchicalDocumentSymbolSupport":false},"semanticHighlightingCapabilities":{"semanticHighlighting":false},"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"dynamicRegistration":false},"completion":{"completionItem":{"snippetSupport":false,"documentationFormat":["plaintext"]},"completionItemKind":{"valueSet":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,3,4,5,6,7,8,9]}},"foldingRange":{"lineFoldingOnly":true},"typeDefinition":{"linkSupport":true},"typeHierarchy":false,"declaration":{"linkSupport":true},"definition":{"linkSupport":true}}},"rootPath":"/home/heijo","processId":821,"trace":"off"}}]
Sun 29 Mar 2020 06:51:55 AM JST:["&lt;---",1,"terraform-ls",{"response":{"id":1,"jsonrpc":"2.0","error":{"code":-32602,"message":"invalid parameters: [-32602] invalid parameters: json: unknown field \"typeHierarchy\""}},"request":{"id":1,"jsonrpc":"2.0","method":"initialize","params":{"rootUri":"file:///home/heijo","initializationOptions":null,"capabilities":{"workspace":{"configuration":true,"applyEdit":true},"textDocument":{"implementation":{"linkSupport":true},"documentSymbol":{"symbolKind":{"valueSet":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,1,2,3,4,5,6,7,8,9]},"hierarchicalDocumentSymbolSupport":false},"semanticHighlightingCapabilities":{"semanticHighlighting":false},"codeAction":{"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"dynamicRegistration":false},"completion":{"completionItem":{"snippetSupport":false,"documentationFormat":["plaintext"]},"completionItemKind":{"valueSet":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,3,4,5,6,7,8,9]}},"foldingRange":{"lineFoldingOnly":true},"typeDefinition":{"linkSupport":true},"typeHierarchy":false,"declaration":{"linkSupport":true},"definition":{"linkSupport":true}}},"rootPath":"/home/heijo","processId":821,"trace":"off"}}}]
Sun 29 Mar 2020 06:51:55 AM JST:["---&gt;",1,"terraform-ls",{"method":"initialized","params":{}}]
Sun 29 Mar 2020 06:51:55 AM JST:["&lt;---(stderr)",1,"terraform-ls",["2020/03/29 06:51:55 service.go:56: Preparing new service ...","2020/03/29 06:51:55 langserver.go:65: Starting server (pid 827) ...","2020/03/29 06:51:55 server.go:469: Received 1 new requests","2020/03/29 06:51:55 server.go:165: Processing 1 requests","2020/03/29 06:51:55 server.go:223: Checking request for \"initialize\": {\"rootUri\":\"file:///home/heijo\",\"initializationOptions\":null,\"capabilities\":{\"workspace\":{\"configuration\":true,\"applyEdit\":true},\"textDocument\":{\"implementation\":{\"linkSupport\":true},\"documentSymbol\":{\"symbolKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,1,2,3,4,5,6,7,8,9]},\"hierarchicalDocumentSymbolSupport\":false},\"semanticHighlightingCapabilities\":{\"semanticHighlighting\":false},\"codeAction\":{\"codeActionLiteralSupport\":{\"codeActionKind\":{\"valueSet\":[\"\",\"quickfix\",\"refactor\",\"refactor.extract\",\"refactor.inline\",\"refactor.rewrite\",\"source\",\"source.organizeImports\"]}},\"dynamicRegistration\":false},\"completion\":{\"completionItem\":{\"snippetSupport\":false,\"documentationFormat\":[\"plaintext\"]},\"completionItemKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,3,4,5,6,7,8,9]}},\"foldingRange\":{\"lineFoldingOnly\":true},\"typeDefinition\":{\"linkSupport\":true},\"typeHierarchy\":false,\"declaration\":{\"linkSupport\":true},\"definition\":{\"linkSupport\":true}}},\"rootPath\":\"/home/heijo\",\"processId\":821,\"trace\":\"off\"}","2020/03/29 06:51:55 rpc_logger.go:29: Incoming request for \"initialize\" (ID 1): {\"rootUri\":\"file:///home/heijo\",\"initializationOptions\":null,\"capabilities\":{\"workspace\":{\"configuration\":true,\"applyEdit\":true},\"textDocument\":{\"implementation\":{\"linkSupport\":true},\"documentSymbol\":{\"symbolKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,1,2,3,4,5,6,7,8,9]},\"hierarchicalDocumentSymbolSupport\":false},\"semanticHighlightingCapabilities\":{\"semanticHighlighting\":false},\"codeAction\":{\"codeActionLiteralSupport\":{\"codeActionKind\":{\"valueSet\":[\"\",\"quickfix\",\"refactor\",\"refactor.extract\",\"refactor.inline\",\"refactor.rewrite\",\"source\",\"source.organizeImports\"]}},\"dynamicRegistration\":false},\"completion\":{\"completionItem\":{\"snippetSupport\":false,\"documentationFormat\":[\"plaintext\"]},\"completionItemKind\":{\"valueSet\":[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,3,4,5,6,7,8,9]}},\"foldingRange\":{\"lineFoldingOnly\":true},\"typeDefinition\":{\"linkSupport\":true},\"typeHierarchy\":false,\"declaration\":{\"linkSupport\":true},\"definition\":{\"linkSupport\":true}}},\"rootPath\":\"/home/heijo\",\"processId\":821,\"trace\":\"off\"}","2020/03/29 06:51:55 rpc_logger.go:45: Error for \"initialize\" (ID 1): [-32602] invalid parameters: [-32602] invalid parameters: json: unknown field \"typeHierarchy\"","2020/03/29 06:51:55 server.go:204: Completed 1 requests [590.231µs elapsed]","2020/03/29 06:51:55 server.go:469: Received 1 new requests","2020/03/29 06:51:55 server.go:165: Processing 1 requests","2020/03/29 06:51:55 server.go:223: Checking request for \"initialized\": {}",""]]
Sun 29 Mar 2020 06:51:55 AM JST:["&lt;---(stderr)",1,"terraform-ls",["2020/03/29 06:51:55 rpc_logger.go:29: Incoming notification for \"initialized\": {}",""]]```</pre>
<pre>johejo 1585434174.093700: TextDocumentClientCapabilitiesにtypeHierarchyなんてあったのか... 仕様書にみあたらない...
これか <https://github.com/microsoft/language-server-protocol/issues/468></pre>
<pre>thinca 1585656500.096900: とりあえず PR を出すだけ出したので後はお好きに。閉じてもらっても大丈夫。
<https://github.com/prabirshrestha/vim-lsp/pull/776></pre>
<pre>mattn 1585657987.097400: <https://github.com/prabirshrestha/vim-lsp/pull/776/files#diff-3743411c94af62c4459d91bf5f5a9597R69></pre>
<pre>mattn 1585657989.097700: なんだこれ</pre>
<pre>tyru 1585658210.098000: :function! の ! のつけ忘れですね</pre>
<pre>thinca 1585658342.098500: oh... vim-lsp は古い Vim 向けのコード規約なのか…</pre>
<pre>thinca 1585658394.099000: snippet から `!` 消してしまったので古いプラグイン向けにコード書く時に割とハマる</pre>
<pre>tyru 1585658442.099600: vint のメッセージも一応修正されたんですが、古い vint 使ってるみたいですね。
<https://github.com/Vimjas/vint/issues/232></pre>
<pre>tyru 1585658492.100500: vim-lsp ってより vint 自体がまだサポートしてないような <https://github.com/Vimjas/vint/issues/322></pre>
<pre>tsuyoshi_cho 1585658501.100900: 新vintへのPRチャンス？</pre>
<pre>tyru 1585658576.102200: ↑のリンクミスってた、232 がメッセージの修正、322 が vint で現状 ! と abort のチェックが一緒になっているのを abort 単体でチェックするという issue です</pre>
<pre>thinca 1585658624.102600: `!` 直しました (force push)</pre>
{% endraw %}
