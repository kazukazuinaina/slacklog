---
# vim:set ts=2 sts=2 sw=2 et:
layout: slacklog
title: vim-jp.slack.com log - &#35update - 2020年04月
---
<div>
<h2><a href='/slacklog/'>vim-jp.slack.com log</a> - <a href='/slacklog/update/'>&#35update</a> - 2020年04月</h2>

{% raw %}
Recent Commits to vim:master 1日 23:48:25: &lt;https://github.com/vim/vim/commit/25b70c780a7e6063544e7f93c368fe403076f34e|patch 8.2.0489: Vim9: memory leaks&gt;
patch 8.2.0489: Vim9: memory leaks

Problem:    Vim9: memory leaks.
Solution:   Free memory in the right place.  Add hints for using asan.
Recent Commits to vim:master 2日 01:48:21: &lt;https://github.com/vim/vim/commit/0afdcf8601792ee751984265b49fc2ca6f8ea858|patch 8.2.0490: Win32: VTP doesn&#39;t respect &#39;restorescreen&#39;&gt;
patch 8.2.0490: Win32: VTP doesn&#39;t respect &#39;restorescreen&#39;

Problem:    Win32: VTP doesn&#39;t respect &#39;restorescreen&#39;.
Solution:   Use escape codes to switch to alternate screen. (Nobuhiro
            Takasaki, closes #5872)
Recent Commits to vim:master 2日 02:28:31: &lt;https://github.com/vim/vim/commit/2da0f0c445da3c9b35b2a0cd595d10e81ad2a6f9|patch 8.2.0491: cannot recognize a &amp;lt;script&amp;gt; mapping using maparg()&gt;
patch 8.2.0491: cannot recognize a  mapping using maparg()

Problem:    Cannot recognize a  mapping using maparg().
Solution:   Add the &#34;script&#34; key. (closes #5873)
Recent Commits to vim:master 2日 04:28:32: &lt;https://github.com/vim/vim/commit/a8c1770469504ae66c80bbdb03b6b31641215848|patch 8.2.0492: Vim9: some error messages not tested&gt;
patch 8.2.0492: Vim9: some error messages not tested

Problem:    Vim9: some error messages not tested.
Solution:   Add more tests.  Remove dead code.  Fix uncovered bugs.
Recent Commits to vim:master 2日 05:28:26: &lt;https://github.com/vim/vim/commit/e69f6d044c420d41dced9ba96a3b90f25788e39a|patch 8.2.0493: Vim9: some error messages not tested&gt;
patch 8.2.0493: Vim9: some error messages not tested

Problem:    Vim9: some error messages not tested.
Solution:   Add more tests.  Fix uncovered bugs.
Recent Commits to vim:master 2日 05:48:24: &lt;https://github.com/vim/vim/commit/ea94fbe83bca69eda4f03e92ecf581d0343c7b47|patch 8.2.0494: Vim9: asan error&gt;
patch 8.2.0494: Vim9: asan error

Problem:    Vim9: asan error.
Solution:   Only get the type when there is one.
Recent Commits to vim:master 2日 06:08:26: &lt;https://github.com/vim/vim/commit/80c34ca312506c2c65eef6b119e214f7e6f87eb9|patch 8.2.0495: Vim9: some code not tested&gt;
patch 8.2.0495: Vim9: some code not tested

Problem:    Vim9: some code not tested.
Solution:   Add more tests.  Support more const expressions.
Recent Commits to vim:master 2日 21:08:25: &lt;https://github.com/vim/vim/commit/a4d4cf490e2974843c80598e6f40f83aae658fd3|patch 8.2.0496: Vim9: disassemble test fails&gt;
patch 8.2.0496: Vim9: disassemble test fails

Problem:    Vim9: disassemble test fails.
Solution:   Separate test cases with recognized constant expressions.
Recent Commits to vim:master 2日 22:28:20: &lt;https://github.com/vim/vim/commit/e5bae13da327235836b505ee47224b465713ad75|patch 8.2.0497: too verbose output from the asan build in Travis&gt;
patch 8.2.0497: too verbose output from the asan build in Travis

Problem:    Too verbose output from the asan build in Travis.
Solution:   Filter out suppression messages. (Ozaki Kiichi, closes #5874)
Recent Commits to vim:master 2日 23:08:24: &lt;https://github.com/vim/vim/commit/4227c789ffe667b74affab38a1b8bea27cd69b36|patch 8.2.0498: Coverity complains about uninitialized field&gt;
patch 8.2.0498: Coverity complains about uninitialized field

Problem:    Coverity complains about uninitialized field.
Solution:   Initialize the whole typval_T.
Recent Commits to vim:master 3日 01:48:24: &lt;https://github.com/vim/vim/commit/f10806b25090879fdc1a86cc0da2f4f34fd21921|patch 8.2.0499: calling a lambda is slower than evaluating a string&gt;
patch 8.2.0499: calling a lambda is slower than evaluating a string

Problem:    Calling a lambda is slower than evaluating a string.
Solution:   Make calling a lambda faster. (Ken Takata, closes #5727)
Recent Commits to vim:master 3日 02:08:25: &lt;https://github.com/vim/vim/commit/aeea72151c31d686bcbb7b06d895006d7363585c|patch 8.2.0500: using the same loop in many places&gt;
patch 8.2.0500: using the same loop in many places

Problem:    Using the same loop in many places.
Solution:   Define more FOR_ALL macros. (Yegappan Lakshmanan, closes #5339)
Recent Commits to vim:master 3日 02:28:25: &lt;https://github.com/vim/vim/commit/2c869deeb7658b6b02e525ff9412fc4a0c968688|patch 8.2.0501: Vim9: script test fails when channel feature is missing&gt;
patch 8.2.0501: Vim9: script test fails when channel feature is missing

Problem:    Vim9: script test fails when channel feature is missing.
Solution:   Add a has() condition.
Recent Commits to vim:master 3日 04:28:24: &lt;https://github.com/vim/vim/commit/e8c4abbbd711af8fd3ed85ea69e9ac3d63a0d879|patch 8.2.0502: Vim9: some code is not tested&gt;
patch 8.2.0502: Vim9: some code is not tested

Problem:    Vim9: some code is not tested.
Solution:   Add more tests.  Fix uncovered problems.
Recent Commits to vim:master 3日 06:08:26: &lt;https://github.com/vim/vim/commit/585fea7b98b79f2c6d92fa8a2340e461aff805c8|patch 8.2.0503: Vim9: some code is not tested&gt;
patch 8.2.0503: Vim9: some code is not tested

Problem:    Vim9: some code is not tested.
Solution:   Add tests.  Fix uncovered problems.
Recent Commits to vim:master 3日 06:08:26: &lt;https://github.com/vim/vim/commit/3cca299520a4980fd1b124564bd67782ca977c15|patch 8.2.0504: Vim9: leaking scope memory when compilation fails&gt;
patch 8.2.0504: Vim9: leaking scope memory when compilation fails

Problem:    Vim9: leaking scope memory when compilation fails.
Solution:   Cleanup the scope list.
Recent Commits to vim:master 3日 20:08:23: &lt;https://github.com/vim/vim/commit/01603a9970421272621f7c1ecdc560b522c92e61|patch 8.2.0505: term_getty() not sufficiently tested&gt;
patch 8.2.0505: term_getty() not sufficiently tested

Problem:    term_getty() not sufficiently tested.
Solution:   Add more asserts. (Dominique Pelle, closes #5877)
Recent Commits to vim:master 4日 01:28:31: &lt;https://github.com/vim/vim/commit/d1e9dc272355fe3ab112af5f04b0516b2e9a4fa6|patch 8.2.0506: Coverity complains about ignoring return value&gt;
patch 8.2.0506: Coverity complains about ignoring return value

Problem:    Coverity complains about ignoring return value.
Solution:   Add (void).
Recent Commits to vim:master 4日 01:48:30: &lt;https://github.com/vim/vim/commit/5259275347667a90fb88d8ea74331f88ad68edfc|patch 8.2.0507: getbufvar() may get the wrong dictionary&gt;
patch 8.2.0507: getbufvar() may get the wrong dictionary

Problem:    Getbufvar() may get the wrong dictionary. (David le Blanc)
Solution:   Check for empty name. (closes #5878)
Recent Commits to vim:master 4日 05:08:25: &lt;https://github.com/vim/vim/commit/d77a8525d5438cae49f670eb473ef60d87ca5f54|patch 8.2.0508: Vim9: func and partial types not done yet&gt;
patch 8.2.0508: Vim9: func and partial types not done yet

Problem:    Vim9: func and partial types not done yet
Solution:   Fill in details about func declaration, drop a separate partial
            declaration.
Recent Commits to vim:master 4日 21:08:16: &lt;https://github.com/vim/vim/commit/cde0ff39da2459b16007fef701ebaa449fb6fe9d|patch 8.2.0509: various code is not properly tested.&gt;
patch 8.2.0509: various code is not properly tested.

Problem:    various code is not properly tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5871)
Recent Commits to vim:master 4日 22:08:18: &lt;https://github.com/vim/vim/commit/8d4ed11da635a1abe0ef2d795b4d48824c54d0e7|patch 8.2.0510: Coverity complains about using uninitialized variable&gt;
patch 8.2.0510: Coverity complains about using uninitialized variable

Problem:    Coverity complains about using uninitialized variable.
Solution:   Assign a value to &#34;scol&#34;.  Move code inside NULL check.
Recent Commits to vim:master 5日 22:48:19: &lt;https://github.com/vim/vim/commit/d7ffc0ba8ccb039dd19b255368302d9bfe0e010b|patch 8.2.0511: Cscope code not fully tested&gt;
patch 8.2.0511: Cscope code not fully tested

Problem:    Cscope code not fully tested.
Solution:   Add more test cases. (Dominique Pelle, closes #5886)
Recent Commits to vim:master 6日 00:28:17: &lt;https://github.com/vim/vim/commit/5deeb3f1f9db4eabd36e99cbf857fe376eb37e10|patch 8.2.0512: Vim9: no optional arguments in func type&gt;
patch 8.2.0512: Vim9: no optional arguments in func type

Problem:    Vim9: no optional arguments in func type.
Solution:   Check for question mark after type.  Find function reference
            without function().
Recent Commits to vim:master 6日 01:28:22: &lt;https://github.com/vim/vim/commit/5d905c2b9612314f6d8616560800665056050adc|patch 8.2.0513: reading past allocate memory when using varargs&gt;
patch 8.2.0513: reading past allocate memory when using varargs

Problem:    Reading past allocate memory when using varargs.
Solution:   Fix copying function argument types.
Recent Commits to vim:master 6日 02:08:24: &lt;https://github.com/vim/vim/commit/bdff012f4416c75e65950a19688533c4def5abf6|patch 8.2.0514: several global functions are used in only one file&gt;
patch 8.2.0514: several global functions are used in only one file

Problem:    Several global functions are used in only one file.
Solution:   Make the functions static. (Yegappan Lakshmanan, closes #5884)
Recent Commits to vim:master 6日 02:28:19: &lt;https://github.com/vim/vim/commit/b8ed3aa9e708ec0af4e9ee8921ad198f0e949c0d|patch 8.2.0515: some compilers cannot add to &#34;void *&#34;&gt;
patch 8.2.0515: some compilers cannot add to &#34;void *&#34;

Problem:    Some compilers cannot add to &#34;void *&#34;.
Solution:   Cast to &#34;char *&#34;.
Recent Commits to vim:master 6日 03:28:17: &lt;https://github.com/vim/vim/commit/f87a0400fd81862c33d6ad2291a56e178db7dddd|patch 8.2.0516: client-server code is spread out&gt;
patch 8.2.0516: client-server code is spread out

Problem:    Client-server code is spread out.
Solution:   Move client-server code to a new file. (Yegappan Lakshmanan,
            closes #5885)
Recent Commits to vim:master 6日 04:48:15: &lt;https://github.com/vim/vim/commit/4c68375057c25e99656bc996d3fa5c6b0b6a7e6a|patch 8.2.0517: Vim9: cannot separate &#34;func&#34; and &#34;func(): void&#34;&gt;
patch 8.2.0517: Vim9: cannot separate &#34;func&#34; and &#34;func(): void&#34;

Problem:    Vim9: cannot separate &#34;func&#34; and &#34;func(): void&#34;.
Solution:   Use VAR_ANY for &#34;any&#34; and VAR_UNKNOWN for &#34;no type&#34;.
Recent Commits to vim:master 6日 04:48:15: &lt;https://github.com/vim/vim/commit/5ba8d3578c835edcfb7e3b132e623c12e62f250b|patch 8.2.0518: a terminal falls back to setting $TERM to &#34;xterm&#34;&gt;
patch 8.2.0518: a terminal falls back to setting $TERM to &#34;xterm&#34;

Problem:    A terminal falls back to setting $TERM to &#34;xterm&#34;.
Solution:   Use &#34;xterm-color&#34; if more than 16 colors are supported and
            &#34;xterm-256color&#34; if at least 256 colors are supported.
            (closes #5887)
Recent Commits to vim:master 6日 05:28:17: &lt;https://github.com/vim/vim/commit/8922860afb2cf9e89417c0c1417f1fb4458d3b44|patch 8.2.0519: Vim9: return type not properly checked&gt;
patch 8.2.0519: Vim9: return type not properly checked

Problem:    Vim9: return type not properly checked.
Solution:   Check type properly, also at runtime.
Recent Commits to vim:master 6日 06:08:25: &lt;https://github.com/vim/vim/commit/6c307dcd554a1ce14c4279a3c2ede29f972bdb23|patch 8.2.0520: tests are not listed in sorted order&gt;
patch 8.2.0520: tests are not listed in sorted order

Problem:    Tests are not listed in sorted order.
Solution:   Move test_ex_mode. (Doug Richardson, closes #5889)
Recent Commits to vim:master 7日 04:28:27: &lt;https://github.com/vim/vim/commit/15352dc6ec43fd50cc3be4f4fd1ad74d5619da20|patch 8.2.0521: crash when reading a blob fails&gt;
patch 8.2.0521: crash when reading a blob fails

Problem:    Crash when reading a blob fails.
Solution:   Avoid keeping a pointer to a freed blob object. (Dominique Pelle,
            closes #5890)  Adjust error messages.
Recent Commits to vim:master 7日 04:48:22: &lt;https://github.com/vim/vim/commit/ee4e0c1e9a81cb5d96e0060203a9033c2f28588e|patch 8.2.0522: several errors are not tested for&gt;
patch 8.2.0522: several errors are not tested for

Problem:    Several errors are not tested for.
Solution:   Add tests. (Yegappan Lakshmanan, closes #5892)
Recent Commits to vim:master 7日 05:28:24: &lt;https://github.com/vim/vim/commit/00d253e2b2f435a5386582c3f857008e7ac355c2|patch 8.2.0523: loops are repeated&gt;
patch 8.2.0523: loops are repeated

Problem:    Loops are repeated.
Solution:   Use FOR_ALL_ macros. (Yegappan Lakshmanan, closes #5882)
Recent Commits to vim:master 7日 06:08:28: &lt;https://github.com/vim/vim/commit/c74fbfedfa2df384cca5f6763e2c9e5c0ca6d513|patch 8.2.0524: Win32: searching for file matches is slow&gt;
patch 8.2.0524: Win32: searching for file matches is slow

Problem:    Win32: searching for file matches is slow.
Solution:   Instead of making another round to find any short filename, check
            for the short name right away. Avoid using an ordinary file like a
            directory.  (Nir Lichtman, closes #5883)
Recent Commits to vim:master 7日 07:08:21: &lt;https://github.com/vim/vim/commit/40655d501649e0b73e12f940b56f462dee44e06c|patch 8.2.0525: Win32: typo in assignment and misplaced paren&gt;
patch 8.2.0525: Win32: typo in assignment and misplaced paren

Problem:    Win32: typo in assignment and misplaced paren.
Solution:   Fix the syntax.
{% endraw %}

</div>
