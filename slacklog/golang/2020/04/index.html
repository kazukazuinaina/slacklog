---
# vim:set ts=2 sts=2 sw=2 et:
layout: slacklog
title: vim-jp.slack.com log - &#35golang - 2020年04月
---
<div>
<h2><a href='{{ post.url }}'>{{ page.title }}</a></h2>

<p>参加方法、各チャンネルの概要等は以下を参照して下さい。<br>
<a href='/docs/chat.html'>vim-jpのチャットルームについて</a></p>

{% raw %}
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:02:35</span>
<span class='slacklog-text'>`receiver.MethodByName(&#34;Method1&#34;).Call([reflect.ValueOf(1), reflect.ValueOf(&#34;aa&#34;)])` でも無さげ。syntax error。文法違うのか?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:14:08</span>
<span class='slacklog-text'>`receiver.MethodByName(&#34;Method1&#34;).Call({reflect.ValueOf(1), reflect.ValueOf(&#34;aa&#34;)})`も違う。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:14:39</span>
<span class='slacklog-text'>ValueOfがValue返えすので、基本的な考えかたは間違ってない?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 00:16:42</span>
<span class='slacklog-text'>すいません
こちら、ご存知の方いますか？
&lt;https://twitter.com/gorilla0513/status/1245369097489010692?s=20&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 00:17:22</span>
<span class='slacklog-text'>あ、パスを間違えただけだった…ｗ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 00:17:27</span>
<span class='slacklog-text'>失礼しました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 00:25:46</span>
<span class='slacklog-text'>```[]reflect.Value{reflect.ValueOf(1), reflect.ValueOf(&#34;aa&#34;)}```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:39:58</span>
<span class='slacklog-text'>```package main

import (
	&#34;log&#34;
	&#34;reflect&#34;
)

type MyStruct struct {
}

func (ms *MyStruct) method1(i int, s string) {
	log.Printf(&#34;foobar&#34;)
}
func main() {
	ms := &amp;amp;MyStruct{}
	receiver := reflect.ValueOf(ms)
	log.Println(&#34;before&#34;)
	ret := receiver.MethodByName(&#34;Method1&#34;).Call([]reflect.Value{reflect.ValueOf(1), reflect.ValueOf(&#34;aa&#34;)})
	log.Println(&#34;after %V&#34;, ret)
}```
で、
```[master]$ ./main
2020/04/02 00:38:46 before
panic: reflect: call of reflect.Value.Call on zero Value

goroutine 1 [running]:
reflect.flag.mustBe(...)
        /usr/lib/go/src/reflect/value.go:208
reflect.Value.Call(0x0, 0x0, 0x0, 0xc000053f48, 0x2, 0x2, 0x0, 0x0, 0x4e94c0)
        /usr/lib/go/src/reflect/value.go:319 +0x16d
main.main()
        /home/vikke/go/src/github.com/reflection/main.go:18 +0x2aa```
なエラーが出ます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:40:44</span>
<span class='slacklog-text'>Go, 難しいアルネ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:41:03</span>
<span class='slacklog-text'>ってか、rubyに毒されすぎてたよ。わたし。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 00:41:56</span>
<span class='slacklog-text'>お昼と同じ間違いしてますよ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 00:42:01</span>
<span class='slacklog-text'>method1 が小文字。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:43:51</span>
<span class='slacklog-text'>死にたい。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 00:45:48</span>
<span class='slacklog-text'>通りました。本当に死にたい。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 00:50:48</span>
<span class='slacklog-text'>YATTA &amp;gt; 通りました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 04:51:08</span>
<span class='slacklog-text'>&lt;https://golang.org/pkg/net/http/#Server.Shutdown&gt;
ちょっと気になるんですが、このexampleのShutdownってListendAndServeよりも先に呼ばれることがあり得るような気がするんですが、特に気にしなくて良いのでしょうか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>2日 07:52:37</span>
<span class='slacklog-text'>先に呼ばれたとしても、ListenAndServe は ErrServerClosed を返して即 return するだけなので問題なさそうに思います</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 09:11:02</span>
<span class='slacklog-text'>&lt;http://go.shibu.jp/effective_go.html|http://go.shibu.jp/effective_go.html&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 09:11:08</span>
<span class='slacklog-text'>久々読んでみたけど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 09:11:36</span>
<span class='slacklog-text'>newってみんな使うかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 09:11:45</span>
<span class='slacklog-text'>ぼくは最近使わなくなったけど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 09:12:14</span>
<span class='slacklog-text'>&amp;amp;gorilla{}
ってやることが多い</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/6cc9d2f7210145f0277ba2604a9eac76.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-48.png'>
<span class='slacklog-name'>0Δ</span>
<span class='slacklog-datetime'>2日 09:13:27</span>
<span class='slacklog-text'>channel作成する時はいつもnew使ってますねー</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:14:25</span>
<span class='slacklog-text'>もしかして：「make」</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/6cc9d2f7210145f0277ba2604a9eac76.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-48.png'>
<span class='slacklog-name'>0Δ</span>
<span class='slacklog-datetime'>2日 09:15:05</span>
<span class='slacklog-text'>あ、makeだったか (いつもコピペなのがバレる)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 09:16:11</span>
<span class='slacklog-text'>みんなのnewを使う場面を知りたい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 09:25:43</span>
<span class='slacklog-text'>~型つきでnilを得たいとき…だけですかね~</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 09:25:49</span>
<span class='slacklog-text'>あ、うそ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:25:50</span>
<span class='slacklog-text'>場面というか new じゃないとできない物があるので。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:26:09</span>
<span class='slacklog-text'>```v := new(int)
*v = 1```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:27:10</span>
<span class='slacklog-text'>それ以外について(例: struct)は違いはないですが、リテラルの方は linter で警告できるチャンスがあります。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 09:28:57</span>
<span class='slacklog-text'>&lt;https://github.com/google/wire/blob/65ae46b7eaa146e99673e290251ea26f28139362/internal/wire/testdata/FieldsOfImportedStruct/main/wire.go#L31-L35&gt;
&#34;ポインタ型を&#34; newするっていう珍しいケース。自分が知る限りだとこれくらいかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:29:58</span>
<span class='slacklog-text'>AWS のライブラリだと平気で `*string` をフィールドに持ったりするんで new 無いと死んでしまう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 09:32:16</span>
<span class='slacklog-text'>なるほど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>2日 09:35:50</span>
<span class='slacklog-text'>google/go-githubとかもそうなんすよね…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:36:31</span>
<span class='slacklog-text'>Java やってた人が Go のライブラリ作るとなりがちという偏見を持っています。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>2日 09:36:39</span>
<span class='slacklog-text'>&lt;https://pkg.go.dev/github.com/google/go-github/v30/github?tab=doc#Repository&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>2日 09:37:03</span>
<span class='slacklog-text'>mapもptrでもっとるな…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 09:37:17</span>
<span class='slacklog-text'>go-githubつらいと思ってたけど間違ってなかった。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:38:25</span>
<span class='slacklog-text'>```Permissions         *map[string]bool `json:&#34;permissions,omitempty&#34;````
これは意味あるのw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>2日 09:38:38</span>
<span class='slacklog-text'>ww</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 09:39:13</span>
<span class='slacklog-text'>string や int は nil 判定できないから分からんでもないけど map は nil 判定できるし、単に開発者がポインタで揃ってないと気持ち悪いからって理由でやってる様にしか見えない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>2日 09:39:21</span>
<span class='slacklog-text'>ポインタに統一しておきたかった、などと供述しており</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 09:51:24</span>
<span class='slacklog-text'>mapやsliceなんてそのままでポインタみたいなのものなのになあ
ポインタのポインタはポインタ.... 意味不明...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2017-12-09/284380828226_585d265f54113004e478_48.jpg'>
<span class='slacklog-name'>dohq</span>
<span class='slacklog-datetime'>2日 09:56:50</span>
<span class='slacklog-text'>aws-sdk、ほんとポインタだらけでたまに直接デリファレンスしてんぁーってなる…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 09:57:32</span>
<span class='slacklog-text'>ポインタのポインタを見ると頭がバグる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 09:58:08</span>
<span class='slacklog-text'>そんなに難しい概念でもないと思うんだけども</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/6cc9d2f7210145f0277ba2604a9eac76.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-48.png'>
<span class='slacklog-name'>0Δ</span>
<span class='slacklog-datetime'>2日 09:58:48</span>
<span class='slacklog-text'>ポインタのポインタを何の抵抗もなく受け入れてしまえるのは何故だろうか……
いやパフォーマンスは悪いだろうけど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 10:28:51</span>
<span class='slacklog-text'>リフレクション楽しいですけど難しい。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 10:29:47</span>
<span class='slacklog-text'>ちなみに遊びでならいいんですが、昨日の話の様に Go で reflect 使うのかなり特異な要件なので、使わないで済むなら使わない方がいいかもです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 10:35:33</span>
<span class='slacklog-text'>そうですね。KoRoNさんも言ってたし。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 10:36:50</span>
<span class='slacklog-text'>まじでGo初心者がreflect使うのはやめたほうが良い。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 10:37:12</span>
<span class='slacklog-text'>正しく動かすには馬鹿みたいにコードが長くなってGoの旨味なにもなくなるから</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 10:45:47</span>
<span class='slacklog-text'>Javaで必要に迫られてリフレクション使ったことあるけど反吐が出るような思いでコード書いてたな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 10:45:50</span>
<span class='slacklog-text'>あれは地獄</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 10:46:23</span>
<span class='slacklog-text'>名前の文字列を間違えてメソッド呼び出せなくてってのはあるあるですよねw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 10:47:05</span>
<span class='slacklog-text'>python-c++バインディングで中身取り出しに使ったくらいだな、最近は。
基本言語の機能を使うだけ(not reflect)で実現できることで設計するのが普通というか普通に設計するとその言語の機能で実現できることになる、はずみたいなくらいには大概の言語は機能が足りてる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 10:47:23</span>
<span class='slacklog-text'>文字列で表れるのSQL味がある</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 10:47:23</span>
<span class='slacklog-text'>名前の部分定数にしときゃ大丈夫だろって思ったら、その定数の値がまちがってたみたいなのもあるあるですね!</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 10:47:33</span>
<span class='slacklog-text'>リフレクションが必要なのって大体ライブラリが悪いんすよ、ほんとに</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/6cc9d2f7210145f0277ba2604a9eac76.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-48.png'>
<span class='slacklog-name'>0Δ</span>
<span class='slacklog-datetime'>2日 10:50:07</span>
<span class='slacklog-text'>pythonみたいな動的メソッド定義をしようとreflect使った事があるけど、それやるならmap使ってチェックした法が色々安全だとわかったこのごろ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 10:55:28</span>
<span class='slacklog-text'>以前javaでreflection使って、良い感じになったのに味をしめてる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 10:55:35</span>
<span class='slacklog-text'>昔 junit3 と junit4、どっちでも動かせる様にリフレクションのコード書いたけど、あの時間は本当に無意味だった。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>2日 10:58:13</span>
<span class='slacklog-text'>リフレクション多用しないといけないのであれば動的型付け言語使ったほうが幸せになるだろうなぁと思ったりしますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 10:58:49</span>
<span class='slacklog-text'>ぼくはリフレクションでディスパッチは言語問わず悪いアイデアだと思いますねぇ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 10:59:50</span>
<span class='slacklog-text'>仕事でそういうコード見せられたらガチギレする自信あるw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>2日 11:00:07</span>
<span class='slacklog-text'>duck typing...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 11:01:01</span>
<span class='slacklog-text'>安全制御が低いduck typingはeasy reflection感があるけど...まあ大概は実害はないか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 11:01:27</span>
<span class='slacklog-text'>静的コンパイルされるduck typingはまあ...というところ(好みの問題)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 11:01:48</span>
<span class='slacklog-text'>最適化の兼ね合いとかもあって、動的型言語でもその手のコードは禁忌扱いされてたりするイメージ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 11:02:10</span>
<span class='slacklog-text'>それ以前に人間にやさしくない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>2日 11:04:27</span>
<span class='slacklog-text'>Vim script と言う言語があって</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 11:06:36</span>
<span class='slacklog-text'>変数展開した関数定義したり、execで文字列実行したり(evalもある)、他にも多数w</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 11:06:40</span>
<span class='slacklog-text'>こういう条件でディスパッチしてますよ、っていうのがコード構成ではなく言語構造のほうにはみ出てしまうのがアウトだと私は考えてます。やったほうがスマートに見えるんですが、あとあとの読むときを考えると、ね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 11:15:07</span>
<span class='slacklog-text'>以前読んだPHPのコードは、名前でメソッド呼び出すせいでそこから先のコードが死ぬほど追いづらかった。トラウマ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 11:15:32</span>
<span class='slacklog-text'>代入タイミングと、呼び出す箇所と、呼び出されるコードがてんでバラバラで…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 11:57:27</span>
<span class='slacklog-text'>reflect が楽しい、というのは(個人的には)わかる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 11:59:56</span>
<span class='slacklog-text'>interface{}を受ける関数でsliceでもstringでもbyteでもなんでもこいやってやつを作ってテストを書いて完成するとしてやったり感が結構大きい。
なおバグの温床</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:17:07</span>
<span class='slacklog-text'>ふと思ったんだけど、先日の bradfitz の `if err {}` の proposal、typed nil を解決してくれるなら嬉しい奴じゃないです？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:41:52</span>
<span class='slacklog-text'>typed nil はなにかまだ良くわかっていない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:42:47</span>
<span class='slacklog-text'>&lt;https://play.golang.org/p/LXAxSdzP6s-&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:42:59</span>
<span class='slacklog-text'>```var i interface{} = nil```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:43:24</span>
<span class='slacklog-text'>なる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:43:43</span>
<span class='slacklog-text'>```var x *int = nil```
これ、nilにならないのは、型情報を持っているから？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:45:35</span>
<span class='slacklog-text'>nil にならない、ではなくそれを interface{} に入れて比較してるのが NG って話です。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 14:45:37</span>
<span class='slacklog-text'>「型情報を持ってない」ではなく「型情報が一致しない」</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:45:45</span>
<span class='slacklog-text'>はい、そういうこと。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 14:46:25</span>
<span class='slacklog-text'>untyped nil != (*int)nil
ってことです？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:46:33</span>
<span class='slacklog-text'>yep</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:47:34</span>
<span class='slacklog-text'>まだ理解できていない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:47:37</span>
<span class='slacklog-text'>ふむ…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:48:21</span>
<span class='slacklog-text'>「俺(interface{})には俺なりの美学(nil)があるし、お前(*int)にはお前なりの美学(nil)がある、それだけの話だ」</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:48:29</span>
<span class='slacklog-text'>そもそも `nil`ってなんだ…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:49:22</span>
<span class='slacklog-text'>nil はなんにでもなれるわけではない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 14:49:24</span>
<span class='slacklog-text'>値が無効であることを示す値と認識していたけど、違う？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>2日 14:49:31</span>
<span class='slacklog-text'></span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:49:41</span>
<span class='slacklog-text'>いや、なれない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:49:43</span>
<span class='slacklog-text'>&lt;https://text.baldanders.info/golang/nil-is-nil/&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:50:37</span>
<span class='slacklog-text'>```実際にはこれは「型がない」ことを示している。 同様に値についても，厳密には nil という値ではなく「値がない」ことを示しているのだ。```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:50:39</span>
<span class='slacklog-text'>なるほど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 14:51:26</span>
<span class='slacklog-text'>constもですが、untyped hogehogeって特別扱いされる型があるんですよね〜。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 14:52:38</span>
<span class='slacklog-text'>んー、難しい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:54:28</span>
<span class='slacklog-text'>untyped は扱うのは楽だけど理解が若干難しくなりますね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:54:54</span>
<span class='slacklog-text'>Go だと四則演算(特に int64 vs float64)はキャストが必要だけど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 14:55:04</span>
<span class='slacklog-text'>```const v = 1
func main() {
	var f float64
	var n int64
	println(n + v)
	println(f + v)
}```
untyped だとこういう事ができる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 15:03:20</span>
<span class='slacklog-text'>リテラル `1` は untyped int だし、リテラル `nil` は untyped nil、
いずれも代入すると型が確定する。
```var i int = 1 // ただのint```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 15:03:53</span>
<span class='slacklog-text'>~なんだけどinterface{}に代入するとuntypedのまま入っちゃう感じ。かな~</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 15:04:01</span>
<span class='slacklog-text'>静的で型強めな言語でのブラックホールというところですねえ...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 15:04:08</span>
<span class='slacklog-text'>そのばあい `interface{}` っていう型の nil になるんすよ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 15:04:25</span>
<span class='slacklog-text'>ああそうだ。この場合どう表現するんだ…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:38:10</span>
<span class='slacklog-text'>&lt;https://i101330.hatenablog.com/entry/2018/08/26/004005&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:38:32</span>
<span class='slacklog-text'>わかる～って感じの記事。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 16:41:33</span>
<span class='slacklog-text'>わかりみが深い
考える事が少なくて済んで本当に楽…
try 〜 catch だとどこでキャッチするか考えないといけないし、いつ例外飛ぶか分からないし（C 書いてて安心感があるのはそれ）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 16:44:05</span>
<span class='slacklog-text'>まあ手続き的にはそうですね、という感覚はわかる(逆にそれ以外がないことの保障が大変だけど)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:44:06</span>
<span class='slacklog-text'>early return していって関数全体で考えないといけない異常系をどんどん消去法ぽく消していけるので脳が楽になる感じ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:44:21</span>
<span class='slacklog-text'>&lt;https://twitter.com/mattn_jp/status/1031464214282432512&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:46:58</span>
<span class='slacklog-text'>`if err != nil` 面倒！ `throw` が欲しい！って人達より、実は Go やってる人達の方がめんどくさがり屋なのかもね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 16:48:27</span>
<span class='slacklog-text'>panic() もそうですけど、大域脱出を許しちゃったらそれこそ台無しなんですよねー…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 16:48:32</span>
<span class='slacklog-text'>記述の文句は、たぶんthrowより言語的な明確さがないことと、スペース区切りな複数単語だからという気がしないでもない
(try/catchと差はそこまでないと思うので...)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 16:49:43</span>
<span class='slacklog-text'>あ、さっきの記事でミス見つけた… これコンパイルエラーにならんのだっけ…
```// err != nil
if err := db.Get(user); err := nil {```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:50:02</span>
<span class='slacklog-text'>ミスぽいですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 16:50:36</span>
<span class='slacklog-text'>Go はいっそ shadowing を禁止してほしかった（極端）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 16:51:04</span>
<span class='slacklog-text'>ミス記述を許しちゃうのは、ちょっとだけnnnみたいな(Cのifで代入、みたいな)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 16:55:06</span>
<span class='slacklog-text'>まぁでも概ね快適なんですよね。これぐらいなら lint で検知できそうなレベルだし</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 16:55:17</span>
<span class='slacklog-text'>や、ビルドは通らないっす。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 16:56:31</span>
<span class='slacklog-text'>おっとなるほど。すみません
最近 Go 書いてないのがバレてしまう…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 16:56:50</span>
<span class='slacklog-text'>あ、検知できるならfoooってカンジですねw(うるさい)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 17:03:56</span>
<span class='slacklog-text'>仕事で Go 書きてえ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:26:38</span>
<span class='slacklog-text'>```package main

import &#34;log&#34;

type I interface {
	Do(s string)
}

type S struct {
	S string
}

func (sp *S) Do(s string) string {
	return sp.S + s
}

func main() {
	s := S{S: &#34;abc&#34;}
	tmp := s.Do(&#34;foobar&#34;)
	log.Println(tmp)
}```
これって、`(sp *S) Do(s string) string`ってinterfaceを実装したmethodと言えますか?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>2日 17:27:23</span>
<span class='slacklog-text'>関数のシグネチャが違うので言えないですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:27:57</span>
<span class='slacklog-text'>```type I interface {
	Do(s string) string
}```
だと良いのか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>2日 17:28:05</span>
<span class='slacklog-text'>ですです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:28:24</span>
<span class='slacklog-text'>明示的にimportしないから、良くわからなくなる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:29:58</span>
<span class='slacklog-text'>javaだと、 `List l = new LinkedList()` みたいに抽象化にInterfaceつかえるけど、Goでの使い方が今一ピンと来てない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 17:31:19</span>
<span class='slacklog-text'>重箱の隅ですが `I` っていう名前は慣習的にNGで、この場合なら `Doer` とする。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:31:31</span>
<span class='slacklog-text'>ほー。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:32:19</span>
<span class='slacklog-text'>行為者、実行者(Doer)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 17:33:00</span>
<span class='slacklog-text'>関数に渡す上での使い方はJavaの物とそんなに変わらない気がする</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:33:51</span>
<span class='slacklog-text'>頭の切り替え必要。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 17:35:21</span>
<span class='slacklog-text'>必要な物を実装していった結果、インターフェースを満たす、みたいなイメージかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 17:35:55</span>
<span class='slacklog-text'>ｴｰ!!!</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 17:36:23</span>
<span class='slacklog-text'>この考えで合ってるのかわからないです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 17:37:22</span>
<span class='slacklog-text'>基底である (implements を書く) 必要がないですからね。
ダックタイピング的 (structural typing といった方がいいんだろうけど) にユーザがほしいメソッドだけ切り出してインターフェースを定義するみたいな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 17:40:02</span>
<span class='slacklog-text'>提供者側がインターフェースを公開するまでもなくユーザ側で定義すれば、それを満たすどんな struct も受け取れるので</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>2日 17:46:48</span>
<span class='slacklog-text'>&lt;https://play.golang.org/p/7QMKI6Q3JKL&gt;
これより
&lt;https://play.golang.org/p/pzk7LuyCBn4&gt;
こっちのほうが好まれる感じですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 17:47:21</span>
<span class='slacklog-text'>マルチファイルのgoplayground、たぶん慣れない人にはわかってもらえない…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 17:48:41</span>
<span class='slacklog-text'>これ入れるとわかりやすくなる。 &lt;https://chrome.google.com/webstore/detail/go-playground-addons/kjhcofplemokahbgknjgabnkidaabnde&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 17:53:59</span>
<span class='slacklog-text'>（複数上げれたんだ…）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 17:54:19</span>
<span class='slacklog-text'>implements を書かなくてもいいので余計に名前重要。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 17:54:24</span>
<span class='slacklog-text'>何気に高機能</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 17:57:39</span>
<span class='slacklog-text'>go の interface はあるライブラリの依存コードを、その利用箇所に置けるのが好きです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 17:58:08</span>
<span class='slacklog-text'>説明が難しいですが。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>2日 17:58:27</span>
<span class='slacklog-text'>レイヤードアーキテクチャとかクリーンアーキテクチャを Java のサンプル通り実装しちゃうと提供側にインターフェイス書きまくってしまってあれになりがち...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 17:59:10</span>
<span class='slacklog-text'>Java だと、モデル的なところで implements 書かなきゃなのでピュアな部分に依存が発生してくる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:00:04</span>
<span class='slacklog-text'>そこで DI</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:03:26</span>
<span class='slacklog-text'>Go だと複雑な仕組みがいらないのがよいですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 18:04:19</span>
<span class='slacklog-text'>ファイル単位で見たときに依存コードの位置が適切になるというか…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 18:11:21</span>
<span class='slacklog-text'>DIは人類には早かった</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:12:17</span>
<span class='slacklog-text'>しかしサルでも分かる。 &lt;https://qiita.com/hshimo/items/1136087e1c6e5c5b0d9f&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 18:12:34</span>
<span class='slacklog-text'>`encoding/gob`の存在を知ったのでjsonである必要のない箇所を差し替えたらやりとりされるデータのサイズが半分くらいになって小躍りしてる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>2日 18:13:42</span>
<span class='slacklog-text'>ゴリラにわかるかどうかが分かれ目</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 18:14:12</span>
<span class='slacklog-text'>つまりゴリラさんが理解できればいいのか（ふつうに:rikai: って言い出しそう）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:14:19</span>
<span class='slacklog-text'>サル：DI わかる
ゴリラ：わかるかも
人間：DI わからない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>2日 18:17:08</span>
<span class='slacklog-text'>言語の仕組みについて繰り返し練習しないと覚えられそうにない...という感覚がある(DIが必要になるタイプの経験があまりない..)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 18:18:01</span>
<span class='slacklog-text'>猫でも分かるとか猿でも分かるとか書いてあるシリーズ大体人類には厳しいので知性とは…みたいになる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2017-12-09/284380828226_585d265f54113004e478_48.jpg'>
<span class='slacklog-name'>dohq</span>
<span class='slacklog-datetime'>2日 18:20:03</span>
<span class='slacklog-text'>野生の本能的なアレに左右されるのかもしれん</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:29:34</span>
<span class='slacklog-text'>Go の場合、Java みたいな DI ってコスト高くなって見通し悪くなりそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:32:16</span>
<span class='slacklog-text'>正直自分も Scala のこのパターンに触れるまで DI って Spring の動的なやつしか触れた事なかったから実行時にエラー起きるし悪い印象しか持ってなかったけど、
ちゃんと静的に DI の役目を果たせてるじゃん、ってなった覚えがあるなー
&lt;https://qiita.com/pab_tech/items/1c0bdbc8a61949891f1f&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:33:00</span>
<span class='slacklog-text'>Scala といい DI といいさすがにオフトピすぎたｗ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>2日 18:33:33</span>
<span class='slacklog-text'>Cake 僕も好き</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:34:52</span>
<span class='slacklog-text'>↑のは Cake をよりシンプルにしたやつですね。UsesXXX と MixInXXX を公開して trait/object で extends するだけ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>2日 18:35:01</span>
<span class='slacklog-text'>実は DI が何者なのか全くわかっていない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:36:17</span>
<span class='slacklog-text'>Cake パターンって名前知ってたけどこういう意味だったの。
&amp;gt; 「僕のケーキに対する敬意という以外の理由としては、ケーキが（ジャムで分けられた）レイヤーから成り、またそのケーキを切り分けることができるということが挙げられる。レイヤーは内部クラスの入れ子構造を表す。上から順にたどっていく事で底辺のレイヤーに行き着くのが似ていると言えなくもない。また、ケーキの一切れは、プロジェクト内のコンポーネントを表し、いくつかのレイヤーを横断して切ることになる。」</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:36:54</span>
<span class='slacklog-text'>Onion といい Cake といい開発者は食べ物に例えがち</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:37:23</span>
<span class='slacklog-text'>DI は一番簡単な constructor injection から考えるのが分かりやすいと思う</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:39:10</span>
<span class='slacklog-text'>Java は DI をアノテーションで難しくしてしまったので、みんな DI がなんだか分からなくなった。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 18:40:16</span>
<span class='slacklog-text'>new する箇所を設定ファイル的に切り出す + すべて interface への依存にする =&amp;gt; テストしやすいし、インスタンスも設定で切り替えられる =&amp;gt; 副産物的にコンストラクタでの依存解決も同時に可能になった（すべてのインスタンス生成方法を知ったため）
こういう認識です。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:41:52</span>
<span class='slacklog-text'>設定ファイルもいらない認識です</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:42:09</span>
<span class='slacklog-text'>DIかどうかはともかくとして、コンポーネント間の依存が複雑になるとコンポーネントの初期化がオブジェクトの引き渡しで実質スパゲッティになるんですよ。それを切るってのがDIの目的の一つ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 18:42:57</span>
<span class='slacklog-text'>設定ファイル的にというのがニュアンスでした :bow: （無名関数で生成処理を切り出すのも設定ファイル的だ。と解釈してます。）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:43:02</span>
<span class='slacklog-text'>自分はむしろ Spring とか設定ファイルで管理する方法の利点が正直わかってない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:43:15</span>
<span class='slacklog-text'>なるほどです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:43:22</span>
<span class='slacklog-text'>コンパイルせずに振る舞いを変えられる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:43:54</span>
<span class='slacklog-text'>あーなるほど。運用だけで振る舞いを変えられるということですか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:44:24</span>
<span class='slacklog-text'>運用まで行かなくとも、コンパイルが遅いやつには有利かも?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 18:44:43</span>
<span class='slacklog-text'>そうか、新しく追加したクラスファイルだけ追加でコンパイルして xml いじったら振る舞いを変えられるというのが利点なのか。Java ほとんど書かないので盲点でした。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:45:31</span>
<span class='slacklog-text'>正直自分的には動的に注入することによって実行時にエラーが起きる方が怖いと思うのであまり感覚が分からないです。。。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:45:45</span>
<span class='slacklog-text'>でもそういう要求はあるんだろうなというのはわかります</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:45:55</span>
<span class='slacklog-text'>DI を Java から知ると設定ファイルのイメージありますよね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:46:02</span>
<span class='slacklog-text'>僕が仕事で書いて使ってる go用のDIっぽいの。DIとは謳ってないけどw
&lt;https://github.com/koron-go/materialize&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:46:17</span>
<span class='slacklog-text'>*component&#39;s dependency separator*</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:47:18</span>
<span class='slacklog-text'>コンストラクタでインタフェース貰う様な注入形式で考えると分かり良いすね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 18:47:31</span>
<span class='slacklog-text'>インスタンスの生成処理を切り出したことでシングルトンなオブジェクトを注入もできるか。。。
やっぱりいちばんめんどくなりがちな「インスタンスを生成・管理する箱」ができたから、それによってできることは全部やろうってテクノロジーなきがしますね。（だから言語化しづらい）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:48:36</span>
<span class='slacklog-text'>抽象化する為に昔からやってた事に DI なんてヘンテコな名前が付いてしまったのが諸悪の根源ぽさある。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:48:44</span>
<span class='slacklog-text'>googleのコード生成式のもあったけど、いくつかの理由でダイナミックなほうが良いなってなった。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:48:56</span>
<span class='slacklog-text'>関係ない話ですけど Java から入ったから最初インスタンス生成のタイミング・インスタンスの生存期間って DI と関係あると思ってました…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:50:33</span>
<span class='slacklog-text'>シングルトンとか絡んでくるとそういうのも考慮しなきゃいけないのはわかる（けど混乱した）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 18:50:55</span>
<span class='slacklog-text'>Goはwire
ですね、有名どころ
あんま使う気はしないけど…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:51:31</span>
<span class='slacklog-text'>まぁ、Javaのやつはほんとツラいよね。ソースコードが馬鹿みたいに追いにくい。

注入されたのがコード生成されたやつだったりすると絶望しかかる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:51:39</span>
<span class='slacklog-text'>使った事ないな。wire って名前からするに Java の Autowired な感じなのかな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:52:20</span>
<span class='slacklog-text'>コンストラクタ用の関数いっぱい書いておいて、あとは自動でそれを呼び出すコードを生成する感じ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 18:52:45</span>
<span class='slacklog-text'>仕事は終わった。これからはreflectionのお時間ぬははははは</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:52:53</span>
<span class='slacklog-text'>関数シグネチャで解決する感じかな？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 18:53:09</span>
<span class='slacklog-text'>そんなイメージ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:56:53</span>
<span class='slacklog-text'>最初の &lt;@U03C71D7H&gt; さんの疑問に乱暴だけど一番簡単な形で答えると、DI はコンストラクタに中で使うインスタンスを全て渡すのと同じってことです。
これはコンストラクタ注入 (constructor injection) といって立派な DI 手法の一つです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 18:57:54</span>
<span class='slacklog-text'>wireいいですよ コンストラクタインジェクションの手書きから移行しやすい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 18:57:55</span>
<span class='slacklog-text'>DI・テストに一家言ある Kuniwak さんの記事とか見るとわかるかも…
&lt;https://twitter.com/orga_chem/status/1037991810868555776&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 18:58:48</span>
<span class='slacklog-text'>インスタンスを作るというコードは、インスタンスを作る為に必要な要素(コンストラクタ引数)が増えがちで、そのたびにそれを生成している個所を弄らないといけなくなる。これが問題。なので外から生成済みの物をもらう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-06/711433366657_4168974e9eb8448007aa_48.png'>
<span class='slacklog-name'>thara</span>
<span class='slacklog-datetime'>2日 18:59:09</span>
<span class='slacklog-text'>DI=DIコンテナと考えちゃうと難しく思えちゃうんですよね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>2日 18:59:40</span>
<span class='slacklog-text'>少なくとも意識して使ったこと一度もないのだよな…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 18:59:54</span>
<span class='slacklog-text'>コード生成方式は何よりリフレクションベースじゃないのでコンパイル時に依存の刺し忘れに気づけるし起動も速い</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:00:22</span>
<span class='slacklog-text'>多分 thinca さんだとテスタブルにするために無意識に使ったことあるかもしれない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:00:48</span>
<span class='slacklog-text'>仰々しい名前が付いてるけど大したことはない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:01:41</span>
<span class='slacklog-text'>わかり良い例だとロガーかな
&amp;gt; ファイルに出力なのか標準出力に出すのか良く分からないけど、とりあえずロガーを貰ってログを吐きたいコードはある、でもファイル名を引数で貰う様な事はしたくない、俺はロガーを欲しいし、ファイルか標準出力かなんて気にしたくない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 19:01:45</span>
<span class='slacklog-text'>リフレクションベースの何がアレってIDEによるリファクタリングがしづらいのが</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 19:02:01</span>
<span class='slacklog-text'>文字列なので書き換えてくれなくってつらい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>2日 19:02:16</span>
<span class='slacklog-text'>ロガーわかりやすい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:02:59</span>
<span class='slacklog-text'>ロガーは実際 logback とかでそんな感じで設定ファイルで指定しますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:03:19</span>
<span class='slacklog-text'>Ruby で1枚岩のコード書くとログ出力をファイル、標準出力、を切り替えるコードが本体になっちゃうんですよね。これだと切り替えたいケースでソースを弄らないといけない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:03:33</span>
<span class='slacklog-text'>僕のやつ、structポインタでも interface でも要求できる。もちろん登録忘れてたらランタイムにエラーになっちゃうけどw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:03:51</span>
<span class='slacklog-text'>Goだとuberのdigとかfxが結構有名ですかね。どっちもリフレクションベースですが</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:04:34</span>
<span class='slacklog-text'>で、ロガーを貰う方法としておおまかに
* コンストラクタ経由で貰う方法
* フィールドで貰う方法(アノテーション付けたりする)
の2種類くらいがあります。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:05:00</span>
<span class='slacklog-text'>僕、後者のやつ嫌で採用しなかった。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:05:23</span>
<span class='slacklog-text'>つまり Java が嫌い、とw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:05:25</span>
<span class='slacklog-text'>ライフサイクルの管理とかいろいろやりたくなるとリフレクションベースのが欲しくなる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:05:54</span>
<span class='slacklog-text'>コンストラクタだとどうしても引数が増えちゃうのが難点なんですよね…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:06:45</span>
<span class='slacklog-text'>AutoWired便利なんですけどね 最初は</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:07:53</span>
<span class='slacklog-text'>その引数すらDIで調達しちゃうイメージ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-06/711433366657_4168974e9eb8448007aa_48.png'>
<span class='slacklog-name'>thara</span>
<span class='slacklog-datetime'>2日 19:09:03</span>
<span class='slacklog-text'>フィールドインジェクションだと、コンストラクタの引数が増える=そのクラスが依存する先が多い、という設計上の問題を感じづらくなるのでJavaコミュニティでも好まれてないと思います</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:09:04</span>
<span class='slacklog-text'>つまりこのどちらでもないってことです？
&amp;gt; * コンストラクタ経由で貰う方法
&amp;gt; * フィールドで貰う方法(アノテーション付けたりする)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-06/711433366657_4168974e9eb8448007aa_48.png'>
<span class='slacklog-name'>thara</span>
<span class='slacklog-datetime'>2日 19:10:13</span>
<span class='slacklog-text'>（少なくとも今は…)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:10:56</span>
<span class='slacklog-text'>時代は変わった…（あるいは私の見ていた Java コミュニティが違っていた…）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 19:11:21</span>
<span class='slacklog-text'>DI、便利だと思いつつ、どういった場合に使うのがベストなのか、あんまわかっていない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:11:28</span>
<span class='slacklog-text'>コンストラクタとしてシンプルな関数を登録しておくんです。

`func() (*T, error)` みたいなね。

そうすると *T か *T が満たす interface を要求したときにこの関数が1度だけ呼び出されるようになってるんです。

で、この関数からDIを呼び出して必要な引数をパッケージした値を要求できる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 19:11:43</span>
<span class='slacklog-text'>そもそもDIあんま使わないので、そこらへんわかっていないのか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:12:10</span>
<span class='slacklog-text'>疎結合を究極的に突き止めていくと、おそらくそれが DI になってます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:12:33</span>
<span class='slacklog-text'>シングルトンの管理とかテスタビリティを高めるためにわりと自然に使ってると思いますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 19:12:39</span>
<span class='slacklog-text'>疎結合 = DI のイメージしかない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 19:13:00</span>
<span class='slacklog-text'>疎結合にする ＝ DIするよ
って解釈しています</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>2日 19:13:34</span>
<span class='slacklog-text'>メッセージパッシングによる疎結合も見たことある</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:13:59</span>
<span class='slacklog-text'>正確に言うと、この登録する関数が必要な場所から必要な方法で好きに引数を集めてこれるってことかな…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:14:49</span>
<span class='slacklog-text'>rubyとかobjectc?w</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:14:50</span>
<span class='slacklog-text'>あーなるほど。
`map[string]func()(*T, error)` みたいなテーブルに登録して by name で呼び出すってことです？

ただそれだと正直フィールドで貰う方法とやってることは変わらないような…？
と思ったけど、明示的に↑のコンストラクタを呼び出すってことですかね？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:15:19</span>
<span class='slacklog-text'>いやいや名前じゃなくて型で呼び出すんですよ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:15:28</span>
<span class='slacklog-text'>DIは単に疎結合というよりは交換可能性をうまく高めておくてことだと思ってます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:15:37</span>
<span class='slacklog-text'>&lt;https://github.com/koron-go/materialize/#gettings-started&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:15:45</span>
<span class='slacklog-text'>↑の例見ていただけると。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:15:57</span>
<span class='slacklog-text'>あ、そうでした。string じゃなかった</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:16:48</span>
<span class='slacklog-text'>&amp;gt; 俺はロガーが欲しい。ロガーを作る処理を本体に書きたくないし、ロガーをどこかで生成して俺のコードに渡すようなコードも書きたくない。俺のコードのインスタンスが死んだらロガーは一緒に消えて欲しいが、もっかい俺のコードのインスタンスが生成された時にさっきのが欲しいか、もう一度作りなおしたのが欲しいかは、のちのち決める。
わがまま言いたい放題やな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:17:49</span>
<span class='slacklog-text'>フィールドでやるやつだとマッピングの振る舞いが暗黙的になっちゃうんですが、この方法だと明示的にどこから取ってくるってのをコードで書くことになるんです。

複数の値をいっぺんに取ってきて1つでも取れなかったらエラー、みたいなのを書きやすくしてます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:18:21</span>
<span class='slacklog-text'>wire は Build で依存関係作ってコマンドで wrapper 吐く感じか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:19:57</span>
<span class='slacklog-text'>実は

`func(mx *materialize.Context) (*T, error)`

っていう関数も登録できてこの mx を通じていい感じに必須で要求したり、無くてもよいよ～ってのを書けるんです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:21:10</span>
<span class='slacklog-text'>交換可能性がテスト用途だけならオーバーキルだと思ってて、またそれ以外で実際に入れ替えることが僕の経歴上にはなかったよ…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:22:38</span>
<span class='slacklog-text'>コード生成方式のwireは型で判別するでコンストラクタにプリミティブ型が渡せないからいちいちaliasをはったりしないといけないところがちょっと面倒</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:23:07</span>
<span class='slacklog-text'>そうなんよねー。DI で抽象化したコード何度か書いたけど、テスト以外で実際にリポジトリを入れ替えた事ってまぁ無いんだよなw Mock くらい？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:23:25</span>
<span class='slacklog-text'>えmockてテスト用途以外で?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:23:34</span>
<span class='slacklog-text'>や、テストで</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:23:34</span>
<span class='slacklog-text'>なるほどなるほど。明示的にやるのはいいですね。
フィールド + アノテーションで暗黙的にやっちゃうと、アノテーションつけ忘れただけでぬるぽったりするので。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:24:43</span>
<span class='slacklog-text'>綺麗になる、テストが楽、がメリットなんだけどそれやる為にだいぶ苦労してる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:25:46</span>
<span class='slacklog-text'>mongoやめてRDBに戻したときにちょっとだけ助かった。ちょっとだけ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:28:15</span>
<span class='slacklog-text'>11行目の mx.Resolve で循環参照が切れる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:29:33</span>
<span class='slacklog-text'>12～14行目の文字列は、ヒント情報。interfaceで要求して被った場合に1つに絞り込むために利用する。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:31:09</span>
<span class='slacklog-text'>一応 Java (というか Spring) の擁護もしておくとｗ
`@Autowired Foo foo;` なフィールドに対して、↑のライブラリと同じように `Foo` を生成するメソッドを指定することはできます。なので「コードで書く」ってのは一応できます。
ヒント情報で渡したり、あと `@Scope(&#34;prototype&#34;)` で注入した親インスタンスの生存期間に合わせて破棄されるとかも指定できます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>2日 19:31:14</span>
<span class='slacklog-text'>Pythonとかだとモンキーパッチでコンストラクタ自体を書き換えてモックを挿入できたりするのでわりとどうとでもなるけどGoはそうもいかないので悩みどころですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:31:51</span>
<span class='slacklog-text'>まぁ単純に KoRoN さんの要件ではそこまで複雑なものは必要ではなかっただけで、「Java でもできる」ってことは重要じゃないんだろうなというのは理解してます。
（逆に too fat なんだろうなと）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:32:33</span>
<span class='slacklog-text'>そうそう。Javaでできることをやりたいんじゃなくて、Goに合った形にしたかったのね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:34:38</span>
<span class='slacklog-text'>Go だと割と自作してフィットする形にするのが最適解なケースは多い感ありますね。
ただそれで DI コンテナ作っちゃうのは腕力ありすぎですがｗ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-06/711433366657_4168974e9eb8448007aa_48.png'>
<span class='slacklog-name'>thara</span>
<span class='slacklog-datetime'>2日 19:34:44</span>
<span class='slacklog-text'>&amp;gt; テスト用途だけならオーバーキル
DIコンテナが出てきた時代はAOPとセットだった気がするので、AOPしなければ利点はだいぶ減ってしまう気がしますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:39:00</span>
<span class='slacklog-text'>いやいやコレが結構シンプルにできてんですよw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:41:19</span>
<span class='slacklog-text'>そういやAOPも、実際何が起こっているのかわかりにくくなっただけで、僕はあんま恩恵を受けられなかったんだよな…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>2日 19:42:25</span>
<span class='slacklog-text'>書くよりも読む(動作を追う)ことが多いからなのかもだけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:44:13</span>
<span class='slacklog-text'>ロギング以外に AOP 使ってるの見たことない…
その癖 AspectJ とかクラスファイル書き換えてまで実現してるし、そこまでして何がやりたいのか全然分からなかった…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-06/711433366657_4168974e9eb8448007aa_48.png'>
<span class='slacklog-name'>thara</span>
<span class='slacklog-datetime'>2日 19:48:01</span>
<span class='slacklog-text'>自分がAOPの価値を感じたのは、ロギングとトランザクション境界を外部から設定できる（または呼び出し元によって動的に変える）ことぐらいですね
今なら高階関数とか別の言語機構で同じようなことが実現できるので、あまり採用するモチベは湧かないですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:50:17</span>
<span class='slacklog-text'>なるほど。トランザクション境界 (`@Transactional` ?) も AOP で実現してたのか。
本当そうなんですよねー &amp;gt;今なら〜</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 19:53:35</span>
<span class='slacklog-text'>ウェブフレームワークのミドルウェアなんかはいい例かも。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:54:07</span>
<span class='slacklog-text'>あぁーなるほど…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:55:20</span>
<span class='slacklog-text'>node の express とか継続っぽいことしてたな (引数の next を呼び出させる)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>2日 19:56:08</span>
<span class='slacklog-text'>(無限に脱線する性格なのでちゃんと Go の話しないと… せっかく &lt;#CGABGC8LA|golang&gt; を求めてきた人がいっぱい join してきてくれたばっかりなのにｗ)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 20:10:36</span>
<span class='slacklog-text'>話ぶった切ってすいません。質問です。
&lt;https://github.com/vikke/go_reflection/blob/master/main.go#L10&gt;
のhogeを文字列でもらった場合に、動的にhogeを作るにはどうしたらよいですか? reflectionにnamespaceやpackageに関するマニュアルを見つけられませんでした。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4a0f2c658a062df722417c9e05dc925a.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-48.png'>
<span class='slacklog-name'>hokorobi</span>
<span class='slacklog-datetime'>2日 20:19:07</span>
<span class='slacklog-text'>&#34;golang.toyko #30 - YouTube&#34; &lt;https://www.youtube.com/watch?v=7YGw-UIkcWw&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 20:20:25</span>
<span class='slacklog-text'>なう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 20:21:38</span>
<span class='slacklog-text'>&amp;gt; のhogeを文字列でもらった場合に、動的にhogeを作るにはどうしたらよいですか? reflectionにnamespaceやpackageに関するマニュアルを見つけられませんでした。
パッケージのDIって感じですか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>2日 20:21:53</span>
<span class='slacklog-text'>アイディアが思いつかない…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4a0f2c658a062df722417c9e05dc925a.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-48.png'>
<span class='slacklog-name'>hokorobi</span>
<span class='slacklog-datetime'>2日 20:24:53</span>
<span class='slacklog-text'>若者が頑張ってると反応してあげたい（おっさん味）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 20:28:38</span>
<span class='slacklog-text'>名前空間と構造体名とメソッド名を外から与えて、メソッドを起動出来ないかなと。
&lt;https://golang.org/pkg/reflect/&gt;
みてるんだけど、それっぽいのにゃい。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>2日 20:35:05</span>
<span class='slacklog-text'>reflect に package を扱うものはなさそうに見えますね。（そうじゃないとバイナリに埋まってないものが参照されうるのでそりゃそうかなとは思いました）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:17:22</span>
<span class='slacklog-text'>できません。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:18:33</span>
<span class='slacklog-text'>唯一やれる方法があるとすれば、&#34;hoge&#34; を貰った瞬間にパッケージ名 `hoge` のソースを生成して `-buildmode=plugin` でコンパイルして `plugin.Open` で読み込むくらいです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 21:19:19</span>
<span class='slacklog-text'>それはトリッキーですね。面白いです。plugin.Openっていうのがあるのですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:19:51</span>
<span class='slacklog-text'>ただし unload は出来ません。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:20:08</span>
<span class='slacklog-text'>あと Windows では動きません。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 21:21:05</span>
<span class='slacklog-text'>pluginってメンテされてるのだろうか。1.8のイメージで止まってる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:23:00</span>
<span class='slacklog-text'>メンテはされてると思いますが、機能的には何も足されてないですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:23:25</span>
<span class='slacklog-text'>使ってるプロダクトはありますけどね。gophernotes とか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>2日 21:24:48</span>
<span class='slacklog-text'>deprecatedではないけど維持はされてる感じかな…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 21:36:06</span>
<span class='slacklog-text'>rubyってエラーがあった場所でreturnしちゃう事多いですけど、Goの作法ってどんな感じですか?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:37:22</span>
<span class='slacklog-text'>自分で early return します。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>2日 21:37:35</span>
<span class='slacklog-text'>例外はありません。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>2日 21:45:08</span>
<span class='slacklog-text'>early returnで良いんですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 00:57:23</span>
<span class='slacklog-text'>Goで作るインタプリタ、なぜこのデータ構造なのか全然わからん</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 00:57:27</span>
<span class='slacklog-text'>難しすぎる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 00:58:22</span>
<span class='slacklog-text'>&lt;https://github.com/skanehira/monkey/blob/master/ast/ast.go#L147-L151&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:02:00</span>
<span class='slacklog-text'>自分の理解力の無さに嘆く</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:02:02</span>
<span class='slacklog-text'>寝よ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:07:02</span>
<span class='slacklog-text'>理解してきた</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:07:04</span>
<span class='slacklog-text'>寝る</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:21:23</span>
<span class='slacklog-text'>&lt;https://ja.m.wikipedia.org/wiki/%E6%9C%A8%E6%A7%8B%E9%80%A0_(%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0)|https://ja.m.wikipedia.org/wiki/%E6%9C%A8%E6%A7%8B%E9%80%A0_(%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0)&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:22:20</span>
<span class='slacklog-text'>まず、JSONのパーサを作るところからやってみようかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:22:38</span>
<span class='slacklog-text'>そしたら、インタプリタのパーサーも理解できる気がしてきた</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 01:23:13</span>
<span class='slacklog-text'>このデータ構造は InfixExpression しか枝になってないですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 01:47:41</span>
<span class='slacklog-text'>そうすね
prefixはオペレーターとleftしかないすね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 09:20:30</span>
<span class='slacklog-text'>goでtemplate method patternもどきすら書けない。うぉおおおぉおぉぉ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>3日 09:23:42</span>
<span class='slacklog-text'>デザパタもGo書くときに邪魔になるものの一つですよねえ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:24:49</span>
<span class='slacklog-text'>言語の構造と方針が違うから、そのままハマるのが少ないってところでしょうかね?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:25:16</span>
<span class='slacklog-text'>理念に近いものならそれなりに翻訳できるものはあると思いますが...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>3日 09:26:12</span>
<span class='slacklog-text'>いろんな見方はあると思うんですが
・言語が違うからうまくハマらない
・そもそも無理にデザパタは当てはめるものでもない
・いい感じにやればそれに近くなるから特に意識する必要がない
とかかなあと…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:27:17</span>
<span class='slacklog-text'>ただ、設計理念の共有のための「パターン」でもあるから
&amp;gt;  いい感じにやればそれに近くなるから特に意識する必要がない
は、若干脳筋的で、それもどうかな、という気がしないでもないw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>3日 09:27:22</span>
<span class='slacklog-text'>知っといて損はないと思うんですけどね。それよかGoに入りてはGoに従う方がよりよく書ける印象。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>3日 09:28:04</span>
<span class='slacklog-text'>デザパタちゃんと使う開発入ったことないから分からないな…共通言語として持った方が開発しやすそう（想像）。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:28:05</span>
<span class='slacklog-text'>まあ実インプリメントの時は、パターンは理念で言語イディオムで適切に実装できることが大事かな、はわかる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 09:28:14</span>
<span class='slacklog-text'>Goにおけるデザインパターンのようなものに従うしかなさそう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 09:29:25</span>
<span class='slacklog-text'>一般的(?)なデザインパターンはオブジェクト指向の世界で生まれたものなので、オブジェクト指向とかけ離れたGoにそのまま適用するのは厳しいのかなって</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:30:32</span>
<span class='slacklog-text'>ですねえ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 09:30:47</span>
<span class='slacklog-text'>設計理念として知っておくと便利なのには同意</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>3日 09:31:52</span>
<span class='slacklog-text'>Goの基本的なパターンこそ大事なんだけど、デザパタやらClean Architectureやらの _バズワード_ に惹かれる人が多いのかな（ド偏見）</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:33:09</span>
<span class='slacklog-text'>まあ、「バズワード」と思って(そのつもりじゃなく、流行りに)寄ってくタイプはだめでしょうかね...
理解しようとして学ぶなら、無理な適用はしないとおもいます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 09:34:31</span>
<span class='slacklog-text'>例えばVisitorパターンってありますが、filepath.Walkなんてそのものな設計してますし</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:35:09</span>
<span class='slacklog-text'>あれは継承というより、インタフェースの実装がされてればできるから、Goでは適用しやすい?という気はする</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 09:35:12</span>
<span class='slacklog-text'>template method pattern は abstruct のアレをイメージされておられるのかな？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 09:36:34</span>
<span class='slacklog-text'>```package main

type Base struct { }

func (b *Base) DoSomething() {
	println(&#34;Yes, We Can!&#34;)
}

type Derived struct {
	Base
}

func (rd *Derived) Say() {
	println(&#34;セイ&#34;)
}


func main() {
	var d Derived

	d.Say()
	d.DoSomething()
}```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 09:43:41</span>
<span class='slacklog-text'>GoF のデザパタ、何にも考えずに写経したのは役に立った気がしますね
Go の interface の使い方、どう使うと辛くなるのか、みたいなのが逆説的に理解できた気がします</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 09:45:20</span>
<span class='slacklog-text'>Visitor であれば go/ast に Walk する、ままなやつもありますね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 09:48:40</span>
<span class='slacklog-text'>GoF、ナニモワカラナイ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 09:49:09</span>
<span class='slacklog-text'>GoF の利</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 09:50:51</span>
<span class='slacklog-text'>&lt;https://github.com/mattn/gof&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:51:05</span>
<span class='slacklog-text'>Go、GoFだぁ～(ちがう)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 09:51:26</span>
<span class='slacklog-text'>GoF、ちょっと古いので現状にはあってない感あります。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:52:05</span>
<span class='slacklog-text'>言語機能の少なさをカバーしてる面もあるので、もうちょっと簡素なベース語を作ってもよさそう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 09:52:14</span>
<span class='slacklog-text'>古いというか、フレームワークなんかに巻き取られてて今知る必要ないよなー的な物もある。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 09:52:43</span>
<span class='slacklog-text'>ただ語彙として知ってないと本読めないときありますよね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:52:53</span>
<span class='slacklog-text'>まあ、素データ構造とコレクションフレームワークの対比みたいなもんで、知識は必要なんだろうけど、それで会話しなくなった単語、みたいなのはありますね(一部)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 09:56:10</span>
<span class='slacklog-text'>継承がいい物じゃないとされてきつつある今だと、いくらか消えそうなやつ(継承に依存したパターン)もありそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 09:57:14</span>
<span class='slacklog-text'>まあ移譲したものをかかえれば同じ、という気もしないでもないですが...ちょっといいわましが変りますもんね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 10:07:47</span>
<span class='slacklog-text'>&lt;https://jp.quora.com/%E4%B8%80%E6%99%82%E6%9C%9F%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%A8%E3%81%84%E3%81%86%E3%82%82&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>3日 10:08:40</span>
<span class='slacklog-text'>いいまとめ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 10:09:10</span>
<span class='slacklog-text'>さすゆぐい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 10:09:54</span>
<span class='slacklog-text'>すぐしたに毛の壁氏が...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 10:16:41</span>
<span class='slacklog-text'>&lt;https://go-review.googlesource.com/c/go/+/226877/&gt; これ便利なやつでは</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 10:24:58</span>
<span class='slacklog-text'>ゲリー、音が...(まだつかったことない)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 10:39:15</span>
<span class='slacklog-text'>デバッグの為にディレクトリを残す仕組みも欲しいな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 10:39:46</span>
<span class='slacklog-text'>と思っていたら issues で bradfitz が os.Exit(1) 書いてて vote down されてたw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 10:52:37</span>
<span class='slacklog-text'>```package main

import (
	&#34;log&#34;
)

type Receiver interface {
	Do()
}

type MyReceiver struct {
}

func (w Receiver) Do() {
	log.Println(&#34;Do&#34;)
}

func main() {
	mr := MyReceiver{}
	&lt;http://mr.Do|mr.Do&gt;()
}```
これって `func (w Receiver) Do() {`で  エラーになるんですけど、Interfaceで受けるって事は出来ないんでしょうか?(まー出来ないからエラーになるんだけど)。どうやるのがGoっぽいですか?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 10:53:46</span>
<span class='slacklog-text'>interface にメソッドの実装はできないんすよ。少し前のJavaもそうだったでしょ?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 10:54:06</span>
<span class='slacklog-text'>interfaceを受け取る ~メソッド~ 関数なら書けるはず。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 10:55:29</span>
<span class='slacklog-text'>上でmattnさんがやってるこれ
&lt;https://vim-jp.slack.com/archives/CGABGC8LA/p1585874193345600&gt;
みたいにやるのがいいのかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 10:55:50</span>
<span class='slacklog-text'>ちゃんと理解してきます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 10:57:34</span>
<span class='slacklog-text'>インターフェースに実装を書くんじゃなくて、レシーバーをインターフェースで指定出来ないかなーと。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 10:58:26</span>
<span class='slacklog-text'>んー意図が伝わらない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 10:59:04</span>
<span class='slacklog-text'>何をしたいのかがわからない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 10:59:40</span>
<span class='slacklog-text'>まず MyReceiver は Do を実装してないので Receiver になってないですよね。そのチェックをコンパイル時にしたいってこと?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 11:00:20</span>
<span class='slacklog-text'>あー、色々と僕が駄目です。出直してきます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 11:07:38</span>
<span class='slacklog-text'>凄い初歩的な事聞きますが、MyReceiverはDoを実装していないという部分なんですが、 `func ( w Receiver) Do() {` で実装しているつもりなんですが、これでは駄目?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 11:08:17</span>
<span class='slacklog-text'>`func (w *MyReceiver) Do() { ...` としたほうが良いです。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 11:09:33</span>
<span class='slacklog-text'>そこを、MyReceiverという構造体では無く interfaceにしたいという話です。interfaceにしたいわけでは無くて、やりたい事は、ダックタイプでDo()が呼べればなんでも良いんですけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 11:09:39</span>
<span class='slacklog-text'>ポイントは2つで、Receiver → MyReceiverにすることとポインタにすること。

ポインタにするのはメモリ効率とかその辺。I/Fで扱うと非ポインタだとboxingが起こるんじゃなかったかな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 11:10:11</span>
<span class='slacklog-text'>その言い方だとやっぱ根本的にI/F理解できてない気がしますね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 11:10:19</span>
<span class='slacklog-text'>やはり。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 11:10:25</span>
<span class='slacklog-text'>出直してきます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 11:17:03</span>
<span class='slacklog-text'>ちょっとサンプル書いたんでこれ実行したり書き換えたりして遊んでみてください。RunでWeb上で実行できるんで。
&lt;https://play.golang.org/p/RTq46_kWqW4&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>3日 11:17:37</span>
<span class='slacklog-text'>FileLogger/ConsoleLogger とかの例を試しに実装してみる。とかのほうが理解しやすそうですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 11:18:51</span>
<span class='slacklog-text'>普通の log.New に os.Stderr を渡すか os.Create() の戻り値を渡すかで説明できちゃうんですけどね。どっちも io.Writer 渡すわけだから。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>3日 11:21:25</span>
<span class='slacklog-text'>自分で書いてみると理解につながるとは思うんですよね。
その場合に Doer で具体的実装は一つだけ、とかを例にしちゃうと理解しづらそうだなあと感じた次第でした。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 11:21:56</span>
<span class='slacklog-text'>マンモスありがとうございます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 12:08:27</span>
<span class='slacklog-text'>Syntax Errorって一番ださいよね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 12:11:15</span>
<span class='slacklog-text'>まぁしゃーないんじゃない?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 12:30:38</span>
<span class='slacklog-text'>それも原因がわからないSyntax Errorはださい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 12:33:03</span>
<span class='slacklog-text'>Syntax Errorからの「コンパイラ壊れてる！！マジ :shit: 」はみんな通った道なのでは[要出典]</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 12:34:02</span>
<span class='slacklog-text'>こういう場合は大体自分が悪い(ごく稀に本当に壊れてることあるけど)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 12:39:49</span>
<span class='slacklog-text'>いや、完全に自分のせいですよ。コンパイラのせいなんて0.0001%の確立では?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/35b032d7b2d4182b0c2de1ef85ba91f2.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png'>
<span class='slacklog-name'>raa0121</span>
<span class='slacklog-datetime'>3日 12:40:48</span>
<span class='slacklog-text'>新しい言語を書き始めてからの数ヶ月とか、逆に Syntax error 祭りでは</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 12:42:33</span>
<span class='slacklog-text'>``` syntax error: non-declaration statement outside function body```
って、なんね。宣言場所間違っとるとね?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 12:43:14</span>
<span class='slacklog-text'>関数の外に非宣言ステートメントがある...?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 12:51:33</span>
<span class='slacklog-text'>hoge := &#34;hoge&#34; を関数の外で書いたとか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 12:56:27</span>
<span class='slacklog-text'>// 俺は正しい!! これは vim のバグに違いない!! -&amp;gt; 私が悪うございました...とか無限回やってる...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 12:58:00</span>
<span class='slacklog-text'>この前やらかした時はバクレポートまで作ってんだよなぁ…提出しなくて本当によかった</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 13:05:03</span>
<span class='slacklog-text'>Rustなんてコンパイラとの戦いが大部分ですね....</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 13:05:44</span>
<span class='slacklog-text'>ある説明見てたけどRustのコンパイラは丁寧で厳しい教師という感じですねえ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-06/711433366657_4168974e9eb8448007aa_48.png'>
<span class='slacklog-name'>thara</span>
<span class='slacklog-datetime'>3日 13:06:33</span>
<span class='slacklog-text'>エラーメッセージがかなり丁寧ですよね。特にライフタイム周り</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 13:07:49</span>
<span class='slacklog-text'>昔はgccとかjvmのホットスポットコンパイラよくバグってた（らしい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 13:08:22</span>
<span class='slacklog-text'>目立っちゃうから、というのもあるかも &amp;gt; コンパイラ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 13:09:00</span>
<span class='slacklog-text'>&lt;https://linux.srad.jp/story/14/07/28/0945215/&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>3日 13:09:45</span>
<span class='slacklog-text'>Ruby の syntax error、tokenizer レベルのエラーがそのままくるのでキビしい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 13:11:38</span>
<span class='slacklog-text'>`$` とか見えるとウッってなるやつ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 13:35:41</span>
<span class='slacklog-text'>&lt;https://github.com/golang/go/commit/dcf0929de6a12103a8fd7097abd6e797188c366d&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 13:35:51</span>
<span class='slacklog-text'>-h が exit(0) する様になった？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>3日 13:36:30</span>
<span class='slacklog-text'>ぽいですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 13:51:08</span>
<span class='slacklog-text'>methodの頭にfuncと書き忘れたという忘れたいミス。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:32:16</span>
<span class='slacklog-text'>はやくこれ進展して欲しい。 &lt;https://github.com/golang/go/issues/35950&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 15:34:35</span>
<span class='slacklog-text'>&lt;https://github.com/golang/go/issues/36982&gt; が欲しい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-03-05/566476208928_88371f1c18cebcd59515_48.jpg'>
<span class='slacklog-name'>yy_yank</span>
<span class='slacklog-datetime'>3日 15:41:32</span>
<span class='slacklog-text'>このチャンネルの過去のやりとり眺めてて思った素朴な疑問なんですが
Goのリフレクションの良い使用例というか、リフレクションを使って上手く書いてる良いライブラリみたいなのありますか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-03-05/566476208928_88371f1c18cebcd59515_48.jpg'>
<span class='slacklog-name'>yy_yank</span>
<span class='slacklog-datetime'>3日 15:42:23</span>
<span class='slacklog-text'>ユニットテストでreflect.DeepEqual書いてるのぐらいしか見たことがない…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 15:42:37</span>
<span class='slacklog-text'>encoding/json とかは使われてますよね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 15:42:51</span>
<span class='slacklog-text'>// たしか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 15:43:20</span>
<span class='slacklog-text'>structを動的に作るんでしたっけ?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>3日 15:44:15</span>
<span class='slacklog-text'>&lt;https://golang.org/src/encoding/json/decode.go&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 15:44:21</span>
<span class='slacklog-text'>んーORM系はreflect駆使しないとできないよね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:44:31</span>
<span class='slacklog-text'>anko という、Go ぽいインタプリタを作ってます。anko から Go のオブジェクトを Go ぽく操作できる様にしてるので vm はフル reflect です。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:44:57</span>
<span class='slacklog-text'>&lt;https://github.com/mattn/anko/&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 15:45:01</span>
<span class='slacklog-text'>ちなみに昨日の koron-go/materialize もリフレクションないと成立しない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-03-05/566476208928_88371f1c18cebcd59515_48.jpg'>
<span class='slacklog-name'>yy_yank</span>
<span class='slacklog-datetime'>3日 15:46:22</span>
<span class='slacklog-text'>あー、なるほどencoding/json
ORM系も確かにありそうです。
そもそもリフレクションが最終手段感があってそういうところで使われることが多そうですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 15:46:47</span>
<span class='slacklog-text'>&lt;https://github.com/koron-go/materialize/blob/cf17f2b04e60328eb42f3ba0691fbce5d812c050/materialize.go#L55&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 15:47:33</span>
<span class='slacklog-text'>言葉で言うと「ライブラリ成立時に取り扱う型について何の前提も持ち込めない」場合はreflectに頼むしかないんですよね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 15:47:40</span>
<span class='slacklog-text'>alecthomas/participleとかも</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 15:47:45</span>
<span class='slacklog-text'>いやコード生成があるか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>3日 15:47:50</span>
<span class='slacklog-text'>動的にオブジェクト(goならstruct)生成のORMやらのバインディングはリフレクションの添加というか、その視点にたって動く機能ですもんね..</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 15:48:12</span>
<span class='slacklog-text'>任意のstructを受け取っていい感じに値を埋める系</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:48:16</span>
<span class='slacklog-text'>struct tag 弄るならいりますね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:48:27</span>
<span class='slacklog-text'>fillin とかも使ってそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:48:53</span>
<span class='slacklog-text'>使ってなかったw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:49:28</span>
<span class='slacklog-text'>あ、僕が思ってたやつと違った。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 15:49:33</span>
<span class='slacklog-text'>文字列なので…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:50:11</span>
<span class='slacklog-text'>誰のだったろう。form の validator みたいな奴を見た事あったけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 15:50:56</span>
<span class='slacklog-text'>jessevdk/go-flagsとかも</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 15:51:16</span>
<span class='slacklog-text'>たぶん Perl の HTML::FillInForm と記憶がグチャになってそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 15:52:42</span>
<span class='slacklog-text'>リフレクションをうまく使うというよりも、リフレクションせざるを得ないという感じなんですよね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 15:55:35</span>
<span class='slacklog-text'>`reflect` `unsafe` は二大要注意パッケージ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 15:58:25</span>
<span class='slacklog-text'>みんGoにもちょっとreflectionの解説がありますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 16:01:07</span>
<span class='slacklog-text'>introduction to black magic in Golang みたいな記事とか本とかないかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:02:39</span>
<span class='slacklog-text'>anko はおそらく reflect のほとんどの機能使ってます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:03:22</span>
<span class='slacklog-text'>```#!anko

var http, ioutil = import(&#34;net/http&#34;), import(&#34;io/ioutil&#34;)

r = http.DefaultClient.Get(&#34;&lt;http://golang.org/&gt;&#34;)
b, _ = ioutil.ReadAll(r[0].Body)
printf(&#34;%s&#34;, toString(b))
r[0].Body.Close()```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/35b032d7b2d4182b0c2de1ef85ba91f2.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png'>
<span class='slacklog-name'>raa0121</span>
<span class='slacklog-datetime'>3日 16:03:26</span>
<span class='slacklog-text'>つまり、anko を読めば reflect マスターになれると</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:03:29</span>
<span class='slacklog-text'>これをスクリプトで動かせる様にしてるので。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-03-05/566476208928_88371f1c18cebcd59515_48.jpg'>
<span class='slacklog-name'>yy_yank</span>
<span class='slacklog-datetime'>3日 16:04:30</span>
<span class='slacklog-text'>おぉ、anko楽しいですね
そしてREADMEの団子がうまそう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:04:44</span>
<span class='slacklog-text'>そんでもって意外と
```#!anko

var http = import(&#34;net/http&#34;)

http.HandleFunc(&#34;/&#34;, func(w, r) {
  w.Write(toByteSlice(&#34;hello world&#34;))
})
http.ListenAndServe(&#34;:8080&#34;, nil)```
このウェブサーバが実用できるくらい速い。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 16:05:49</span>
<span class='slacklog-text'>サーバーに埋め込むために機能制限とかできるのかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:06:31</span>
<span class='slacklog-text'>import できるパッケージを絞る事はできます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:07:01</span>
<span class='slacklog-text'>ガワを生成するコマンドを使えばサードパッケージも import 可。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 16:07:09</span>
<span class='slacklog-text'>よさそう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:07:36</span>
<span class='slacklog-text'>幾らかの業務で使って貰ってるらしいですが、誰もどれで使ってるか教えてくれない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 16:07:38</span>
<span class='slacklog-text'>今僕は雰囲気でGoを書いている。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:08:41</span>
<span class='slacklog-text'>ちなみに anko から色んな物をそぎ落として、式しか書けないやつが kinako</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:08:48</span>
<span class='slacklog-text'>&lt;https://github.com/mattn/kinako&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:09:14</span>
<span class='slacklog-text'>きなこ餅おいしそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-03-05/566476208928_88371f1c18cebcd59515_48.jpg'>
<span class='slacklog-name'>yy_yank</span>
<span class='slacklog-datetime'>3日 16:09:17</span>
<span class='slacklog-text'>わらびもちうまそう(そこじゃない)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 16:09:34</span>
<span class='slacklog-text'>Goは雰囲気でも割と書ける（個人の主観です</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-03-05/566476208928_88371f1c18cebcd59515_48.jpg'>
<span class='slacklog-name'>yy_yank</span>
<span class='slacklog-datetime'>3日 16:11:25</span>
<span class='slacklog-text'>ankoはコマンドでscriptをロードで
kinakoはGoコード内で呼び出して引数で式を渡すみたいな感じですかね？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:13:39</span>
<span class='slacklog-text'>kinako はたしか、どれかの gettext ライブラリの一部に使われてたかな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:14:21</span>
<span class='slacklog-text'>VM ぽい事やるには必須になりますね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:16:12</span>
<span class='slacklog-text'>&lt;https://github.com/itchyny/gojq/blob/f42ed4671c084d0526f03103e0ce6f13f5915e5f/execute.go&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:16:16</span>
<span class='slacklog-text'>結構使っていた。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 16:16:35</span>
<span class='slacklog-text'>kinako parserとastとvmがイイ感じに読みやすいコード量で実装されてて勉強にちょうど良さそう :sasumatsu:</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:17:28</span>
<span class='slacklog-text'>kinako は読みやすい量かもですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:17:59</span>
<span class='slacklog-text'>slim の go 実装も良く似た感じの量。 &lt;https://github.com/mattn/go-slim/&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:19:56</span>
<span class='slacklog-text'>&lt;http://github.com/alecthomas/participle|github.com/alecthomas/participle&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:20:06</span>
<span class='slacklog-text'>チャラっと VM 書くには便利そう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 16:21:00</span>
<span class='slacklog-text'>チャラい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 16:21:27</span>
<span class='slacklog-text'>participle使い始めるとgoyaccの使い方忘れちゃうんですよ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>3日 16:23:47</span>
<span class='slacklog-text'>participle、いずれがっつりパーサ書くときは使おうと心に決めている。まだその機会はない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 16:44:54</span>
<span class='slacklog-text'>gopls、Macで
GO111MODULES on だと プロジェクト内のパッケージに定義ジャンプできない
auto だと 外部ライブラリに定義ジャンプできない
off だと 問題なし
謎すぎる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 16:53:44</span>
<span class='slacklog-text'>GOPATH 内にいます？それとも外です？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 16:54:07</span>
<span class='slacklog-text'>内ですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 17:04:19</span>
<span class='slacklog-text'>一度 $GOPATH/pkg/mod を別名にするかなんかした方がいいかも。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 17:04:45</span>
<span class='slacklog-text'>あとプロジェクト(カレントディレクトリ)直下にある go.mod が正しいかも確認した方がいいかも。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 17:05:38</span>
<span class='slacklog-text'>ちなみに特殊な事してないですよね？
* go へのパスがシンボリックリンク
* GOPATH もしくは GOPATH/src/xxx などがシンボリックリンク</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 17:21:56</span>
<span class='slacklog-text'>余計なのが混じってるなら tidy するなども。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f588267d3e7e23475cad3933226c1e96.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-48.png'>
<span class='slacklog-name'>dictav</span>
<span class='slacklog-datetime'>3日 17:24:20</span>
<span class='slacklog-text'>retag ちょっと使ってます
&lt;https://github.com/sevlyar/retag&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 17:38:23</span>
<span class='slacklog-text'>gopls、ときどきおかしくなるよねw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 18:16:34</span>
<span class='slacklog-text'>ゴリラさん、ずっと gopls 動いてないのでたぶんゴリラさんの環境側に何かあるんだと思ってます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 18:17:21</span>
<span class='slacklog-text'>同じリポジトリで最新の gopls 動かして差が出たので。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 18:43:12</span>
<span class='slacklog-text'>&amp;gt; ちなみに特殊な事してないですよね？
&amp;gt; * go へのパスがシンボリックリンク
&amp;gt; * GOPATH もしくは GOPATH/src/xxx などがシンボリックリンク
何もしていないですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 18:43:34</span>
<span class='slacklog-text'>&amp;gt; ゴリラさん、ずっと gopls 動いてないのでたぶんゴリラさんの環境側に何かあるんだと思ってます。
Mac2台ともに同じ現象にあっています…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 18:43:53</span>
<span class='slacklog-text'>Linuxは大丈夫だったけど、なぜかMacだけ…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 18:44:16</span>
<span class='slacklog-text'>&amp;gt; 余計なのが混じってるなら tidy するなども。
tidy もしました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>3日 18:45:08</span>
<span class='slacklog-text'>&lt;@UDDCM376D&gt;
A プロジェクトのファイルを開き、A プロジェクト内で定義ジャンプや補完をする… ①
A プロジェクトのファイルを一度開き、次に B プロジェクトのファイルを別バッファで開いて、B の中で定義ジャンプや補完をする… ②

場合によっては現状の vim-lsp は ② のケースはうまく扱えないかもしれません。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 18:45:09</span>
<span class='slacklog-text'>goplsの更新、pkgのclean、Goの更新、プラグインの更新
色々やりました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2020-02-25/956372982963_479264cbe2e1ea3d83ee_48.png'>
<span class='slacklog-name'>hrsh7th</span>
<span class='slacklog-datetime'>3日 18:45:17</span>
<span class='slacklog-text'>① がちゃんと動かないとしたらよくわからないですが。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 18:45:44</span>
<span class='slacklog-text'>&amp;gt; ① がちゃんと動かないとしたらよくわからないですが。
①が動かないですね…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>3日 18:59:12</span>
<span class='slacklog-text'>開いた直後はジャンプ効かないですが、すぐ実行しました？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 19:19:12</span>
<span class='slacklog-text'>いえ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 19:19:22</span>
<span class='slacklog-text'>いくら待ってもジャンプできないですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 19:20:34</span>
<span class='slacklog-text'>これはminimal再現vimrc案件では</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>3日 19:26:57</span>
<span class='slacklog-text'>ちょっと帰ってミニマムをやってみます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/f3dd644c8cfb83c94d46cf3c44604cda.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-48.png'>
<span class='slacklog-name'>daisuzu</span>
<span class='slacklog-datetime'>3日 20:29:05</span>
<span class='slacklog-text'>ログを見てみると良いかもしれません
GO111MODULEで動きが変わるということはvim-lspよりはgoplsの方が怪しそうです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 20:44:25</span>
<span class='slacklog-text'>型アサーションでデータが欠落する事ってあります?
```    18: func SendMail(script module.Script, opt interface{}) {
    19:         v, _ := opt.(pb.OrderCancelAtShopParam)
=&amp;gt;  20:         log.Printf(&#34;SendMail: %s&#34;, v.GetScriptName())
    21:
    22:         impl := module.InOutLoggerImpl{}
    23:         &lt;http://impl.In|impl.In&gt;()
    24:         script.Exec(opt)
    25:         impl.Out()
(dlv) p opt
interface {}(*&lt;http://github.com/lifestyledesign/fabric-tokyo-hermes/idl.OrderCancelAtShopParam|github.com/lifestyledesign/fabric-tokyo-hermes/idl.OrderCancelAtShopParam&gt;) *{
        Id: 1,
        ScriptName: &#34;OrderCancelAtShop&#34;,
        XXX_NoUnkeyedLiteral: struct {} {},
        XXX_unrecognized: []uint8 len: 0, cap: 0, nil,
        XXX_sizecache: 0,}
(dlv) p v
&lt;http://github.com/lifestyledesign/fabric-tokyo-hermes/idl.OrderCancelAtShopParam|github.com/lifestyledesign/fabric-tokyo-hermes/idl.OrderCancelAtShopParam&gt; {
        Id: 0,
        ScriptName: &#34;&#34;,
        XXX_NoUnkeyedLiteral: struct {} {},
        XXX_unrecognized: []uint8 len: 0, cap: 0, nil,
        XXX_sizecache: 0,}```
こんな感じで、型アサーションの前後でIdとScriptNameが欠落してしまってます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 20:47:25</span>
<span class='slacklog-text'>`v, _` となってますが、 `v, ok` として `ok` の値を見てもらえますか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 20:48:52</span>
<span class='slacklog-text'>`ok` が `false` なら型アサーションに失敗しています</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 20:51:17</span>
<span class='slacklog-text'>```=&amp;gt;  20:         log.Printf(&#34;ok: %s&#34;, ok)
    21:         log.Printf(&#34;SendMail: %s&#34;, v.GetScriptName())
    22:
    23:         impl := module.InOutLoggerImpl{}
    24:         &lt;http://impl.In|impl.In&gt;()
    25:         script.Exec(opt)
(dlv) p ok
false
(dlv) p v
&lt;http://github.com/lifestyledesign/fabric-tokyo-hermes/idl.OrderCancelAtShopParam|github.com/lifestyledesign/fabric-tokyo-hermes/idl.OrderCancelAtShopParam&gt; {
        Id: 0,
        ScriptName: &#34;&#34;,
        XXX_NoUnkeyedLiteral: struct {} {},
        XXX_unrecognized: []uint8 len: 0, cap: 0, nil,
        XXX_sizecache: 0,}
(```
falseでした。型を思い込んでました。ありがとうございます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>3日 20:51:44</span>
<span class='slacklog-text'>`opt.(*pb.OrderCancelAtShopParam)` ですね、おそらく。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 20:52:20</span>
<span class='slacklog-text'>確かに。。。面目無い。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 20:52:29</span>
<span class='slacklog-text'>ESP力はんぱない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 22:34:43</span>
<span class='slacklog-text'>型アサーションしたあとのOKチェックは必須。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>3日 22:35:12</span>
<span class='slacklog-text'>絶対に型があってると思ってもチェックすべし。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>3日 23:26:41</span>
<span class='slacklog-text'>terraform-provider-azurermのソースがチェックなし型アサーションだらけでうぇーってなる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>3日 23:39:54</span>
<span class='slacklog-text'>循環参照うぇーーーー。これ直すの大変だなー。というポエム。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>4日 11:34:42</span>
<span class='slacklog-text'>sliceのinsert、頭の良さを感じた
&lt;https://github.com/golang/go/wiki/SliceTricks#insert&gt;

``` a = append(a[:i], append([]T{x}, a[i:]...)...)```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 11:45:06</span>
<span class='slacklog-text'>なんとなく遅そう。(要検証)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 11:48:06</span>
<span class='slacklog-text'>「Go は任意型の追加とか苦手でしょ」の反論の為に書かれてるものが混じってそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 15:57:38</span>
<span class='slacklog-text'>&lt;https://twitter.com/mattn_jp/status/1246331001476804609&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:13:29</span>
<span class='slacklog-text'>ちょっと間違っててこそっと直した。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>4日 16:16:27</span>
<span class='slacklog-text'>そこまで変わらんかった…
```/private/tmp go test -bench .
goos: darwin
goarch: amd64
pkg: tmp
BenchmarkAppend-16         97662             11558 ns/op
BenchmarkNormal-16        113486             10220 ns/op```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:17:12</span>
<span class='slacklog-text'>なんだろう。Windows なんか違うんかな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:17:46</span>
<span class='slacklog-text'>あ、StopTimer 入ってない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>4日 16:18:26</span>
<span class='slacklog-text'>ん～</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:18:49</span>
<span class='slacklog-text'>なおし。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>4日 16:18:53</span>
<span class='slacklog-text'>2つ疑問があって、最初見た時に記事にあったベンチ結果が消えたのと、あとNormalのほうなんでcopyつかわないの?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>4日 16:18:55</span>
<span class='slacklog-text'>```copy(output, input[:n])
copy(output[n:], insert)
copy(output[n+len(insert):], input[n:])```
これはどうだろう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:20:14</span>
<span class='slacklog-text'>そもれ良さそう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:21:13</span>
<span class='slacklog-text'>```BenchmarkAppend-8          42700             26185 ns/op
BenchmarkNormal-8          70170             18005 ns/op
BenchmarkCopy-8            90902             15787 ns/op```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:23:13</span>
<span class='slacklog-text'>更新した。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>4日 16:24:50</span>
<span class='slacklog-text'>```BenchmarkAppend-16         99148             12840 ns/op
BenchmarkNormal-16        120246             10274 ns/op
BenchmarkCopy-16          195975              5688 ns/op```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:25:44</span>
<span class='slacklog-text'>なんの差だろう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:26:15</span>
<span class='slacklog-text'>測り直すたびに変わる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:26:19</span>
<span class='slacklog-text'>```BenchmarkAppend-8          35395             31836 ns/op
BenchmarkNormal-8          61192             21202 ns/op
BenchmarkCopy-8           100820             14641 ns/op```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>4日 16:26:49</span>
<span class='slacklog-text'>いずれにせよ みんな copy 使おう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 16:26:57</span>
<span class='slacklog-text'>キャッシュメモリとかが響く?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:26:57</span>
<span class='slacklog-text'>そうね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 16:27:10</span>
<span class='slacklog-text'>まあcopyですよね...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:28:37</span>
<span class='slacklog-text'>copy は気を付けないと突き抜けるケースがあるので少しアレ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:29:10</span>
<span class='slacklog-text'>len 以上、cap 以下にコピーしうるケース。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 16:29:34</span>
<span class='slacklog-text'>unmanageな機能ってところですか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:29:56</span>
<span class='slacklog-text'>コアチームも稀にやってしまう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>4日 16:31:09</span>
<span class='slacklog-text'>insertはループ回してやるかなあ、sliceTrickでも書けるんですけどやっぱ読みづらいし…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>4日 16:31:45</span>
<span class='slacklog-text'>unshiftくらいまでならappendでやるけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:32:16</span>
<span class='slacklog-text'>少なくとも cap がデカくなる append のハックは無いすね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 16:35:05</span>
<span class='slacklog-text'>insertが頻発する場合は、array-link-listなやつを作っちゃって、ですかねえ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 16:37:55</span>
<span class='slacklog-text'>動的型付け言語触る人達は Go の配列やスライスがメモリブロックだって意識が少し薄いかもしれない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>4日 17:58:08</span>
<span class='slacklog-text'>ベンチマークあざます
勉強になりました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>4日 18:06:27</span>
<span class='slacklog-text'>&amp;gt; メモリブロックだって意識が少し薄いかも

すごく健康的だ……[][]を見ただけでメモリ配列が気になって夜も眠れなくなるので……</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 18:17:35</span>
<span class='slacklog-text'>C言語やってる人だと配列が2次元にも3次元にも見えるので便利。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>4日 18:18:41</span>
<span class='slacklog-text'>逆に最終的なフラットなメモリ空間を想像して齟齬がでたりしてw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>4日 18:42:28</span>
<span class='slacklog-text'>&amp;gt; 動的型付け言語触る人達は Go の配列やスライスがメモリブロックだって意識が少し薄いかもしれない。
メモリブロック…？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>4日 21:46:24</span>
<span class='slacklog-text'>例えば Ruby だと `a = [1, 2, 3]` ってやったら数値が3つで 8 バイト x 3 = 24 バイト取ってそうに見えるけど、実際は型の情報も持ってるし `a[1] = &#34;foo&#34;` ってやったらオブジェクトもリンクされる。つまりメモリが直列じゃないんですよね。Go だと `[500]byte` は 500 バイトなんですよね。1要素に 1 バイト以上の物は突っ込めない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>5日 17:01:53</span>
<span class='slacklog-text'>interfaceと実装は同じpackageじゃないと駄目。覚えた。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-02-22/558858702327_2437d40cd696c208a5ab_48.png'>
<span class='slacklog-name'>tennashi</span>
<span class='slacklog-datetime'>5日 17:12:26</span>
<span class='slacklog-text'>そんなことはないですよ
&lt;https://golang.org/pkg/io/#Reader&gt;
&lt;https://golang.org/pkg/bytes/#Buffer.Read&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>5日 17:19:12</span>
<span class='slacklog-text'>あれ? さっき書いてて、同じパッケージにしてねってメッセージが出たんだが。幻?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/488605d0090951445806a09e3f2c4541.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-48.png'>
<span class='slacklog-name'>iwata</span>
<span class='slacklog-datetime'>5日 17:23:25</span>
<span class='slacklog-text'>unexportedだったとか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5caaa467a1f7be2b0276c545ad675cbe.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-48.png'>
<span class='slacklog-name'>vikke</span>
<span class='slacklog-datetime'>5日 17:25:26</span>
<span class='slacklog-text'>&lt;https://qiita.com/Yarimizu14/items/e93097c4f4cfd5468259&gt; な話?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 21:16:02</span>
<span class='slacklog-text'>Linuxbrewが思うように動かなくて怒りのあまり作ってしまった</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 21:16:03</span>
<span class='slacklog-text'>&lt;https://qiita.com/kyoh86/items/f5e007bc004c34b2d314&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>5日 21:17:15</span>
<span class='slacklog-text'>怒り駆動開発わかる</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 21:20:19</span>
<span class='slacklog-text'>多分同じ時間使えばlinuxbrew動いたんですけどね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 21:20:41</span>
<span class='slacklog-text'>こうしてまた訳のわからんオレオレツールが爆誕するのだ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>5日 22:11:30</span>
<span class='slacklog-text'>good</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>5日 22:11:51</span>
<span class='slacklog-text'>しかしlinuxbrewがうまくいかないと、どうしました?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>5日 22:13:06</span>
<span class='slacklog-text'>僕はこういうツールの名前自体を忘れてしまう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 22:30:09</span>
<span class='slacklog-text'>なんかいい名前がアレば変えようと思ってます笑</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 22:30:26</span>
<span class='slacklog-text'>godownloaderとかghgとか取られちゃってるんで、どうすっかなーという気持ち</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>5日 22:32:09</span>
<span class='slacklog-text'>5getter (いま5chだから) はあれですね...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 22:33:56</span>
<span class='slacklog-text'>そういや不思議と数字から始めるコマンドって発想がなかったですね…なるほど</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>5日 22:35:16</span>
<span class='slacklog-text'>2to3</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>5日 22:36:04</span>
<span class='slacklog-text'>7z</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 22:44:20</span>
<span class='slacklog-text'>たしかに</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>5日 22:46:10</span>
<span class='slacklog-text'>babelも昔は数字ネームだったような</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>5日 22:47:11</span>
<span class='slacklog-text'>ちなみにlinuxbrewが動かなかったのは、インストールの段階でrubyの何かのエラーが出た瞬間、僕のrubyトラウマ的事情で深堀りを諦めてしまっただけです</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>5日 22:47:37</span>
<span class='slacklog-text'>手動インストールしたほうがよかったかもですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>5日 22:48:23</span>
<span class='slacklog-text'>あー、でも今はbashインストーラだから、その後の段階かもしれないですし、ちょっと面倒ですね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>5日 22:48:38</span>
<span class='slacklog-text'>Goも昔は数字ネーム。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-08-09/721207338820_626bbc95c10c7b6c7738_48.png'>
<span class='slacklog-name'>eihigh</span>
<span class='slacklog-datetime'>5日 22:49:33</span>
<span class='slacklog-text'>&amp;gt; 今はbashインストーラ
いったい何nyさんの偉業なんだ…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>5日 23:48:25</span>
<span class='slacklog-text'>&lt;https://twitter.com/mattn_jp/status/1246801704634306563&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>5日 23:48:49</span>
<span class='slacklog-text'>何ny さんが欲しいって言ってたやつ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/35b032d7b2d4182b0c2de1ef85ba91f2.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png'>
<span class='slacklog-name'>raa0121</span>
<span class='slacklog-datetime'>6日 00:33:41</span>
<span class='slacklog-text'>&lt;https://gobinaries.com/&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/35b032d7b2d4182b0c2de1ef85ba91f2.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png'>
<span class='slacklog-name'>raa0121</span>
<span class='slacklog-datetime'>6日 00:34:13</span>
<span class='slacklog-text'>curl と sh だけあれば動くやつ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/31d1a776c4f467d26bded3719cba2652.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-48.png'>
<span class='slacklog-name'>Hajime Hoshi</span>
<span class='slacklog-datetime'>6日 01:03:07</span>
<span class='slacklog-text'>最近 go install しないでなるべく go.mod 有効範囲内で go run している</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/9162cc079f6266ebd22e421799673eaf.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-48.png'>
<span class='slacklog-name'>kyoh86</span>
<span class='slacklog-datetime'>6日 07:33:21</span>
<span class='slacklog-text'>gobinaries便利そうですよねー。
go向きじゃないツールの案内にはいい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 07:43:16</span>
<span class='slacklog-text'>tj 氏、昔から有名人なのでまぁ大丈夫と思うけど僕はこういうの「知らない人からお菓子貰っちゃいけません」みたいな自制力が働く。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>6日 08:41:52</span>
<span class='slacklog-text'>とはいえ、特にCIなら、都度コンンパイルよりはプリビルドバイナリだよな、というのもなきにしもあらず..</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>6日 10:15:25</span>
<span class='slacklog-text'>パイプでshに流し込むやつ 基本的にいつも中身をチェックしてる。
CI上でもteeとかでstderrなんかにも流すようにしたりset -xとかしたほうがいいのかな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>6日 13:11:29</span>
<span class='slacklog-text'>&lt;#CGZTGR6E6|javascript&gt; でASI (automatic semicolon insertion) が話題になっているけれど、Go言語も実はASIは行われている (JavaScriptと違ってむしろセミコロン省略が推奨される)。&lt;https://golang.org/ref/spec#Blocks&gt; を見ると `StatementList = { Statement &#34;;&#34; } .` となっており、ここに改行がセパレーターとして使えるという記述はない。セミコロン挿入のルールは &lt;https://golang.org/ref/spec#Semicolons&gt; 。このルールが頭に入っていると以下のようなコードがなぜコンパイルできないのかが理解できる (そしてJavaScriptのASIルールとの違いも感じられる)。
```x := &#34;x&#34;
	+ &#34;y&#34;
switch strings.ToUpper(x)
{
	case &#34;XY&#34;:
		println(x)
}```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>6日 13:52:17</span>
<span class='slacklog-text'>gofmt するとこうなった。なるほど
```	x := &#34;x&#34;
	+&#34;y&#34;
	switch strings.ToUpper(x); {
	case &#34;XY&#34;:
		println(x)
	}```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/5fdf83c448b8503add52517c7de0e3cc.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-48.png'>
<span class='slacklog-name'>tyru</span>
<span class='slacklog-datetime'>6日 13:52:58</span>
<span class='slacklog-text'>基本的に :w 時に gofmt かけるようにしてるので知らなかった</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>6日 17:20:40</span>
<span class='slacklog-text'>retryableなhttp clientでよく使われているのって
- hashicorp/go-retryablehttp
- gojektech/heimdall
とかですかね。
自前で実装してもいいけどエラーハンドリングとbodyのio.Readerのところちょっと工夫しないといけなさそうなで参考になりそうな実装を探してます。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2017-12-09/284380828226_585d265f54113004e478_48.jpg'>
<span class='slacklog-name'>dohq</span>
<span class='slacklog-datetime'>6日 17:53:57</span>
<span class='slacklog-text'>&lt;https://github.com/cenkalti/backoff&gt;
もなんかで見た記憶ありますね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:02:25</span>
<span class='slacklog-text'>&lt;https://github.com/shogo82148/go-retry&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:02:54</span>
<span class='slacklog-text'>&lt;https://github.com/Songmu/retry&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:02:59</span>
<span class='slacklog-text'>クライアントではないけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:15:11</span>
<span class='slacklog-text'>もひとつ
&lt;https://github.com/lestrrat-go/backoff&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>6日 18:15:50</span>
<span class='slacklog-text'>リポジトリでわかるとはいえ、かぶりまくり</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:17:36</span>
<span class='slacklog-text'>現存システムに近い作りになってるでしょうし、少しずつ違うんでしょうな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:18:35</span>
<span class='slacklog-text'>&lt;https://twitter.com/xatierlikeLee/status/1247069907813937160&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>6日 18:18:50</span>
<span class='slacklog-text'></span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:18:52</span>
<span class='slacklog-text'>ぜんぜんかわらない...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2017-12-09/284380828226_585d265f54113004e478_48.jpg'>
<span class='slacklog-name'>dohq</span>
<span class='slacklog-datetime'>6日 18:19:05</span>
<span class='slacklog-text'>どういうことなの…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>6日 18:21:21</span>
<span class='slacklog-text'>ぜんぜんわからない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:25:49</span>
<span class='slacklog-text'>アカウント名、日本語だし聞いてみるのもいいかも。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/35b032d7b2d4182b0c2de1ef85ba91f2.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>6日 18:27:00</span>
<span class='slacklog-text'></span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/35b032d7b2d4182b0c2de1ef85ba91f2.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png'>
<span class='slacklog-name'>raa0121</span>
<span class='slacklog-datetime'>6日 18:27:10</span>
<span class='slacklog-text'>excite もわからん…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:28:06</span>
<span class='slacklog-text'>これ、deepl の訳とか信じてしまうと下手すると事故るでw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/35b032d7b2d4182b0c2de1ef85ba91f2.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png'>
<span class='slacklog-name'>raa0121</span>
<span class='slacklog-datetime'>6日 18:29:18</span>
<span class='slacklog-text'>ops → oppai …？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:30:30</span>
<span class='slacklog-text'>中国語は一度英語に変換してから日本語に変換するとうまく行く、という話を昔聞いた事があるのでやってみました。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>6日 18:30:33</span>
<span class='slacklog-text'></span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:30:38</span>
<span class='slacklog-text'>中国語なにも分からない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:34:48</span>
<span class='slacklog-text'>聞いた。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>6日 18:39:40</span>
<span class='slacklog-text'>出來 (chūlái) → 粗乃 (cūnǎi) なのかな？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>6日 18:45:40</span>
<span class='slacklog-text'>中国語分かる ~人~ ゴリラに翻訳してもらうとよさそう &lt;@UDDCM376D&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>6日 18:46:27</span>
<span class='slacklog-text'>(((プロフ見たところ単に好きなだけな気もする)))</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:47:44</span>
<span class='slacklog-text'>えっ。質問してしまった。そういう返事が返ってきた時にどう返せばいいの...</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2015-01-15/3417067010_04a676b32692fb2507e1_48.jpg'>
<span class='slacklog-name'>thinca</span>
<span class='slacklog-datetime'>6日 18:48:18</span>
<span class='slacklog-text'>日本にもこういう人いるからなぁ。そういう可能性ありそう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 18:49:09</span>
<span class='slacklog-text'>つらい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>6日 18:58:53</span>
<span class='slacklog-text'>mattnさん、中国でも神様認定されてるのか</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>6日 19:34:46</span>
<span class='slacklog-text'>お、いろいろ紹介していただいてありがとうございます</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 20:52:56</span>
<span class='slacklog-text'>&lt;https://twitter.com/xatierlikeLee/status/1247125215802322944?s=20|https://twitter.com/xatierlikeLee/status/1247125215802322944?s=20&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>6日 20:53:06</span>
<span class='slacklog-text'>中国語ぜんぜん分からない。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>6日 21:15:45</span>
<span class='slacklog-text'>ぼくも全然分からない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>6日 23:38:48</span>
<span class='slacklog-text'>もっとGoに詳しくなりたい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>6日 23:38:57</span>
<span class='slacklog-text'>もっとGo書けるようになりたい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>6日 23:39:09</span>
<span class='slacklog-text'>そんな想いが溢れる深夜23時</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 01:00:49</span>
<span class='slacklog-text'>Pratt、少し仲良くなれた気がした</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 01:01:21</span>
<span class='slacklog-text'>パーサのとこ、理解しつつある</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 01:01:34</span>
<span class='slacklog-text'>少しだけ成長した気がした</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 07:58:37</span>
<span class='slacklog-text'>:goodpoem:</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 08:57:38</span>
<span class='slacklog-text'>パーサの動き、少しずつわかってきたけど、どうその実装に至ったのか、まだ良くわかっていない</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 08:57:57</span>
<span class='slacklog-text'>そこさえ理解できれば、応用ができるようになるはず</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 09:06:02</span>
<span class='slacklog-text'>&lt;http://logic.cs.tsukuba.ac.jp/ppl2016/slides/visual_parsing.pdf|http://logic.cs.tsukuba.ac.jp/ppl2016/slides/visual_parsing.pdf&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-03-19/331496519296_b6fceab653cf61d7dd8b_48.png'>
<span class='slacklog-name'>kuu</span>
<span class='slacklog-datetime'>7日 09:10:11</span>
<span class='slacklog-text'>とてもいい資料だ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 09:22:55</span>
<span class='slacklog-text'>ね、いい資料。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 09:26:28</span>
<span class='slacklog-text'>ぼくにはまだ難しい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 09:26:58</span>
<span class='slacklog-text'>Prattのところな、イメージはできました</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-09-19/766087996341_c4b0930af904f66d8057_48.png'>
<span class='slacklog-name'>johejo</span>
<span class='slacklog-datetime'>7日 09:45:09</span>
<span class='slacklog-text'>大学でこの手の単位ちゃんと取ったはずなのに何も覚えてない....</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 09:47:32</span>
<span class='slacklog-text'>その辺を学ぶの、言語を作るがゴールなのであれば若干遠回りな感じもする。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 09:47:58</span>
<span class='slacklog-text'>いっそ BNF 学んで感触つかむってのもいいかも。(ここは意見が割れるかも)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 09:52:23</span>
<span class='slacklog-text'>その辺行けたらたぶん vimlparser にコントリビュートできますね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 10:19:41</span>
<span class='slacklog-text'>これめちゃくちゃ良い資料だな…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 10:20:16</span>
<span class='slacklog-text'>ただ初学者には図の意味からしてわからんから、解説必須な感じ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2019-06-23/667212021009_557c3073c5b377011dbb_48.png'>
<span class='slacklog-name'>ゴリラ</span>
<span class='slacklog-datetime'>7日 10:24:05</span>
<span class='slacklog-text'>&amp;gt; いっそ BNF 学んで感触つかむってのもいいかも。(ここは意見が割れるかも)
BNFはなんとなく読めるくらいですね
それをコードに落とし込むってところが全然まだまだですね…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 11:40:59</span>
<span class='slacklog-text'>そういえば↑の tj が更改してる Go のバイナリを作ってくれる奴、CPU 依存な奴はどうなるんだろう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/e374ddea34651a9a43de332bfcba64a3.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-48.png'>
<span class='slacklog-name'>itchyny</span>
<span class='slacklog-datetime'>7日 16:45:35</span>
<span class='slacklog-text'>&lt;https://github.com/golang/go/issues/38287&gt; なんだろう？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:11:24</span>
<span class='slacklog-text'>ほえー。go1.13 から go1.14 にそんな変更がみあたらん。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:11:51</span>
<span class='slacklog-text'>overwrite の場合に限った話ぽいけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:29:37</span>
<span class='slacklog-text'>ん？ `MoveFileEx(from, to, MOVEFILE_REPLACE_EXISTING)` が RO の時に false 返るんやけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:30:06</span>
<span class='slacklog-text'>これもしかして以前は `chmod +w` みたいな事してたんとちゃうか。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:31:14</span>
<span class='slacklog-text'>古いのすぐ見れるけど、どこみればええの?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:33:48</span>
<span class='slacklog-text'>os.Remove の呼び出しから先は見たので ioutil.WriteFile の perm がちゃんと使われていたかどうか、くらいかなぁ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:34:07</span>
<span class='slacklog-text'>あ、いや。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:34:25</span>
<span class='slacklog-text'>まずは</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:34:38</span>
<span class='slacklog-text'>まったくおなじだったわ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:34:51</span>
<span class='slacklog-text'>```package main_test

import (
        &#34;io/ioutil&#34;
        &#34;os&#34;
        &#34;testing&#34;
)

func TestRenameRO(t *testing.T) {
        os.Remove(&#34;a&#34;)
        os.Remove(&#34;b&#34;)
        defer os.Remove(&#34;a&#34;)
        defer os.Remove(&#34;b&#34;)

        if err := ioutil.WriteFile(&#34;a&#34;, []byte(&#34;some data&#34;), 0644); err != nil { // rw
                t.Fatal(err)
        }
        if err := ioutil.WriteFile(&#34;b&#34;, []byte(&#34;some data&#34;), 0444); err != nil { // ro
                t.Fatal(err)
        }
        if err := os.Rename(&#34;a&#34;, &#34;b&#34;); err != nil {
                t.Error(err)
        }
}```</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:35:00</span>
<span class='slacklog-text'>これ go1.13 で通りますか？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:36:37</span>
<span class='slacklog-text'>ioutil.WriteFile が perm ちゃんと設定できてなかった、みたいな方が濃厚な気もするけど。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:36:59</span>
<span class='slacklog-text'>通るわw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:37:21</span>
<span class='slacklog-text'>まじかー</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:37:36</span>
<span class='slacklog-text'>でねdefer消すとbだけ残る</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:37:42</span>
<span class='slacklog-text'>ほう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:37:50</span>
<span class='slacklog-text'>1.14にしてやってみるね</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:39:12</span>
<span class='slacklog-text'>1.14.1 だと a, b両方残って b はreadonlyっぽい</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:40:05</span>
<span class='slacklog-text'>Go まったく使わず C言語で
```touch a b
chmod -w b```
(これは msys2 で)
して
```#include &amp;lt;windows.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;

int
main() {
  printf(&#34;%d\n&#34;, MoveFileExW(L&#34;a&#34;, L&#34;b&#34;, MOVEFILE_REPLACE_EXISTING));
  printf(&#34;%d\n&#34;, GetLastError());
  return 0;
}```
実行したら 0 2 なんす。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:40:21</span>
<span class='slacklog-text'>なので今の Go の動きは書いてある通りに動いてる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:40:38</span>
<span class='slacklog-text'>ふむ。やっぱ 1.13.9 だと、b が書き込み可能で残ってる。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:40:56</span>
<span class='slacklog-text'>ioutil.WriteFileのpermがちゃんと動いてなかった説濃厚</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:40:57</span>
<span class='slacklog-text'>書き込み可能な a が b にリネームされたからかと。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:41:15</span>
<span class='slacklog-text'>つまりそういう事ですかね &amp;gt; 濃厚</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:41:32</span>
<span class='slacklog-text'>Rename も defer も消したら両方残るんじゃないすかね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:41:41</span>
<span class='slacklog-text'>でそのファイルモードが見たいす。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:41:47</span>
<span class='slacklog-text'>go1.13 の。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:42:01</span>
<span class='slacklog-text'>えっと両方とも書き込み可能で作成されてたわ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:42:06</span>
<span class='slacklog-text'>スクショ要る?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:42:20</span>
<span class='slacklog-text'>あ、やっぱり WriteFile が失敗してたって話か。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:42:28</span>
<span class='slacklog-text'>ええ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:42:39</span>
<span class='slacklog-text'>っていうか書き込み不可だと、os.Removeは失敗しますのう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:47:26</span>
<span class='slacklog-text'>あれ? 1.13.9 の syscall/syscall_windows.go の Open が perm 使ってないよ?w</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:48:03</span>
<span class='slacklog-text'>`h, e := CreateFile(pathp, access, sharemode, sa, createmode, FILE_ATTRIBUTE_NORMAL, 0)` こうなってるw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'></span>
<span class='slacklog-datetime'>7日 17:48:24</span>
<span class='slacklog-text'>一方で1.14.1 はこう</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:48:33</span>
<span class='slacklog-text'>これはワロスw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:50:32</span>
<span class='slacklog-text'>&lt;https://github.com/golang/go/commit/16f0f9c8e1e767d10d483939981e3b2242554c33&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:50:36</span>
<span class='slacklog-text'>これっぽい気がする。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:51:29</span>
<span class='slacklog-text'>side effect だなこれ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:52:35</span>
<span class='slacklog-text'>コミットメッセージに悪かったのが直ったって書いてあるしな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:53:41</span>
<span class='slacklog-text'>それですなw</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:54:07</span>
<span class='slacklog-text'>問題があるとすると os.Remove() がREADONLYファイルに失敗することかも。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:54:33</span>
<span class='slacklog-text'>それはそれでなんかあった気がする。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:56:35</span>
<span class='slacklog-text'>あ、あってたわ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:56:36</span>
<span class='slacklog-text'>&lt;https://github.com/golang/go/issues/26295&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:57:01</span>
<span class='slacklog-text'>Windows の DeleteFile って readonly だとエラーになるんですよね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:57:36</span>
<span class='slacklog-text'>&lt;https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-deletefilea&gt;
&amp;gt; To delete a read-only file, first you must remove the read-only attribute.</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:57:47</span>
<span class='slacklog-text'>ひどい仕様です。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 17:58:35</span>
<span class='slacklog-text'>ディレクトリを一括で消してる最中に別の要因で消せなくなった際に元に戻せないなら 26295 はマージすべきじゃない、みたいな話だったと思う。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 17:59:44</span>
<span class='slacklog-text'>エクスプローラーからだと消せるんだけど…shell32.dllが頑張ってんのか…</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:01:39</span>
<span class='slacklog-text'>現状 Windows でも同じ様にちゃんと RO になる可能性のあるファイルを消すなら os.Chmod で +w してから os.Remove しないといけないって話になってしまう。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 18:03:15</span>
<span class='slacklog-text'>OSの差異だから、os.Removeの仕様としてやってくれると助かるのは助かりますねぇ。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:03:40</span>
<span class='slacklog-text'>そうすね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>7日 18:04:17</span>
<span class='slacklog-text'>ちなみにですが、逆にUnixだとディレクトリのパーミッションチェックとかどうなんでしょう?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/4b5a6f711a4e22e617b74058239ade53.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png'>
<span class='slacklog-name'>koron</span>
<span class='slacklog-datetime'>7日 18:04:21</span>
<span class='slacklog-text'>事前にチェックしてないなら、やってみてエラー見てos.Chmod(+w)ケースかな</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:10:22</span>
<span class='slacklog-text'>いややっとるな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:10:41</span>
<span class='slacklog-text'>&lt;https://github.com/mattn/go/blob/2fbca94db7e14fc1d18162cd203d7afc19b520e8/src/os/file_windows.go#L302&gt;</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:10:59</span>
<span class='slacklog-text'>これが機能しとらん。(僕のアイコン出てきてビビった時の顔)</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:11:28</span>
<span class='slacklog-text'>この条件が ATTRIBUTE_NORMAL でもやらんといかん。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/7817559eedcf07a777dbf9dd734cc0b1.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-48.png'>
<span class='slacklog-name'>k-takata</span>
<span class='slacklog-datetime'>7日 18:40:16</span>
<span class='slacklog-text'>ディレクトリの場合にはREADONLYビットを落としてリトライはしないのかな？</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:41:11</span>
<span class='slacklog-text'>ディレクトリの場合は RemoveDirectory 使ってるんですよね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:41:49</span>
<span class='slacklog-text'>そっちはたしか ro を消せた気が。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:43:00</span>
<span class='slacklog-text'>いや、このコードは中のファイルが ro の可能性あるから「無理だって」話かな。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:44:24</span>
<span class='slacklog-text'>一応 CL 投げた。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:47:41</span>
<span class='slacklog-text'>前々関係ないけど「プログラミング言語大全」の献本が飛んでくる事になった。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 18:48:11</span>
<span class='slacklog-text'>ﾀﾀﾞ読みｻｲｺｰ</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/7817559eedcf07a777dbf9dd734cc0b1.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-48.png'>
<span class='slacklog-name'>k-takata</span>
<span class='slacklog-datetime'>7日 18:54:32</span>
<span class='slacklog-text'>RemoveDirectoryもro消せなかったような。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://secure.gravatar.com/avatar/7817559eedcf07a777dbf9dd734cc0b1.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-48.png'>
<span class='slacklog-name'>k-takata</span>
<span class='slacklog-datetime'>7日 18:57:57</span>
<span class='slacklog-text'>しかし、Unix系はファイル・ディレクトリ自身ではなく、それがあるディレクトリがroだと消せないという動きだから、動作が違ってややこしい。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 20:11:13</span>
<span class='slacklog-text'>ですね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>7日 21:26:10</span>
<span class='slacklog-text'>ですねえ
そしてもしかして誤解されてるかもですが、「Unix系のファイル削除で、その親のディレクトリのパーミッション不足の時の動作はどうなんだろう」だったんです...とはいえたぶん考慮されてるかな?</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-07-31/407982080133_30e238cd92e6c88883f9_48.png'>
<span class='slacklog-name'>mattn</span>
<span class='slacklog-datetime'>7日 21:27:47</span>
<span class='slacklog-text'>Windows の場合はどちみちディレクトリじゃなくファイルの権限変えていかないと消せないし、その途中でエラーが発生する可能性もあるので、そうなると元に戻すの大変なんすよね。</span>
</span>
<span class='slacklog-message'>
<img class='slacklog-icon' src='https://avatars.slack-edge.com/2018-05-31/373472791093_ed16847a152da533e013_48.png'>
<span class='slacklog-name'>tsuyoshi_cho</span>
<span class='slacklog-datetime'>7日 21:31:50</span>
<span class='slacklog-text'>たしかに</span>
</span>
{% endraw %}
