[{"client_msg_id":"f563f89e-4358-426f-b9f4-f32ff7896c50","type":"message","text":"基本的に真面目なコードでは `log.Fatal` は呼ばない。","user":"U06BRP8VD","ts":"1585445126.234800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"xe9","elements":[{"elements":[{"text":"基本的に真面目なコードでは ","type":"text"},{"style":{"code":true},"text":"log.Fatal","type":"text"},{"text":" は呼ばない。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b33d7fe2-9504-415e-aa5d-c021815e4797","type":"message","text":"`panic()` も使わない。","user":"U06BRP8VD","ts":"1585445133.235100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"2wAw","elements":[{"elements":[{"style":{"code":true},"text":"panic()","type":"text"},{"text":" も使わない。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"wakaru","users":["UEACRCY0Z"],"count":1}]},{"client_msg_id":"4d2a90ca-5f12-4ba6-912a-44111debc3d1","type":"message","text":"とあるGraphQLのライブラリが `panic()` 前提で書かれてて頭を抱えたのがついこの間の話w","user":"U06BRP8VD","ts":"1585445161.235800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"P7d","elements":[{"elements":[{"text":"とあるGraphQLのライブラリが ","type":"text"},{"style":{"code":true},"text":"panic()","type":"text"},{"text":" 前提で書かれてて頭を抱えたのがついこの間の話w","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"sorena","users":["UKHUVMBJR","U7JL1UKKL","U8CC7MDCL"],"count":3}]},{"client_msg_id":"9b0802f6-1bcb-43dc-b5c7-57f9b1508475","type":"message","text":"とはいえ gqlgen も graphql-go/graphql も panic() 前提なんですよねw","user":"U06BRP8VD","ts":"1585445280.236700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"7bmRB","elements":[{"elements":[{"text":"とはいえ gqlgen も graphql-go/graphql も panic() 前提なんですよねw","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"2b94b61f-0a03-4811-9fe8-67f6317b70b7","type":"message","text":"トップ2がこうだから頭抱えて、もうこの部分は諦めようってなった。","user":"U06BRP8VD","ts":"1585445299.237100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"cWW8J","elements":[{"elements":[{"text":"トップ2がこうだから頭抱えて、もうこの部分は諦めようってなった。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"totemoturai","users":["U9S4G0LJW","UAZ33BKV2"],"count":2}]},{"client_msg_id":"b5c4f574-3c24-4eca-8e28-ee605f70f2f5","type":"message","text":"逆に panic() や log.Fatal 使うのはメンテする気が一切ないコード。","user":"U06BRP8VD","ts":"1585445351.238000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"R/Lpa","elements":[{"elements":[{"text":"逆に panic() や log.Fatal 使うのはメンテする気が一切ないコード。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"71b7afba-4d9b-449b-82ad-59c46672c867","type":"message","text":"なにか例外的に「panic前提がアリな(デザインの)パターン」、とかあるならわかりますが、特にそういう話は聞きせませんしね...","user":"UAZ33BKV2","ts":"1585445400.238800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"xmjpA","elements":[{"elements":[{"text":"なにか例外的に「panic前提がアリな(デザインの)パターン」、とかあるならわかりますが、特にそういう話は聞きせませんしね...","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"cc48f1ba-62db-4149-a55f-add4f70dac8a","type":"message","text":"そもそもあれは例外処理に使うものではない","user":"U9S4G0LJW","ts":"1585445419.239200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"/F2d","elements":[{"elements":[{"text":"そもそもあれは例外処理に使うものではない","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b412dfd0-5734-4075-9bf1-3a1d5840728d","type":"message","text":"はず(初心者なのでよくわかってない)","user":"U9S4G0LJW","ts":"1585445429.239600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"NtPWo","elements":[{"elements":[{"text":"はず(初心者なのでよくわかってない)","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"42be0ae6-4ea8-4d94-bb10-302b6df3bd82","type":"message","text":"<https://blog.amedama.jp/entry/2015/10/11/123535> から抜粋\n\n* 外部に公開する API はエラーを伝える手段として panic() を使ってはいけない\n    * 多値の返り値 w/ error インターフェースを使うこと\n    * panic() はパッケージをまたいで伝搬させることがないようにする\n* panic/recover 機構はスタックが深くなるような呼び出しをする際に有用\n    *使用することで可読性を向上させることができる","user":"U06BRP8VD","ts":"1585445575.240100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","attachments":[{"service_name":"CUBE SUGAR CONTAINER","title":"Golang の defer 文と panic/recover 機構について - CUBE SUGAR CONTAINER","title_link":"https://blog.amedama.jp/entry/2015/10/11/123535","text":"Golang の defer 文と、それにまつわる panic/recover 機構について調べたので、その内容を書き残しておくことにする。 Golang では defer 文を使うことで、それを呼び出した関数が終了する際に実行すべき処理を記述することができる。 例えば関数の中でオープンしたリソースを確実にクローズするために使われたりする。 試してみよう まずは、シンプルなサンプルコードを使って defer 文の動作を確認してみることにする。 内容的にはメッセージを標準出力に出すということしかやっていない。 ただし、片方には defer が付いていて、もう片方には何もついていない。 コードの記…","fallback":"CUBE SUGAR CONTAINER: Golang の defer 文と panic/recover 機構について - CUBE SUGAR CONTAINER","from_url":"https://blog.amedama.jp/entry/2015/10/11/123535","service_icon":"https://cdn.blog.st-hatena.com/images/touch-icon-iphone-retina.png","id":1,"original_url":"https://blog.amedama.jp/entry/2015/10/11/123535"}],"blocks":[{"block_id":"TJlAU","elements":[{"elements":[{"type":"link","url":"https://blog.amedama.jp/entry/2015/10/11/123535"},{"text":" から抜粋\n\n* 外部に公開する API はエラーを伝える手段として panic() を使ってはいけない\n    * 多値の返り値 w/ error インターフェースを使うこと\n    * panic() はパッケージをまたいで伝搬させることがないようにする\n* panic/recover 機構はスタックが深くなるような呼び出しをする際に有用\n    *使用することで可読性を向上させることができる","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"naruhodo","users":["UAZ33BKV2","U9S4G0LJW"],"count":2}]},{"client_msg_id":"484d978c-ac85-42da-99d3-b2222765b7c0","type":"message","text":"ですよね...という所","user":"UAZ33BKV2","ts":"1585446124.241200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"0077","elements":[{"elements":[{"text":"ですよね...という所","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"3DF2A34E-ED90-4DCA-B701-ABDA5DBF807E","type":"message","text":"いまだにpanicの使い道が浮かばない","user":"UDDCM376D","ts":"1585462029.241900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"BV5","elements":[{"elements":[{"text":"いまだにpanicの使い道が浮かばない","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"d07c9b1c-8b10-434b-b549-76447309e6b4","type":"message","text":"err を返すまでもない、明らかに使い手側の問題の場合とか\n```var r = gorilla.NewReader(os.Stdin)```\nで引数には `io.Reader` だろうけど nil の場合とか。","user":"U03C6TEAZ","ts":"1585462151.243300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"2Z/","elements":[{"elements":[{"text":"err を返すまでもない、明らかに使い手側の問題の場合とか\n","type":"text"}],"type":"rich_text_section"},{"elements":[{"text":"var r = gorilla.NewReader(os.Stdin)","type":"text"}],"type":"rich_text_preformatted"},{"elements":[{"text":"で引数には ","type":"text"},{"style":{"code":true},"text":"io.Reader","type":"text"},{"text":" だろうけど nil の場合とか。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"eb12d733-be01-469b-a7ce-e62885f7d420","type":"message","text":"あとenumのつもりで宣言したものに知らない値が渡るときとか。","user":"UKHUVMBJR","ts":"1585462513.244500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"p=pA","elements":[{"elements":[{"text":"あとenumのつもりで宣言したものに知らない値が渡るときとか。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"182f7863-280a-4ca8-a680-b5d4ed883fa5","type":"message","text":"仕方なく複数の型をinterface{}で受けて想定外の型だったときとか（そもそもこれはイケてないかも）","user":"UKHUVMBJR","ts":"1585462585.246300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"soHC","elements":[{"elements":[{"text":"仕方なく複数の型をinterface{}で受けて想定外の型だったときとか（そもそもこれはイケてないかも）","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"ed9e5066-42d6-4705-966c-c6ee586102d3","type":"message","text":"実装しおわったらunreachableなところとか (ユーザーの入力ではなく未実装の場所)","user":"U7H4TJEG0","ts":"1585462609.247100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"7dQr","elements":[{"elements":[{"text":"実装しおわったらunreachableなところとか (ユーザーの入力ではなく未実装の場所)","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"3e5972f2-f359-40e1-8dd7-18bbafa9f85d","type":"message","text":"サーバの初期化部分は panic() させたりしてます\nRDB との接続部分とか","user":"UG6DF6W87","ts":"1585462721.249700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"EYj=","elements":[{"elements":[{"text":"サーバの初期化部分は panic() させたりしてます\nRDB との接続部分とか","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"4bcd1b8b-0b73-4b7e-aa5c-87db54e49400","type":"message","text":"変な状態で起動したふりをしないようにそうしてますが、他にもよい方法があるかも","user":"UG6DF6W87","ts":"1585462765.250500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"E6OH","elements":[{"elements":[{"text":"変な状態で起動したふりをしないようにそうしてますが、他にもよい方法があるかも","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"1b60564d-970b-442c-a636-5a619d0cbbf3","type":"message","text":"質問です。\n変数をひきまわす事ってあると思うんですよ。で、Cだとheaderファイルで型を宣言しますけど、goだとどうします?","user":"UEA8SS1RN","ts":"1585465153.251800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"96J","elements":[{"elements":[{"text":"質問です。\n変数をひきまわす事ってあると思うんですよ。で、Cだとheaderファイルで型を宣言しますけど、goだとどうします?","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"edited":{"user":"UEA8SS1RN","ts":"1585465175.000000"}},{"client_msg_id":"6e01aed5-13a6-4427-8af6-7933dd561632","type":"message","text":"型推論が働くから、宣言しなくて良いのか。","user":"UEA8SS1RN","ts":"1585465701.252300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"R1NL","elements":[{"elements":[{"text":"型推論が働くから、宣言しなくて良いのか。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"d2dec102-f73b-4d1d-a5f3-2a7ade74c7aa","type":"message","text":"やっぱり、レシーバーの型は宣言しないと駄目?","user":"UEA8SS1RN","ts":"1585466087.252900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"q5r+","elements":[{"elements":[{"text":"やっぱり、レシーバーの型は宣言しないと駄目?","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"c40923e4-5a16-4691-b515-608afffb1de0","type":"message","text":"特に型宣言とかグローバル変数、関数のシグネチャだけをまとめたファイルとかはあんまり作らないと思います\n// C 詳しくないので回答になってるか分かりませんが...","user":"UG6DF6W87","ts":"1585467591.255900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"Bwb","elements":[{"elements":[{"text":"特に型宣言とかグローバル変数、関数のシグネチャだけをまとめたファイルとかはあんまり作らないと思います\n// C 詳しくないので回答になってるか分かりませんが...","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"693ca58d-1d6e-462b-b7bc-e82623619f74","type":"message","text":"import 周りは python の感覚が一番近いかもしれない。","user":"U06BRP8VD","ts":"1585470468.256800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"cJdD","elements":[{"elements":[{"text":"import 周りは python の感覚が一番近いかもしれない。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"edited":{"user":"U06BRP8VD","ts":"1585470479.000000"}},{"client_msg_id":"30abaedb-b53e-416e-937d-bac2e6b0e37a","type":"message","text":"`package foo` で定義された型を利用するときは `foo.Bar` みたいに基本的に必ずパッケージ名が付くことになる。だから `import \"<http://github.com/myuser/foo|github.com/myuser/foo>\"` 的に必ず import が必要になる。ただ `abc := newBar()` みたいに型推論だけで書くこともできてしまう(newBarは同パッケージ内の別ファイルで定義していると仮定してる)ので、全ファイルにimportを書かなければいけないというわけでもない。","user":"U06BRP8VD","ts":"1585470731.260500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"7U0","elements":[{"elements":[{"style":{"code":true},"text":"package foo","type":"text"},{"text":" で定義された型を利用するときは ","type":"text"},{"style":{"code":true},"text":"foo.Bar","type":"text"},{"text":" みたいに基本的に必ずパッケージ名が付くことになる。だから ","type":"text"},{"style":{"code":true},"text":"import \"","type":"text"},{"style":{"code":true},"text":"github.com/myuser/foo","type":"link","url":"http://github.com/myuser/foo"},{"style":{"code":true},"text":"\"","type":"text"},{"text":" 的に必ず import が必要になる。ただ ","type":"text"},{"style":{"code":true},"text":"abc := newBar()","type":"text"},{"text":" みたいに型推論だけで書くこともできてしまう(newBarは同パッケージ内の別ファイルで定義していると仮定してる)ので、全ファイルにimportを書かなければいけないというわけでもない。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"d19ddea7-80b5-4999-9bdd-183be2f6802e","type":"message","text":"no matching versions for query \"latest\" ってなんだ?","user":"UEA8SS1RN","ts":"1585471308.261100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"o8Yg","elements":[{"elements":[{"text":"no matching versions for query \"latest\" ってなんだ?","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"type":"message","subtype":"channel_join","text":"<@U010Z7X704C> has joined the channel","user":"U010Z7X704C","ts":"1585479403.261800"}]
