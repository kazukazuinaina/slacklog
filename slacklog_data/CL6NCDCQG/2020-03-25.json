[{"type":"message","subtype":"channel_join","text":"<@U0108L6VC7J> has joined the channel","user":"U0108L6VC7J","ts":"1585063874.164900"},{"client_msg_id":"04445da2-1326-49d8-8802-768e9fa79688","type":"message","text":"そう言えば先日相談したスクリプト、node でやるかってやってみたのだけど、途中で実行するコマンドが TUI を起動するせいで、node から実行する方法がわからなくて結局 bash でやったw\nありすえさんの言ってた `sed -z` で改行を含むテキスト全体を1つの文字列として扱えたのでこれで行頭と行末を消せば期待する動作になった。あと行末に関しては `$(cmd)` でも消せることを知った。 ( `echo $(cmd)` とすると cmd が末尾に複数の空行出していても全部消えて echo の出す改行だけになる)\n最初は itchyny さんが教えてくれた extglob のシェル芸を使おうと思って例のワンライナーを関数にしてみたけど、shellcheck が対応していないのか該当部分でパースエラーを吐いてしまってつらかった…\n色々教えてくれた皆さんありがとうございました！","user":"U03C71D7H","ts":"1585101333.006400","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"Vox","elements":[{"elements":[{"text":"そう言えば先日相談したスクリプト、node でやるかってやってみたのだけど、途中で実行するコマンドが TUI を起動するせいで、node から実行する方法がわからなくて結局 bash でやったw\nありすえさんの言ってた ","type":"text"},{"style":{"code":true},"text":"sed -z","type":"text"},{"text":" で改行を含むテキスト全体を1つの文字列として扱えたのでこれで行頭と行末を消せば期待する動作になった。あと行末に関しては ","type":"text"},{"style":{"code":true},"text":"$(cmd)","type":"text"},{"text":" でも消せることを知った。 ( ","type":"text"},{"style":{"code":true},"text":"echo $(cmd)","type":"text"},{"text":" とすると cmd が末尾に複数の空行出していても全部消えて echo の出す改行だけになる)\n最初は itchyny さんが教えてくれた extglob のシェル芸を使おうと思って例のワンライナーを関数にしてみたけど、shellcheck が対応していないのか該当部分でパースエラーを吐いてしまってつらかった…\n色々教えてくれた皆さんありがとうございました！","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"tada","users":["U776661HA","UAZ33BKV2","U9S4G0LJW"],"count":3}]},{"client_msg_id":"5c49cd6e-87db-40e3-8d1f-b1add96b0df3","type":"message","text":"`$(cmd)` はシェル依存な香りがするw","user":"U03C6TEAZ","ts":"1585102174.007200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"0WBe","elements":[{"elements":[{"style":{"code":true},"text":"$(cmd)","type":"text"},{"text":" はシェル依存な香りがするw","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"48e2aee2-ea46-4918-a6f3-c01c9427485f","type":"message","text":"bash 固定でやるのはぜんぜんいいんだけど、アイデアを他のシェルに持っていくと死ぬ、みたいな。","user":"U03C6TEAZ","ts":"1585102206.007900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"sq1","elements":[{"elements":[{"text":"bash 固定でやるのはぜんぜんいいんだけど、アイデアを他のシェルに持っていくと死ぬ、みたいな。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"cb4bae07-b394-422d-a0b6-f69b6a4dd024","type":"message","text":"dashで効いたのでPOSIX互換だと思ってたけど、違うんでしたっけ","user":"U9S4G0LJW","ts":"1585102225.008300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"59ds","elements":[{"elements":[{"text":"dashで効いたのでPOSIX互換だと思ってたけど、違うんでしたっけ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"edited":{"user":"U9S4G0LJW","ts":"1585102240.000000"}},{"client_msg_id":"05eb3663-74d7-461b-9da9-b2a48fefc858","type":"message","text":"POSIX 互換という言葉もあいまいですしねぇ。","user":"U03C6TEAZ","ts":"1585102273.008700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"Y3YR2","elements":[{"elements":[{"text":"POSIX 互換という言葉もあいまいですしねぇ。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"5eb03998-c5b7-4fb6-99af-91d1d7f3ba99","type":"message","text":":totemoturai:","user":"U9S4G0LJW","ts":"1585102283.009000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"lTl","elements":[{"elements":[{"name":"totemoturai","type":"emoji"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b0948836-b06e-4765-a231-c51ef54c79fe","type":"message","text":"個人的にalmquist shellで使えるなら大体どこでもいけるだろうと思ってる","user":"U9S4G0LJW","ts":"1585102316.009800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"pomo","elements":[{"elements":[{"text":"個人的にalmquist shellで使えるなら大体どこでもいけるだろうと思ってる","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"7eaf77df-6a49-4f89-9a88-64221a16ea01","type":"message","text":"shで実行してもでも独自機能つかえるシェルはちょっと行儀がよくない...","user":"UAZ33BKV2","ts":"1585102324.010100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"GgPG","elements":[{"elements":[{"text":"shで実行してもでも独自機能つかえるシェルはちょっと行儀がよくない...","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"8b9aad61-6ef2-46c6-8f58-07253d2b5820","type":"message","text":"bashお前な","user":"U9S4G0LJW","ts":"1585102337.010500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"GXq","elements":[{"elements":[{"text":"bashお前な","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"5b5b82e6-6088-4e1c-9251-e74fca50a1b1","type":"message","text":"ashかあ","user":"UAZ33BKV2","ts":"1585102353.010700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"ihj","elements":[{"elements":[{"text":"ashかあ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"3cd24452-0a7c-409d-84e1-04fd7b0b57df","type":"message","text":"<https://ja.wikipedia.org/wiki/Almquist_Shell>","user":"UAZ33BKV2","ts":"1585102364.011100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"n7M","elements":[{"elements":[{"type":"link","url":"https://ja.wikipedia.org/wiki/Almquist_Shell"}],"type":"rich_text_section"}],"type":"rich_text"}],"edited":{"user":"UAZ33BKV2","ts":"1585102385.000000"}},{"client_msg_id":"4e1302e9-139b-4c0a-a45f-da510f338b9f","type":"message","text":"busyboxの組み込みがashなので、これで動けばLinuxであれば大概問題ない","user":"U9S4G0LJW","ts":"1585102391.012300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"SWMd","elements":[{"elements":[{"text":"busyboxの組み込みがashなので、これで動けばLinuxであれば大概問題ない","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b2c06d40-9f37-4eec-aa78-48409c70f3f2","type":"message","text":"Bash芸はネタ枠のつもりだった (<https://stackoverflow.com/a/3352015/1363488> だったらshellcheck通りそう)","user":"U7H4TJEG0","ts":"1585102419.012500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","attachments":[{"service_name":"Stack Overflow","title":"How to trim whitespace from a Bash variable?","title_link":"https://stackoverflow.com/a/3352015/1363488","text":"I have a shell script with this code: var=`hg st -R \"$path\"` if [ -n \"$var\" ]; then echo $var fi But the conditional code always executes, because hg st always prints at least one newline cha...","fallback":"Stack Overflow: How to trim whitespace from a Bash variable?","thumb_url":"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded","from_url":"https://stackoverflow.com/a/3352015/1363488","thumb_width":316,"thumb_height":316,"service_icon":"https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a","id":1,"original_url":"https://stackoverflow.com/a/3352015/1363488"}],"blocks":[{"block_id":"USYQ","elements":[{"elements":[{"text":"Bash芸はネタ枠のつもりだった (","type":"text"},{"type":"link","url":"https://stackoverflow.com/a/3352015/1363488"},{"text":" だったらshellcheck通りそう)","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"df4dbb3e-12c6-4b7d-9770-8745e8870ae8","type":"message","text":"cygwin の dll の rebase するのに使った記憶がある… ＞ ash","user":"U06ECBRTJ","ts":"1585102445.013300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"7Um","elements":[{"elements":[{"text":"cygwin の dll の rebase するのに使った記憶がある… ＞ ash","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"c6eadc90-ba57-48fb-982a-c622ecea6f37","type":"message","text":"ちなみにスクリプトの別の箇所で `sed -i` を使ってしまったので BSD 系だと死ぬ","user":"U03C71D7H","ts":"1585102464.013600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"6d7","elements":[{"elements":[{"text":"ちなみにスクリプトの別の箇所で ","type":"text"},{"style":{"code":true},"text":"sed -i","type":"text"},{"text":" を使ってしまったので BSD 系だと死ぬ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"d366d676-c605-4c49-822c-f41a37804aba","type":"message","text":"最後の空白取るの逆に困ることがあるんだよな…","user":"U7H4TJEG0","ts":"1585102484.014000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"Gy7Q","elements":[{"elements":[{"text":"最後の空白取るの逆に困ることがあるんだよな…","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"cb6c597e-0909-4766-b36e-8387e3db6a7b","type":"message","text":"`No newline at end of file`","user":"U8CC7MDCL","ts":"1585102534.014700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"HtA3d","elements":[{"elements":[{"style":{"code":true},"text":"No newline at end of file","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"wakaru","users":["U7B4ZD49X","U9S4G0LJW"],"count":2}]},{"client_msg_id":"0f0cd966-7368-4240-8ec8-0521b9b0e8c0","type":"message","text":"良く見た差分だ…","user":"U8CC7MDCL","ts":"1585102546.015200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"l9x+","elements":[{"elements":[{"text":"良く見た差分だ…","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"d42b3895-e88c-4595-b371-2181b13910ee","type":"message","text":"めっちゃ簡単な方法思いついた。","user":"U03C6TEAZ","ts":"1585102554.015600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"v4Imq","elements":[{"elements":[{"text":"めっちゃ簡単な方法思いついた。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"3bcff1d5-2dc5-4412-a484-3c94c715b051","type":"message","text":"コマンド置換は `foo $(bar)` みたいに別のコマンドの引数に使うので、末尾の改行は消えていた方が都合が良い場合が多いのだろう","user":"U03C71D7H","ts":"1585102557.015800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"7ZL=f","elements":[{"elements":[{"text":"コマンド置換は ","type":"text"},{"style":{"code":true},"text":"foo $(bar)","type":"text"},{"text":" みたいに別のコマンドの引数に使うので、末尾の改行は消えていた方が都合が良い場合が多いのだろう","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"f49aeaa2-1182-418a-aba7-e1b73bc850b5","type":"message","text":"```$ cat file | grep -A 999999 . | grep -B 999999 .```","user":"U03C6TEAZ","ts":"1585102569.016000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"uIO","elements":[{"elements":[{"text":"$ cat file | grep -A 999999 . | grep -B 999999 .","type":"text"}],"type":"rich_text_preformatted"}],"type":"rich_text"}]},{"client_msg_id":"9a45e5ce-871d-4077-a3d6-27e5e81a7860","type":"message","text":"1000000 行、空行がある場合は 9999999 を指定して下さい。 (こういうの thinca さんモヤモヤするの分かって言ってる)","user":"U03C6TEAZ","ts":"1585102647.017100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"FauB6","elements":[{"elements":[{"text":"1000000 行、空行がある場合は 9999999 を指定して下さい。 (こういうの thinca さんモヤモヤするの分かって言ってる)","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"8b09f102-2fbd-4a4f-b597-799d4a073cac","type":"message","text":"末尾改行は消えなさそう","user":"U03C71D7H","ts":"1585102653.017200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"mCH4F","elements":[{"elements":[{"text":"末尾改行は消えなさそう","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"09d480c0-70fc-4f00-9f5d-361ed8c806ed","type":"message","text":"$() と組み合わせる必要がある","user":"U03C71D7H","ts":"1585102668.017500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"+R4PY","elements":[{"elements":[{"text":"$() と組み合わせる必要がある","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"c810fb48-b049-4ffe-8d27-32caf0d7e5b9","type":"message","text":"trim が必要という事ですかね。","user":"U03C6TEAZ","ts":"1585102678.017700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"mhE","elements":[{"elements":[{"text":"trim が必要という事ですかね。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"53ffb8b0-a62b-4339-b0d5-1ff4d2769b3a","type":"message","text":"元々の要件が改行も含めて末尾空白を消すことだったので","user":"U03C71D7H","ts":"1585102711.018300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"D0f","elements":[{"elements":[{"text":"元々の要件が改行も含めて末尾空白を消すことだったので","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"9c73a07d-d701-4207-9de2-c70e968dde47","type":"message","text":"````cmd````\nだと、どこでも動く…？","user":"U06ECBRTJ","ts":"1585102723.018500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"E4At","elements":[{"elements":[{"text":"`cmd`","type":"text"}],"type":"rich_text_preformatted"},{"elements":[{"text":"だと、どこでも動く…？","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"edited":{"user":"U06ECBRTJ","ts":"1585102741.000000"}},{"client_msg_id":"9a52b271-c596-4e84-983b-795bf0c36d4c","type":"message","text":"shellcheckに怒られるやつだ","user":"U9S4G0LJW","ts":"1585102802.018800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"e9Slc","elements":[{"elements":[{"text":"shellcheckに怒られるやつだ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"sorena","users":["U8CC7MDCL"],"count":1}]},{"client_msg_id":"79ea330c-0cd7-4db1-936b-7162e3ab658b","type":"message","text":"昔$()打つのだるくてそのスタイルで書いてたけどshellcheckがうるさいので書き直した","user":"U9S4G0LJW","ts":"1585102854.019500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"bcm","elements":[{"elements":[{"text":"昔$()打つのだるくてそのスタイルで書いてたけどshellcheckがうるさいので書き直した","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"13c796f3-0e47-4848-9540-08132152b428","type":"message","text":"nestできない","user":"U7H4TJEG0","ts":"1585102908.020100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"GdY3S","elements":[{"elements":[{"text":"nestできない","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"naruhodo","users":["U9S4G0LJW"],"count":1}]},{"client_msg_id":"c7c71b85-31ba-41af-b51d-464f76cc1e72","type":"message","text":"私も普段遣いは $()  ですけど、ash では動かないんじゃないですかね","user":"U06ECBRTJ","ts":"1585102919.020400","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"/kp5","elements":[{"elements":[{"text":"私も普段遣いは $()  ですけど、ash では動かないんじゃないですかね","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"863dbfbf-db2c-423c-b320-7fbb23053bce","type":"message","text":"あ、動いた","user":"U06ECBRTJ","ts":"1585102971.021400","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"uDXK","elements":[{"elements":[{"text":"あ、動いた","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"27cc7b17-f39e-441b-b99e-4d017318797a","type":"message","text":"bashでしか効かないのはリダイレクト置換","user":"U9S4G0LJW","ts":"1585103013.022600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"D=H","elements":[{"elements":[{"text":"bashでしか効かないのはリダイレクト置換","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"aa7d1777-738d-4014-a29d-57be95ede9d0","type":"message","text":"`diff -u hoge &lt;(ssh huga cat hoge)` が便利で割とよく使います…","user":"U06ECBRTJ","ts":"1585103054.023500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"BSuJ","elements":[{"elements":[{"style":{"code":true},"text":"diff -u hoge <(ssh huga cat hoge)","type":"text"},{"text":" が便利で割とよく使います…","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"wakaru","users":["U7B4ZD49X","U9S4G0LJW"],"count":2}]},{"client_msg_id":"5aebae76-44b2-46ed-973e-f18c484b8f54","type":"message","text":"プロセス置換か","user":"U9S4G0LJW","ts":"1585103065.023700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"m1Fp","elements":[{"elements":[{"text":"プロセス置換か","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"0210d0bf-1d78-4993-a090-f60b5b418d15","type":"message","text":"`$(cmd)` ってたぶん引数展開してるんだと思うんですが、そうすると空白2個が空白1個に置き換えられたりしません？","user":"U03C6TEAZ","ts":"1585103100.024500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"M+a","elements":[{"elements":[{"style":{"code":true},"text":"$(cmd)","type":"text"},{"text":" ってたぶん引数展開してるんだと思うんですが、そうすると空白2個が空白1個に置き換えられたりしません？","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"ac30d888-d2a2-49df-801b-2741cc185008","type":"message","text":"```$ echo $(echo '  foo  bar  ')\nfoo bar```","user":"U03C6TEAZ","ts":"1585103120.024900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"OaC0","elements":[{"elements":[{"text":"$ echo $(echo '  foo  bar  ')\nfoo bar","type":"text"}],"type":"rich_text_preformatted"}],"type":"rich_text"}]},{"client_msg_id":"d97df963-1111-430e-a777-c15a440a1ff6","type":"message","text":"たぶん sed でちゃんとやらんとあかんかも。","user":"U03C6TEAZ","ts":"1585103233.025900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"hjPD","elements":[{"elements":[{"text":"たぶん sed でちゃんとやらんとあかんかも。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"cbc91adf-c491-4cce-b495-f48f2aeb1484","type":"message","text":"```cat foo | grep -A 999999 . | grep -B 999999 . | sed '1s/^\\s*//' | sed '$s/\\s*$//'```","user":"U03C6TEAZ","ts":"1585103391.026100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"xPrS","elements":[{"elements":[{"text":"cat foo | grep -A 999999 . | grep -B 999999 . | sed '1s/^\\s*//' | sed '$s/\\s*$//'","type":"text"}],"type":"rich_text_preformatted"}],"type":"rich_text"}]},{"client_msg_id":"817f0909-49c0-4439-8f2d-b023424b454e","type":"message","text":"(だから結局sedになったということでは)","user":"U7H4TJEG0","ts":"1585103482.026400","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"CxfG","elements":[{"elements":[{"text":"(だから結局sedになったということでは)","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"8523b625-996d-48e7-9368-a10ad7ebbaf9","type":"message","text":"&gt; ( echo $(cmd) とすると cmd が末尾に複数の空行出していても全部消えて echo の出す改行だけになる)","user":"U03C6TEAZ","ts":"1585103595.026600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"fqvk","elements":[{"elements":[{"text":"( echo $(cmd) とすると cmd が末尾に複数の空行出していても全部消えて echo の出す改行だけになる)","type":"text"}],"type":"rich_text_quote"}],"type":"rich_text"}]},{"client_msg_id":"eb8f2643-d4cd-4971-bb3f-28bac86cf5d3","type":"message","text":"あ、ここがそういう意味だったのか。","user":"U03C6TEAZ","ts":"1585103601.026800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"zOml","elements":[{"elements":[{"text":"あ、ここがそういう意味だったのか。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"3b5c34d8-134b-44fc-8d29-31592638f26e","type":"message","text":"こんなコマンドあってもよさそうなのにね。","user":"U03C6TEAZ","ts":"1585103902.027100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"7OXRk","elements":[{"elements":[{"text":"こんなコマンドあってもよさそうなのにね。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"c1ed29f0-aa9d-4fb0-b591-d088bd52cb23","type":"message","text":"言っても多分僕だと perl 使ってしまう。","user":"U03C6TEAZ","ts":"1585104063.027500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"gXo","elements":[{"elements":[{"text":"言っても多分僕だと perl 使ってしまう。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"e5eb5f55-e22e-4a9b-8b2f-a97a5c1b064a","type":"message","text":"```$ cat foo | perl -0777 -e 'my $x = &lt;&gt;; $x =~ s!^\\s*(.*?)\\s*$!$1!s; print $x'```","user":"U03C6TEAZ","ts":"1585104406.027700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"02+C","elements":[{"elements":[{"text":"$ cat foo | perl -0777 -e 'my $x = <>; $x =~ s!^\\s*(.*?)\\s*$!$1!s; print $x'","type":"text"}],"type":"rich_text_preformatted"}],"type":"rich_text"}]},{"client_msg_id":"85ecbef5-f86b-4899-bab8-281c7f738d1f","type":"message","text":"chain できる分 ruby は気持ちよさがある。","user":"U03C6TEAZ","ts":"1585104454.028000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"zxK","elements":[{"elements":[{"text":"chain できる分 ruby は気持ちよさがある。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b5676652-46bc-481a-8891-cc55adb06c91","type":"message","text":"ちょっと麻薬ぽいけどね。","user":"U03C6TEAZ","ts":"1585104469.028200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"0Nx/L","elements":[{"elements":[{"text":"ちょっと麻薬ぽいけどね。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"ffa5ae2c-9ff8-458d-b522-22c13b0696ef","type":"message","text":"あいつrubyキメてやがる","user":"U7B4ZD49X","ts":"1585104502.028900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"FwzU","elements":[{"elements":[{"text":"あいつrubyキメてやがる","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"2da4f360-0be8-4d3e-9546-c845419d7794","type":"message","text":"一度 ruby 触ると変数使ったら死ぬ病気になる。","user":"U03C6TEAZ","ts":"1585104523.029300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"f52k","elements":[{"elements":[{"text":"一度 ruby 触ると変数使ったら死ぬ病気になる。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"wakaru","users":["U7B4ZD49X"],"count":1}]},{"client_msg_id":"f70e5fd7-d971-459c-98fb-670395cbf76a","type":"message","text":"`perl -0777 -pe 's/^\\s+|\\s+$//g'`","user":"U7H4TJEG0","ts":"1585104690.029600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"brvx","elements":[{"elements":[{"style":{"code":true},"text":"perl -0777 -pe 's/^\\s+|\\s+$//g'","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"ced56f04-75b8-49e4-ac62-b2cb7154e77c","type":"message","text":"あー、たしかに","user":"U03C6TEAZ","ts":"1585104718.029800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"3HDZS","elements":[{"elements":[{"text":"あー、たしかに","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"4e929ea5-3a9b-4b2a-8f43-0f30ba4938ca","type":"message","text":"最短ぽい","user":"U03C6TEAZ","ts":"1585104745.030000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"L9rk8","elements":[{"elements":[{"text":"最短ぽい","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"5520d9d8-8ae4-4a3a-addb-8b17d69317bf","type":"message","text":"ンモー、すぐにゴルフしようとするんだからw","user":"UAZ33BKV2","ts":"1585104768.030500","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"wdVZ","elements":[{"elements":[{"text":"ンモー、すぐにゴルフしようとするんだからw","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"22a07e83-cb8d-4ef8-a1c8-4b36487ea802","type":"message","text":"vim だけで末尾改行取る場合ってどうするんでしたっけ","user":"U0M7GCBPD","ts":"1585105184.030900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"aP+t","elements":[{"elements":[{"text":"vim だけで末尾改行取る場合ってどうするんでしたっけ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b7ece986-71f4-4af9-8fb3-0a9f3f713e12","type":"message","text":"fixendofline, endofline, binary の組み合わせが全くわからん…","user":"U0M7GCBPD","ts":"1585105206.031400","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"1fUv","elements":[{"elements":[{"text":"fixendofline, endofline, binary の組み合わせが全くわからん…","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"7b1249b3-f560-4d0e-b658-bd779a689690","type":"message","text":"`\"$(cmd)\"` すれば空白維持されます","user":"U03C71D7H","ts":"1585106654.032200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"xs1g","elements":[{"elements":[{"style":{"code":true},"text":"\"$(cmd)\"","type":"text"},{"text":" すれば空白維持されます","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"84a93c6e-455d-452e-aeb0-b7b17f953a35","type":"message","text":"そうすると期待してる前後の空白が取れなくなってしまいませんか？","user":"U03C6TEAZ","ts":"1585106919.032600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"VNb1+","elements":[{"elements":[{"text":"そうすると期待してる前後の空白が取れなくなってしまいませんか？","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"fa8f9637-a8e9-48c0-a3cc-ed0844e1df8c","type":"message","text":"perl -e 'seek ARGV,-1,2; truncate $ARGV[0],(-s $ARGV[0])-1 if read(ARGV,$c,1)==\"\\n\"' /path/to/file  # 末尾改行のみ消すやつ","user":"U0M7GCBPD","ts":"1585108206.033200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"Pl+","elements":[{"elements":[{"text":"perl -e 'seek ARGV,-1,2; truncate $ARGV[0],(-s $ARGV[0])-1 if read(ARGV,$c,1)==\"\\n\"' /path/to/file  # 末尾改行のみ消すやつ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b4273c98-ced2-482f-a753-e4199ad48686","type":"message","text":"cmd が前の空白を消してくれればよいので…\n`\"$(cmd | sed -ze 's/^\\s\\+//')\"`","user":"U03C71D7H","ts":"1585113157.034000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"x0u","elements":[{"elements":[{"text":"cmd が前の空白を消してくれればよいので…\n","type":"text"},{"style":{"code":true},"text":"\"$(cmd | sed -ze 's/^\\s\\+//')\"","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"d8ec158b-2395-4f2d-9316-f97cc90b05cb","type":"message","text":"これのことですね &gt; 声\n<https://ngg223.tumblr.com/post/23417466887/ujihisa-emacs%E4%BD%BF%E3%81%84%E3%81%AE%E3%81%86%E3%81%A1%E4%B8%80%E4%BA%BA%E3%81%8C-ujihisa-%E6%9C%AC%E5%BD%93%E3%81%AB%E3%81%99%E3%81%94%E3%81%8B%E3%81%A3%E3%81%9F/amp>","user":"U03C4RC8X","ts":"1585116949.034300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"N9Ou","elements":[{"elements":[{"text":"これのことですね > 声\n","type":"text"},{"type":"link","url":"https://ngg223.tumblr.com/post/23417466887/ujihisa-emacs%E4%BD%BF%E3%81%84%E3%81%AE%E3%81%86%E3%81%A1%E4%B8%80%E4%BA%BA%E3%81%8C-ujihisa-%E6%9C%AC%E5%BD%93%E3%81%AB%E3%81%99%E3%81%94%E3%81%8B%E3%81%A3%E3%81%9F/amp"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"goodpoem","users":["U0M7GCBPD"],"count":1}]},{"client_msg_id":"02283390-71d3-4304-9c6f-c93d0dcf3123","type":"message","text":"（はい、完全にお題を無視しました）","user":"U0M7GCBPD","ts":"1585121266.034800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"0VTi","elements":[{"elements":[{"text":"（はい、完全にお題を無視しました）","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]}]
