[{"client_msg_id":"043df73f-05db-477e-92b5-f0823c263236","type":"message","text":"k-takata さんに悲しいお知らせだ。 <https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket|https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket>","user":"U03C6TEAZ","ts":"1584052156.364600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","attachments":[{"service_name":"Bitbucket","title":"Sunsetting Mercurial support in Bitbucket - Bitbucket","title_link":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket","text":"The version control software market has evolved a lot since Bitbucket began in 2008. When we launched, centralized version control was…","fallback":"Bitbucket: Sunsetting Mercurial support in Bitbucket - Bitbucket","from_url":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket","service_icon":"https://rlmr51w5rw3n7zek1m7tizzg-wpengine.netdna-ssl.com/wp-content/uploads/2017/09/cropped-android-chrome-512-1-180x180.png","id":1,"original_url":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket"}],"blocks":[{"block_id":"=FIup","elements":[{"elements":[{"text":"k-takata さんに悲しいお知らせだ。 ","type":"text"},{"text":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket","type":"link","url":"https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"55a74e3b-8d3f-4ba3-a5d0-40a3e1b0e27a","type":"message","text":"すでにosdnに移っています。","user":"U6XP9LZ6V","ts":"1584055590.365300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"z+o","elements":[{"elements":[{"text":"すでにosdnに移っています。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"otz","users":["UAZ33BKV2","U03C6TEAZ","U06BRP8VD","U7JL1UKKL"],"count":4}]},{"client_msg_id":"ac0f6ce0-4e0b-4b94-a1c3-fa524b749343","type":"message","text":"パッチのリポジトリはここです。\n<https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage>","user":"U6XP9LZ6V","ts":"1584064093.366000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","attachments":[{"service_name":"osdn.net","title":"vim-ktakata-mq Wiki - OSDN","title_link":"https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage","text":"vim-ktakata-mq Wiki #osdn","fallback":"vim-ktakata-mq Wiki - OSDN","thumb_url":"https://static.osdn.net/OSDN_icon_125x125.png","from_url":"https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage","thumb_width":125,"thumb_height":125,"service_icon":"https://osdn.net/favicon.ico","id":1,"original_url":"https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage"}],"blocks":[{"block_id":"uIc","elements":[{"elements":[{"text":"パッチのリポジトリはここです。\n","type":"text"},{"type":"link","url":"https://osdn.net/users/k_takata/pf/vim-ktakata-mq/wiki/FrontPage"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"fd345e0e-c2ba-46e2-8e3c-5659d7109084","type":"message","text":"Ruby の st に比べると khash の方が圧倒的に速かった。\n<https://gist.github.com/k-takata/25ae2df8d236764ac33a77fa69410a45>","user":"U6XP9LZ6V","ts":"1584083532.367200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"M5PkX","elements":[{"elements":[{"text":"Ruby の st に比べると khash の方が圧倒的に速かった。\n","type":"text"},{"type":"link","url":"https://gist.github.com/k-takata/25ae2df8d236764ac33a77fa69410a45"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b168de0b-797c-482b-bd75-d94445b63f49","type":"message","text":"Vimに組み込むことを考えると、文字列をキーにしたベンチマークの方がいいのだろうけど。","user":"U6XP9LZ6V","ts":"1584083581.367900","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"Ufwd","elements":[{"elements":[{"text":"Vimに組み込むことを考えると、文字列をキーにしたベンチマークの方がいいのだろうけど。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"45bf7a28-df7f-4586-9004-a8057e11d579","type":"message","text":"桁1つ違いますねえ","user":"UAZ33BKV2","ts":"1584083678.368100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"NGw","elements":[{"elements":[{"text":"桁1つ違いますねえ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"7d5f2cf6-8fa7-47f2-91c8-a2ce5b634569","type":"message","text":"肝心のVimのhashを計ってないけど、たぶんkhashの方が速いだろうねー","user":"U6XP9LZ6V","ts":"1584084261.369000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"RPp","elements":[{"elements":[{"text":"肝心のVimのhashを計ってないけど、たぶんkhashの方が速いだろうねー","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"585df97e-fbd3-42cd-96da-e6c444a1f548","type":"message","text":"khash はバケモンです。","user":"U03C6TEAZ","ts":"1584084849.369300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"4lup","elements":[{"elements":[{"text":"khash はバケモンです。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b2a7cd3e-20fd-4c69-9a6e-77cdbc8a2ef9","type":"message","text":"picohashmap の README.md にも書いた気がする。","user":"U03C6TEAZ","ts":"1584084880.369600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"eTr","elements":[{"elements":[{"text":"picohashmap の README.md にも書いた気がする。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"421ffd38-b8ef-4c02-b5d8-287b1d61856b","type":"message","text":"","user":"U03C6TEAZ","ts":"1584084888.369700","reactions":[{"name":"goodjob","users":["UAZ33BKV2"],"count":1}],"files":[{"id":"FUZ5QLT26","created":1584084884,"timestamp":1584084884,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U03C6TEAZ","editable":false,"size":5597,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FUZ5QLT26/image.png","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FUZ5QLT26/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_80.png","thumb_160":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_160.png","thumb_360":"https://files.slack.com/files-tmb/T03C4RC8V-FUZ5QLT26-1a44dd9ebd/image_360.png","thumb_360_w":324,"thumb_360_h":156,"thumb_tiny":"AwAXADDSOO5oyPUUHGOcUmV9qAFyPWjI9RSZX2oyg9KAFyPUUde9J8voKUcdBQAEZFJt46/pTqKAG7Tnr+lJsP8AeP6U+igBu3nOaWlooA//2Q==","original_w":324,"original_h":156,"permalink":"https://vim-jp.slack.com/files/U03C6TEAZ/FUZ5QLT26/image.png","permalink_public":"https://slack-files.com/T03C4RC8V-FUZ5QLT26-a460f3270e","is_starred":false,"has_rich_preview":false}],"upload":true},{"client_msg_id":"aa161ce5-409a-46a6-a16e-593154b7617a","type":"message","text":"さっきのベンチマーク、picohashmapのコードをそのまま拝借しましたｗ","user":"U6XP9LZ6V","ts":"1584085344.370800","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"1KgGt","elements":[{"elements":[{"text":"さっきのベンチマーク、picohashmapのコードをそのまま拝借しましたｗ","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"4d7c5694-5a21-49e8-a61c-2b5a45eb5649","type":"message","text":"picohashmap自体は試してないけど、mattnさんのベンチマーク結果と見比べると、stの方が若干速そう。","user":"U6XP9LZ6V","ts":"1584085484.371700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"aqA0p","elements":[{"elements":[{"text":"picohashmap自体は試してないけど、mattnさんのベンチマーク結果と見比べると、stの方が若干速そう。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"994f37fb-1c04-4d46-8262-1d679a333365","type":"message","text":"すごい","user":"U03C6TEAZ","ts":"1584085634.372000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"Sbt","elements":[{"elements":[{"text":"すごい","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"48e75fd8-995f-4fc0-9941-d91facbf77f1","type":"message","text":"khash get がどちゃくそ速いのか。","user":"U03C6TEAZ","ts":"1584085691.372300","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"NsJA5","elements":[{"elements":[{"text":"khash get がどちゃくそ速いのか。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"11a6bfa7-9be3-4b56-9fae-03d3bc616445","type":"message","text":"まぁでも改善してもそんな変わらないレベルですねここ。","user":"U03C6TEAZ","ts":"1584085727.372600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"ECFl","elements":[{"elements":[{"text":"まぁでも改善してもそんな変わらないレベルですねここ。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"c3028ea8-9cd1-429e-9e2c-7021d587c6ba","type":"message","text":"文字列をキーにすると、ちょっと差が縮まったかな。\n```&gt;khash_test\nklib hash put: 4.223000 [sec]\nklib hash get: 2.414000 [sec]\n\n&gt;st_test\nst hash put: 5.829000 [sec]\nst hash get: 3.870000 [sec]```\nputの方は `strdup` でキーをコピーするようにしたから遅くなって当然だけど、getが一気に遅くなったなー。","user":"U6XP9LZ6V","ts":"1584090421.374700","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"hwff","elements":[{"elements":[{"text":"文字列をキーにすると、ちょっと差が縮まったかな。\n","type":"text"}],"type":"rich_text_section"},{"elements":[{"text":">khash_test\nklib hash put: 4.223000 [sec]\nklib hash get: 2.414000 [sec]\n\n>st_test\nst hash put: 5.829000 [sec]\nst hash get: 3.870000 [sec]","type":"text"}],"type":"rich_text_preformatted"},{"elements":[{"text":"putの方は ","type":"text"},{"style":{"code":true},"text":"strdup","type":"text"},{"text":" でキーをコピーするようにしたから遅くなって当然だけど、getが一気に遅くなったなー。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"76b9a115-4f51-412f-919b-6ed37ebf627a","type":"message","text":"Vimのterminal、ひょっとしてたまにカーソル位置に行が存在しないケースがある？\nターミナルの存在するタブでcmdwin開いたら`E315: ml_get: 無効なlnumです: 9287` とか出てきた","user":"U9S4G0LJW","ts":"1584106084.376200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"bTBO","elements":[{"elements":[{"text":"Vimのterminal、ひょっとしてたまにカーソル位置に行が存在しないケースがある？\nターミナルの存在するタブでcmdwin開いたら","type":"text"},{"style":{"code":true},"text":"E315: ml_get: 無効なlnumです: 9287","type":"text"},{"text":" とか出てきた","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"b450234a-39f3-483d-ac99-2386810566e6","type":"message","text":"バックトレースも貼っておきます","user":"U9S4G0LJW","ts":"1584106128.376600","blocks":[{"block_id":"i5EJ","elements":[{"elements":[{"text":"バックトレースも貼っておきます","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"files":[{"id":"FVCHM325N","created":1584106126,"timestamp":1584106126,"name":"無題","title":"無題","mimetype":"text/plain","filetype":"text","pretty_type":"Plain Text","user":"U9S4G0LJW","editable":true,"size":4674,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T03C4RC8V-FVCHM325N/______","url_private_download":"https://files.slack.com/files-pri/T03C4RC8V-FVCHM325N/download/______","permalink":"https://vim-jp.slack.com/files/U9S4G0LJW/FVCHM325N/______","permalink_public":"https://slack-files.com/T03C4RC8V-FVCHM325N-4282913cf1","edit_link":"https://vim-jp.slack.com/files/U9S4G0LJW/FVCHM325N/______/edit","is_starred":false,"has_rich_preview":false}],"upload":true},{"client_msg_id":"a546dab8-12aa-4f88-bf6c-a2228e600d40","type":"message","text":"2D RPGの枠の外みたいな...","user":"UAZ33BKV2","ts":"1584106267.377100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"+GV5","elements":[{"elements":[{"text":"2D RPGの枠の外みたいな...","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}],"reactions":[{"name":"sorena","users":["U9S4G0LJW"],"count":1}]},{"client_msg_id":"c3df29db-ed76-491d-ba2e-70a859286a86","type":"message","text":"`#24`の`scroll_to_fraction`の中でカーソル位置を取ったものがlnumとして渡ってるので恐らく枠の外参照しちゃってるんだと思うんですが、別のvimで再現しようとしても上手くいかないので手詰まり","user":"U9S4G0LJW","ts":"1584106494.379000","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"4QxIx","elements":[{"elements":[{"style":{"code":true},"text":"#24","type":"text"},{"text":"の","type":"text"},{"style":{"code":true},"text":"scroll_to_fraction","type":"text"},{"text":"の中でカーソル位置を取ったものがlnumとして渡ってるので恐らく枠の外参照しちゃってるんだと思うんですが、別のvimで再現しようとしても上手くいかないので手詰まり","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"fcf63911-067d-44ab-aac7-2241724e0a42","type":"message","text":"Windows では起きなかった。","user":"U03C6TEAZ","ts":"1584109274.379200","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"=UqX","elements":[{"elements":[{"text":"Windows では起きなかった。","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"57be4fa2-c3ef-4939-b5aa-dd35d986ff00","type":"message","text":"Linuxでも何度も再現しようとしてるけど起きない","user":"U9S4G0LJW","ts":"1584109357.379600","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"vQx4","elements":[{"elements":[{"text":"Linuxでも何度も再現しようとしてるけど起きない","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]},{"client_msg_id":"12f6758f-f288-4e2f-b144-7a8f34e223e0","type":"message","text":"ここまで再現度低いなら問題ない気もするんだけどなんか気持ち悪い","user":"U9S4G0LJW","ts":"1584109377.380100","team":"T03C4RC8V","user_team":"T03C4RC8V","source_team":"T03C4RC8V","blocks":[{"block_id":"mdbtX","elements":[{"elements":[{"text":"ここまで再現度低いなら問題ない気もするんだけどなんか気持ち悪い","type":"text"}],"type":"rich_text_section"}],"type":"rich_text"}]}]
